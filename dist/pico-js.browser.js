(()=>{"use strict";var t={d:(e,r)=>{for(var i in r)t.o(r,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:r[i]})}};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),t.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),t.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var e={},r={};function i(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}t.r(r),t.d(r,{Any:()=>we,Arr:()=>y,Cookie:()=>G,Data:()=>ae,Dom:()=>ye,Element:()=>ge,Event:()=>Oe,For:()=>ve,Hash:()=>E,Locale:()=>F,Map:()=>fe,Mix:()=>P,Now:()=>be,Num:()=>m,Obj:()=>v,Route:()=>ce,Run:()=>s,Signal:()=>A,Str:()=>c,UUID:()=>Me,browser:()=>se,device:()=>oe,go:()=>ne});class n{static interval(t,e=0){const r=setInterval(()=>{t()},e);return()=>clearInterval(r)}static clear(t){return P.isArr(t)?y.each(t,t=>this.clear(t),this):P.isFunc(t)?(t(),this):(clearTimeout(t),clearInterval(t),this)}static tryin(t){try{t()}catch(t){}return this}static wait(t,e=0,r=500){let i,n;return n=setTimeout(()=>{this.clear([i,n])},e*r),i=setInterval(()=>{t()&&this.clear([n,i])},e),()=>clearInterval(i)}static frame(t,e={}){const r=requestAnimationFrame(()=>{t()});return()=>cancelAnimationFrame(r)}static async(t){const e=setTimeout(()=>{t()});return()=>clearTimeout(e)}static delay(t,e=0){let r=setTimeout(()=>{t()},e);return()=>clearTimeout(r)}static debounce(t,e=100){let r=null;return(...i)=>{r&&clearTimeout(r),r=setTimeout(()=>{this.frame(t,...i)},e)}}static throttle(t,e=100){let r,i=null;return(...n)=>{i&&clearTimeout(i),i=setTimeout(()=>{r=!1},e),r||(this.frame(t,...n),r=!0)}}static framerate(t,e=30,r=!0){let i,n=0,s=1e3/e;const o=(...e)=>{if(clearTimeout(i),Date.now()-n<=s)return r&&(i=setTimeout(o,s+1));this.frame(()=>t(...e)),n=Date.now()};return o}static framebuffer(t,e,r=1e3){const i={key:e,cb:t,priority:r,args:[],active:!1};return y.add(this.$buffer,i),(t,...e)=>{/^drag/.test(t.type)&&t.preventDefault(),v.assign(i,{args:[t,...e],active:!0}),this.runFramebuffer()}}static runFramebuffer(){if(this.$idler&&clearTimeout(this.$idler),this.$idler=setTimeout(()=>{this.runFramebuffer()},50),Date.now()-this.$timer<50)return;this.$idler&&clearTimeout(this.$idler),this.$timer=Date.now();let t=y.filter(this.$buffer,{active:!0});0!==t.length&&(t=y.sort(t,"priority"),y.each(t.reverse(),t=>{t.cb(...t.args),t.active=!1}))}}i(n,"$idler",null),i(n,"$timer",0),i(n,"$buffer",[]);const s=n;var o;function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,i)}return r}function a(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class u{static get(t,e){return P.isStr(t)||(t=P.str(t)),P.isInt(e)&&(e=P.int(e)),t.charAt(e)}static set(t,e,r=""){return P.isStr(t)||(t=P.str(t)),P.isInt(e)&&(e=P.int(e)),t.substring(0,e)+r+t.substring(e+r.length)}static replace(t,e,r=null){P.isNull(r)&&(r=t);let i=r.indexOf(e);return-1===i?t:this.set(t,i,e)}static extract(t,e,r=null){P.isNull(r)&&(r=t);let i=this.range(r,e);return null===i?null:this.slice(t,...i)}static match(t,e,r=null){let i=P.str(t).match(e);return P.isEmpty(i)?[]:P.isFunc(r)?r(i):i}static regex(t){return P.str(t).replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}static uc(t){return P.str(t).toUpperCase()}static ucfirst(t){return t.charAt(0).toUpperCase()+t.slice(1)}static lc(t){return P.str(t).toLowerCase()}static lcfirst(t){return t.charAt(0).toLowerCase()+t.slice(1)}static cc(t){return y.each(ve.slugify(t).split("-"),(t,e)=>e?this.ucfirst(t):t).join("")}static kc(t){return ve.slugify(t)}static sc(t){return ve.slugify(t).replace("-","_")}static pc(t){return y.each(ve.slugify(t).split("-"),t=>this.ucfirst(t)).join("")}static has(t,e){return-1!==this.lc(t).indexOf(this.lc(e))}static range(t,e,r=null){let i=P.str(t).indexOf(e);return-1===i?r:[i,i+e.length]}static slice(t,e,r){return P.str(t).slice(e,r)}static string(t,e="-",r=!1){return P.isEmpty(t)?e:(t=P.str(t),r?t:t.replace(/<[^>]*>?/gm,""))}static boolean(t,e="Yes",r="No",i="-"){return P.isEmpty(t)?i:P.bool(t)?e:r}static number(t,e=null,r=null,i={}){return P.isNum(t)?(null==r&&(r=F.code()),i=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach(function(e){a(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({maximumFractionDigits:12},i),null!=e&&(i.minimumFractionDigits=e,i.maximumFractionDigits=e),P.num(t).toLocaleString(r,i)):t}static integer(t,e=0,r="0"){return P.isNum(t)?(P.isInt(t)||(t=P.int(t)),t=P.int(t),e?P.str(t).padStart(e,r):P.str(t)):t}static datetime(t,e="YYYY-MM-DD HH:mm:ss",r="-"){return P.isDate(t)||(t=be.make(t)),t.valid()?t.format(e):r}static date(t,e="YYYY-MM-DD",r="-"){return this.datetime(t,e,r)}static time(t,e="HH:mm:ss",r="-"){return this.datetime(t,e,r)}static objectify(t,e="options",r=!1){return P.isRef(t)?t:("params"===e&&(t=ve.parseParams(t)),"options"===e&&(t=ve.parseOptions(t)),P.isRef(t)||(t=JSON.parse(t)),r?P.vals(t):t)}static stringify(t,e="options"){return P.isStr(t)?t:"params"===e?ve.castParams(t):"options"===e?ve.castOptions(t):JSON.stringify(t)}}a(u,"upper",(o=u).uc),a(u,"lower",o.lc),a(u,"camelcase",o.cc),a(u,"kebabcase",o.kc),a(u,"snakecase",o.sc),a(u,"pascalcase",o.pc),u.regexEscape=(...t)=>(console.warn("Str.regexEscape() is deprecated, use Str.regex() instead."),c.regex(...t)),u.humancase=(...t)=>(console.warn("Str.humancase() is deprecated, use Str.pascalcase() instead."),c.pascalcase(...t)),u.slugify=(...t)=>(console.warn("Str.slugify() is deprecated, use For.slugify() instead."),ve.slugify(...t)),u.options=(...t)=>(console.warn("Str.options() is deprecated, use For.castOptions() instead."),ve.castOptions(...t)),u.fromOptions=(...t)=>(console.warn("Str.fromOptions() is deprecated, use For.parseOptions() instead."),ve.parseOptions(...t)),u.params=(...t)=>(console.warn("Str.params() is deprecated, use For.castParams() instead."),ve.castParams(...t)),u.fromParams=(...t)=>(console.warn("Str.fromParams() is deprecated, use For.parseParams() instead."),ve.parseParams(...t)),u.filesize=(...t)=>(console.warn("Str.filesize() is deprecated, use For.filesize() instead."),ve.filesize(...t)),u.real=()=>{console.error("Str.real() is not implemented anymore.")},u.array=()=>{console.error("Str.array() is not implemented anymore.")};const c=u;function h(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,i)}return r}function d(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?h(Object(r),!0).forEach(function(e){f(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function f(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class p{static fixed(t,e=2){return P.isNum(t)||(t=P.num(t)),t.toFixed(e)}static float(t){return P.isNum(t)||(t=P.num(t)),parseFloat(t)}static int(t){return P.isNum(t)||(t=P.num(t)),parseInt(t)}static ceil(t){return P.isNum(t)||(t=P.num(t)),Math.ceil(t)}static floor(t){return P.isNum(t)||(t=P.num(t)),Math.floor(t)}static round(t){return P.isNum(t)||(t=P.num(t)),Math.round(t)}static combine(t){return y.reduce(t,(t,e)=>t+e,0)}static subtract(t){return y.reduce(t,(t,e)=>t-e,0)}static decade(t){return P.isNum(t)||(t=P.num(t)),10*Math.floor(t/10)}static matrix(t,e=10,r=[]){let i=0;for(let e=20;e>=0;e--)t>=(i=Math.pow(2,e))&&(r.push(i),t-=i);return r}static distance(t,e,r=!1){let i={lat:0,lng:0};[t,e]=[d(d({},i),t),d(d({},i),e)];let n=Math.PI*this.float(t.lat)/180,s=Math.PI*this.float(e.lat)/180,o=(this.float(t.lng)-this.float(e.lng))/180,l=this.combine([Math.sin(n)*Math.sin(s),Math.cos(n)*Math.cos(s)*Math.cos(o)]);return l=180*Math.acos(l>1?1:l)/Math.PI*60*1.1515,r?1.609344*l:l}}p.format=(t,...e)=>(console.warn("Num.format() is deprecated, use Str.number() instead."),c.number(t,e[2]||null)),p.random=(...t)=>(console.warn("Num.random() is deprecated, use Hash.number() instead."),E.number(...t));const m=p;class g{static all(t){return P.isArr(t)?t:[t]}static get(t,e,r=null){return P.isArr(t)?t&&t[e]?t[e]:r:t}static set(t,e,r){return this.splice(t,e,1,r)}static unset(t,e){return this.splice(t,e,1)}static prev(t,e,r=0){return P.isEmpty(t)||!P.isArr(t)?0:e-1<0?t.length-1:e-1}static next(t,e,r=0){return P.isEmpty(t)||!P.isArr(t)||e+1>t.length?0:e+1}static make(t,e=null){let r=new Array(t);null==e&&(e=t=>t);for(let i=0;i<t;i++)r[i]="function"==typeof e?e(i):e;return r}static has(t,e){if(!P.isPrim(e))return-1!==this.findIndex(t,e);return P.isRef(t)||(t=[t]),P.isArr(t)||(t=P.vals(t)),-1!==t.findIndex(t=>t==e)}static unique(t){let e={};for(const r of t)e[r]=!0;return P.keys(e)}static lengths(t,...e){let r=t.length;for(let t=0;t<e.length;t++)if(e[t].length!==r)return!1;return!0}static first(t,e=null){return this.get(t,0,e)}static second(t,e=null){return this.get(t,2,e)}static third(t,e=null){return this.get(t,2,e)}static last(t,e=null){return this.get(t,t.length-1,e)}static each(t,e,r=null){if(P.isObj(t))return this.eachObj(t,e,r);null==t&&(t=[]);let i=new Array(t.length);for(let r=0;r<t.length;r++)i[r]=e(t[r],r);return null!=r?r:i}static eachObj(t,e,r=null){if(P.isArr(t))return this.each(t,e,r);null==t&&(t={});let i=P.keys(t).map(r=>e(t[r],r));return null!=r?r:i}static map(t,e){let[r,i]=[P.isArr(t),P.keys(t)],n=t=>r?parseInt(t):t;for(let r of i)t[r]=e(t[r],n(r));return t}static recursive(t,e,r,i=[]){let n=t=>i=>this.recursive(i,e,r,t);return P.isArr(t)?this.map(t,n(i)):(P.isObj(t)&&(t=r(t,i)??t),i=[...this.clone(i),t],null==t||(P.isObj(t[e])&&(t[e]=n(i)(t[e])),P.isArr(t[e])&&(t[e]=this.map(t[e],n(i)))),t)}static cascade(t,e,r,i=[],n={}){if(null==t)return n;if(P.isObj(t))return this.cascade(t[r],r,cb);const s=t=>this.cascade(t[e],e,r,n[t[r]],n);return this.each(t,t=>{n[t[r]]=[...i,t[r]],s(t)}),n}static filterIndex(t,e=null){return null==t?[]:(null==e&&(e=t=>!P.isEmpty(t)),P.keys(t).filter(r=>P.isFunc(e)?e.call({},t[r],r):P.isRef(e)?this.includes(t[r],e):e===t[r]))}static filterRemove(t,e=null){if(null==t)return t;let r=this.filterIndex(t,e);return 0===r.length?t:this.splices(t,r)}static filter(t,e=null){return null==t?[]:(null==e&&(e=t=>!P.isEmpty(t)),P.vals(t).filter((r,i)=>P.isFunc(e)?e.call({},r,i):P.isRef(e)?this.includes(r,e):e===t[i]))}static findIndex(t,e=null,r=-1){if(null==t)return r;null==e&&(e=t=>!P.isEmpty(t));for(let r=0;r<t.length;r++){if(P.isFunc(e)&&e.call({},t[r],r))return r;if(P.isRef(e)&&this.includes(t[r],e))return r;if(e===t[r])return r}return r}static find(t,e=null,r=null){let i=this.findIndex(t,e);return-1===i?r:t[i]}static sort(t,e=null){return P.isFunc(e)?this.sortFunc(t,e):null!=e?this.sortDeep(t,e):this.sortPrim(t)}static sortFunc(t,e){let r=P.keys(t).sort((r,i)=>e.call({},t[r],t[i])),i=[];for(const e of r)i.push(t[e]);return i}static sortDeep(t,e){let r=t=>v.get(t,e),i=P.keys(t).sort((e,i)=>P.compare(r(t[e]),r(t[i]))),n=[];for(const e of i)n.push(t[e]);return n}static sortPrim(t){let e=P.keys(t).sort((t,e)=>P.compare(t,e)),r=[];for(const i of e)r.push(t[i]);return r}static merge(t,...e){return t.concat(...e)}static prepend(t,...e){return t.unshift(...e),t}static append(t,...e){return t.push(...e),t}static add(t,e,r=null){return null==r&&(r=e),-1!==this.findIndex(t,r)||t.push(e),t}static replace(t,e,r=null){null==r&&(r=e);let i=this.findIndex(t,r);return-1!==i&&this.splice(t,i,1),t.push(e),t}static remove(t,e,r=null){null==r&&(r=e);let i=this.findIndex(t,r);return-1===i||this.splice(t,i,1),t}static toggle(t,e,r=null){null==r&&(r=e);let i=this.findIndex(t,r);return-1===i?(t.push(e),t):(this.splice(t,i,1),t)}static insert(t,e,r){return this.splice(t,e,0,r),t}static slice(t,e,r=1){return t.slice(parseInt(e),r)}static splice(t,e,r=1,...i){return t.splice(parseInt(e),r,...i)}static splices(t,e,r=1){return this.each(e,e=>{this.splice(t,e,r)}),t}static clone(t){if(P.isPrim(t))return t;if(P.isObj(t))return v.clone(t);if(!P.isArr(t))return t;let e=new Array(t.length);for(let r=0;r<t.length;r++)e[r]=this.clone(t[r]);return e}static diff(...t){return t.reduce((t,e)=>t.filter(t=>!e.includes(t)))}static isect(...t){return t.reduce((t,e)=>t.filter(t=>e.includes(t)))}static extract(t,e){let r=new Array(t.length);for(let i=0;i<t.length;i++)r[i]=v.get(t[i],e);return r}static reduce(t,e,r){return P.vals(t).reduce(e,r)}static chunk(t,e=10){let r=[];for(let i=0;i<t.length;i+=e)r.push(t.slice(i,i+e));return r}static includes(t,e){if(P.isObj(e))return v.includes(t,e);if(!P.isArr(e))return t===e;let[r,i]=[!1,e.length];if(0===i)return!0;for(let n=0;!1===r&&n<i;n++)r||=this.has(t,e[n]);return r}static contains(t,e){let r=!0;for(let i of P.vals(e))r&&=-1!==P.vals(t).indexOf(i);return r}static matches(t,e){if(P.isObj(e))return v.matches(t,e);if(!P.isArr(t))return t===e;e=this.unique(e);let[r,i]=[!0,e.length];if(t.length!==e.length)return!1;for(let n=0;!0===r&&n<i;n++)r&&=this.has(t,e[n]);return r}}g.removeIndex=function(...t){return console.warn("Arr.removeIndex() is deprecated, use Arr.unset() instead."),this.unset(...t)},g.sortString=function(...t){return console.warn("Arr.sortString() is deprecated, use Arr.sortPrim() instead."),this.sortPrim(...t)},g.push=function(...t){return console.warn("Arr.push() is deprecated, use Arr.append() instead."),this.append(...t)},g.concat=function(...t){return console.warn("Arr.concat() is deprecated, use Arr.merge() instead."),this.merge(...t)},g.equal=function(...t){return console.warn("Arr.equal() is deprecated, use Arr.matches() instead."),this.matches(...t)},g.diffrence=function(...t){return console.warn("Arr.diffrence() is deprecated, use Arr.diff() instead."),this.diff(...t)},g.intersect=function(...t){return console.warn("Arr.intersect() is deprecated, use Arr.isect() instead."),this.isect(...t)};const y=g;class b{static keyoptim(t,e=!1,r=null){return null===r&&(r=P.isStr(t)),!r&&e&&(t=t.join(".")),r||e?t.split("."):t}static has(t,e,r=!1){if(null==t||null==e)return!1;"number"==typeof e&&(e=P.str(e));const i="string"==typeof e;if(i&&t&&void 0!==t[e])return void 0!==t[e];e=this.keyoptim(e,r,i);let[n,s,o]=[e.pop(),0,e.length];if(0===o)return void 0!==t[n];for(;null!=t&&s<o;)t=t[e[s++]];return null!=t&&void 0!==t[n]}static get(t,e,r=null,i=!1){if(null==t||null==e)return r;"number"==typeof e&&(e=P.str(e));const n="string"==typeof e;if(n&&t&&void 0!==t[e])return t[e];let s=0,o=(e=this.keyoptim(e,i,n)).length;if(0===o)return r;for(;null!=t&&s<o;)t=t[e[s++]];return null==t?r:t}static set(t,e,r,i=!1){if(null==e)return t;"number"==typeof e&&(e=P.str(e));const n="string"==typeof e;if(n&&t&&void 0!==t[e])return t[e]=r,t;if(0===(e=this.keyoptim(e,i,n)).length)return t;let s=t;for(let t,i,n=0;n<e.length;n++)t=i=String(e[n]),-1!==i.indexOf("[]")&&(t=i.replace("[]","")),null==s[t]&&(s[t]=t===i?{}:[]),t!==i&&y.insert(e,n+1,s[t].length),e.length-1===n&&(s[t]=r),s=s[t];return t}static unset(t,e,r=!1){if(null==e)return t;"number"==typeof e&&(e=P.str(e));const i="string"==typeof e;if(i&&t&&void 0!==t[e])return delete t[e],t;e=this.keyoptim(e,r,i);let[n,s,o,l]=[e.pop(),0,e.length,t];if(0===o)return t;for(;null!=l&&s<o;)l=l[e[s++]];return null==l||delete l[n],t}static empty(t,e){return P.isEmpty(this.get(t,e))}static remove(t,e){if(!P.isArr(e))return t;for(let r of e)this.unset(t,r);return t}static each(t,e,r=null){let i={};for(let r of P.keys(t))i[r]=e(t[r],r);return null!=r?r:i}static map(t,e){for(let r of P.keys(t))t[r]=e(t[r],r);return t}static filterIndex(t,e=null){return y.filterIndex(t,e)}static filter(t,e=null){let r={};for(let i of this.filterIndex(t,e))r[i]=t[i];return r}static flatten(t,e="",r={}){if("object"!=typeof t)return r[e]=t;""!==e&&(e+=".");for(let i of P.keys(t))this.flatten(t[i],e+i,r);return r}static flattenForm(t,e="",r={}){if("object"!=typeof t)return r[e]=t;let i=t=>e?`${e}[${t}]`:t;for(let e of P.keys(t))this.flattenForm(t[e],i(e),r);return r}static unpack(t,e={}){return y.each(P.keys(t),r=>{this.set(e,r,t[r])}),e}static assign(...t){return Object.assign(...t)}static clone(t,e=null){if(P.isPrim(t))return t;if(P.isArr(t))return y.clone(t);if(!P.isObj(t))return t;let r={};for(let e of P.keys(t))r[e]=this.clone(t[e]);return null!=e?this.assign(r,e):r}static pluck(t,e,r=null){let i=this.get(t,e,r);return this.unset(t,e),i}static only(t,e,r=null){let i={};return this.each(t,(t,r)=>{y.has(e,r)&&(i[r]=t)}),null==r?i:this.assign(i,r)}static except(t,e,r=null){let i={};return this.each(t,(t,r)=>{y.has(e,r)||(i[r]=t)}),null==r?i:this.assign(i,r)}static includes(t,e){if(P.isArr(e))return y.includes(t,e);if(!P.isObj(e))return t===e;let r=P.keys(e),[i,n]=[!0,r.length];for(let s=0;!0===i&&s<n;s++)i=this.includes(t[r[s]],e[r[s]]);return i}static matches(t,e){if(P.isArr(e))return y.matches(t,e);if(!P.isObj(t))return t===e;let r=y.unique([...P.keys(e),...P.keys(t)]),[i,n]=[!0,r.length];for(let s=0;!0===i&&s<n;s++)i&&=this.matches(t[r[s]],e[r[s]]);return i}static sort(t,e){let r=P.keys(t);P.isFunction(e)&&(r=r.sort((r,i)=>e.call({},t[r],t[i]))),P.isFunction(e)||(r=r.sort((r,i)=>P.integer(this.get(t[r],e))-P.integer(this.get(t[i],e))));let i=[];return y.each(r,(e,r)=>{t[e]._key=e,i[r]=t[e]}),i}static sortString(t,e){let r=P.keys(t);P.isFunction(e)||(r=r.sort((r,i)=>{let n=P.string(this.get(t[r],e)).toLowerCase(),s=P.string(this.get(t[i],e)).toLowerCase();return n<s?-1:n>s?1:0}));let i=[];return y.each(r,(e,r)=>{t[e]._key=e,i[r]=t[e]}),i}}b.values=(...t)=>(console.warn("Obj.values() is deprecated, use Mix.vals() instead."),P.vals(...t)),b.find=(...t)=>(console.warn("Obj.find() is deprecated, use Arr.find() instead."),y.find(...t)),b.findIndex=(...t)=>(console.warn("Obj.findIndex() is deprecated, use Arr.findIndex() instead."),y.findIndex(...t));const v=b;var w;function O(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const M={iso:/^\d{4}-\d{2}-\d{2}[T\s]\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|[+-]\d{2}:\d{2})$/};class D{static isEmpty(t){return null==t||("string"==typeof t?""===t:"number"!=typeof t&&("boolean"!=typeof t&&(this.isArr(t)?0===t.length:0===this.len(t))))}static isNull(t){return null===t}static isUndef(t){return void 0===t}static isNix(t){return null==t}static isPrim(t){return"string"==typeof t||"number"==typeof t}static isStr(t){return"string"==typeof t}static isNum(t){return"number"==typeof t||!!this.isStr(t)&&/^-?[0-9]+(\.[0-9]+)?$/.test(t)}static isInt(t){return!!this.isNum(t)&&(this.isStr(t)?/^-?[0-9]+$/.test(t):parseInt(t)===parseFloat(t))}static isBool(t){return"boolean"==typeof t||!!this.isStr(t)&&/^(true|false)$/.test(t)}static isFunc(t){return"function"==typeof t}static isRef(t){return null!=t&&"object"==typeof t}static isObj(t){return null!=t&&("object"==typeof t&&t.constructor===Object)}static isArr(t){return null!=t&&("object"==typeof t&&t.constructor===Array)}static isIter(t){return!this.isArr(t)&&(!!this.isRef(t)&&this.isFunc(t.entries))}static isIsoDate(t){return t instanceof Date||M.iso.test(t)}static isDate(t){return t instanceof Date||/^\d{4}-\d{2}-\d{2}$/.test(t)}static isTime(t){return t instanceof Date||/^\d{2}:\d{2}:\d{2}$/.test(t)}static isEqual(t,e){return t instanceof Node?t.isEqualNode(e):this.isRef(t)?Object.is(t,e):t===e}static iter(t){if(null==t)return{};let e={};for(const[r,i]of t.entries())e[r]=i;return e}static keys(t){return null==t?[]:(this.isFunc(t.toJSON)&&(t=t.toJSON()),this.isIter(t)&&(t=this.iter(t)),Object.keys(t))}static vals(t){if(null==t)return[];if(this.isFunc(t.toJSON)&&(t=t.toJSON()),this.isIter(t)&&(t=this.iter(t)),this.isArr(t)||!ne().chrome)return Object.values(t);let e=this.keys(t);for(let r=0;r<e.length;r++)e[r]=t[e[r]];return e}static nodes(t){return Array.prototype.slice.call(t)}static props(t,e=[]){let r={};for(const i of Object.getOwnPropertyNames(t))e.length&&!y.has(e,i)&&(r[i]=t[i]);return r}static extend(t,e,r=["constructor"]){if(null==e)return{};let i=Object.getPrototypeOf(e);for(const n of Object.getOwnPropertyNames(e)){if(!r.length||y.has(r,n))continue;let s=Object.getOwnPropertyDescriptor(i,n);s||(s=Object.getOwnPropertyDescriptor(e,n)),s||s.get||s.set||(t[n]=e[n]),s&&(s.get||s.set)&&Object.defineProperty(t,n,s)}return t}static class(t,e=[]){return e=y.merge(e,["length","name","prototype","constructor"]),this.props(t,e)}static proto(t,e=[]){return e=y.merge(e,["constructor"]),this.props(t.prototype,e)}static form(t){let e=new FormData;return v.each(v.flattenForm(t),(t,r)=>{e.append(r,t)}),e}static each(t,e){if(!this.isRef(t))throw new Error("Iterate non object");for(let r of P.keys(t))e(t[r],r);return this}static len(t){return this.isArr(t)?t.length:this.isRef(t)?this.keys(t).length:this.string(t).length}static compare(t,e){return F.collator().compare(t,e)}static null(t,e=null){return"null"===t||this.isEmpty(t)?null:e}static arr(t){return this.isArr(t)?t:this.isStr(t)?(t=t.replace(/^@?\[?(.*?)]$/g,"$1"),y.each(t.split(","),t=>t.replace(/(^"|^'|'$|"$)/g,""))):[t]}static str(t){return this.isNix(t)||void 0===t.toString?String(t):t.toString()}static num(t,e=NaN){return this.isPrim(t)?(this.isStr(t)&&(t=parseFloat(t)),t):e}static int(t,e=NaN){return this.isPrim(t)?(this.isStr(t)&&(t=parseFloat(t)),Math.round(t)):e}static bool(t){return this.isRef(t)?!!this.vals(t).length:this.isNum(t)?0!==this.num(t):/^(true|yes)$/i.test(t)}}O(D,"isPrimitive",(w=D).isPrim),O(D,"isString",w.isStr),O(D,"isNumber",w.isNum),O(D,"isInteger",w.isInt),O(D,"isBoolean",w.isBool),O(D,"isFunction",w.isFunc),O(D,"isReference",w.isRef),O(D,"isObject",w.isObj),O(D,"isArray",w.isArr),O(D,"isIterable",w.isIter),O(D,"length",w.len),O(D,"array",w.arr),O(D,"string",w.str),O(D,"number",w.num),O(D,"integer",w.int),O(D,"boolean",w.bool),D.global=function(...t){return console.warn("Mix.global() is deprecated, use go() instead."),ne(...t)},D.isPlain=function(...t){return console.warn("Mix.isPlain() is deprecated, use Mix.isObj() instead."),P.isObj(...t)},D.float=function(...t){return console.warn("Mix.float() is deprecated, use Mix.num() instead."),P.num(...t)},D.delay=function(...t){return console.warn("Mix.delay() is deprecated, use Run.delay() instead."),s.delay(...t)},D.async=function(...t){return console.warn("Mix.async() is deprecated, use Run.async() instead."),s.async(...t)},D.debounce=function(...t){return console.warn("Mix.debounce() is deprecated, use Run.debounce() instead."),s.debounce(...t)},D.throttle=function(...t){return console.warn("Mix.throttle() is deprecated, use Run.throttle() instead."),s.throttle(...t)},D.framerate=function(...t){return console.warn("Mix.framerate() is deprecated, use Run.framerate() instead."),s.framerate(...t)},D.convertString=function(...t){return console.warn("Mix.convertString() is deprecated, use Str.string() instead."),c.string(...t)},D.convertDatetime=function(...t){return console.warn("Mix.convertDatetime() is deprecated, use Str.date() instead."),c.date(...t)},D.convertBool=function(...t){return console.warn("Mix.convertBool() is deprecated, use Str.boolean() instead."),c.boolean(...t)},D.convertBoolean=function(...t){return console.warn("Mix.convertBoolean() is deprecated, use Str.boolean() instead."),c.boolean(...t)};const P=D;const j=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","A","B","C","D","E","F"],k=["8","9","a","b"],$=["@","#","$","%","^","&","*","(",")","_","+","-","=","[","]","{","}",";",":",",",".","/","<",">","?"];class x{static radix(t=60,e=null){return(e||this.RADIX)[this.number(t-1)]}static number(t=1024,e=0){return Math.floor(Math.random()*(t-e+1))+e}static make(t=6,e=62,r={}){let i="";for(let r=0;r<t;r++)i+=this.radix(e);for(const t of Object.keys(r))i=c.set(i,t,r[t]);return i}static uuid(t=4){let e="";for(let t=0;t<31;t++)e+=15===t?this.radix(k.length,k):this.radix(j.length,j);return e.substring(0,8)+"-"+e.substring(8,12)+"-"+t+e.substring(12,15)+"-"+e.substring(15,19)+"-"+e.substring(19,31)}static password(t=24,e=null){let r=[...this.RADIX,...e||$],i="";for(let e=0;e<t;e++)i+=this.radix(r.length,r);return i}}var S,N,Y;S=x,Y=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],(N=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(N="RADIX"))in S?Object.defineProperty(S,N,{value:Y,enumerable:!0,configurable:!0,writable:!0}):S[N]=Y;const E=x;class T{static bind(t,e,r={},i=!1){return P.isArr(t)?y.each(t,t=>this.bind(t,...arguments),this):(P.isPrim(r)&&(r={id:r}),this.$events=y.append(this.$events,{event:t,cb:e,options:r,paused:i}),this)}static unbind(t,e={}){return P.isArr(t)?y.each(t,t=>this.unbind(t,...arguments),this):(P.isPrim(e)&&(e={id:e}),y.remove(this.$events,{event:t,options:e}),this)}static fire(t,...e){let r=this.$events.filter(e=>e.event===t);return y.each(r,t=>{t.paused||t.cb.call({},...e)}),this}static pause(t,e={}){if(P.isArr(t))return y.each(t,t=>this.pause(t,...arguments),this);let r=y.find(this.$events,{event:t,options:e});return null!=r&&(r.paused=!0),this}static unpause(t,e={}){if(P.isArr(t))return y.each(t,t=>this.pause(t,...arguments),this);let r=y.find(this.$events,{event:t,options:e});return null!=r&&(r.paused=!1),this}}!function(t,e,r){(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(T,"$events",[]);const A=T;function I(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class H{static has(t=void 0){return void 0===t||P.has(H.$text,t)}static get(t=void 0,e=null){return void 0===t?H.$text:v.get(H.$text,t,e)}static set(t=void 0,e=void 0){return void 0===e?H.$text=t:v.set(H.$text,t,e)}static code(t=null){return P.isNull(t)?P.isNull(F.$code)?(F.$code=(navigator.language||"en-US").replace(/-[A-Z]+$/,""),F.$code):F.$code:F.$code=t}static collator(){return P.isNull(F.$sort)?(F.$sort=new Intl.Collator(F.code(),{numeric:!0,sensitivity:"base"}),F.$sort):F.$sort}static replace(t,e=null){return null==e||v.each(e,(e,r)=>{t=t.replace(new RegExp(":"+r,"g"),e)}),t}static trans(t,e=null){return t=v.get(H.$text,t,t),F.replace(t,e)}static choice(t,e=0,r={}){return t=v.get(H.$text,t,t),void 0===r.count&&(r.count=e),t=F.countpick(t.split("|"),e),F.replace(t,r)}static countpick(t,e){let r=t.length;return 3===r&&0===e?t[0]:3===r&&1===e?t[1]:3===r&&e>=2?t[2]:2===r&&1===e?t[0]:2===r&&1!==e?t[1]:t[0]}}I(H,"$text",{}),I(H,"$sort",null),I(H,"$code","en");const F=H;function C(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,i)}return r}function L(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?C(Object(r),!0).forEach(function(e){R(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function R(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const W={entry:/(?<=^|;)\s*(?<key>.*?)\s*=\s*(?<value>[^;$]+)/g};class B{static global(){return null==globalThis.document?"":globalThis.document.cookie||""}static parse(t=!1){if(!t&&this.$cookie)return this.$cookie;this.$cookie={};let e=this.global().matchAll(W.entry);if(null==e)return this.$cookie;return y.each(Array.from(e),({groups:t})=>{this.$cookie[t.key]=t.value.replaceAll("{:}",";")}),this.$cookie}static get(t,e=null,r="string"){return this.$cookie||this.parse(),null==this.$cookie[t]?e:/^bool(ean)?$/.test(r)||/^num(ber)?$/.test(r)||/^int(eger)?$/.test(r)?P.bool(this.$cookie[t]):/^obj(ext)?$/.test(r)?ve.parseOptions(this.$cookie[t]):P.str(this.$cookie[t])}static set(t,e,r=null,i={}){this.$cookie||this.parse(),r instanceof be||(r=be.make(r||"+7 days")),i=L({expires:r.toUTC(),path:"/"},i),P.isRef(e)&&(e=ve.castOptions(e,!1)),null!=e&&(this.$cookie[t]=e);let n=t+"="+P.str(e).replaceAll(";","{:}");return y.each(i,(t,e)=>{n+=`;${e}=${t}`}),globalThis.document.cookie=n,this}static forget(t,e={}){e=L({expires:"Thu, 01 Jan 1970 00:00:01 GMT",path:"/"},e),this.$cookie[t]&&delete this.$cookie[t];let r=`${t}=null`;return y.each(e,(t,e)=>{r+=`;${e}=${t}`}),globalThis.document.cookie=r,this}}R(B,"$cookie",null);const G=B;class q{static filterNodes(t,e=1){return y.filter(P.nodes(t),t=>t.nodeType===e)}static getNodePoint(t){t.touches;let[e,r]=[null,[t.clientX,t.clientY]];return null!=ye.doc().elementsFromPoint&&(e=document.elementsFromPoint(r[0],r[1])),null!=ye.doc().msElementsFromPoint&&(e=document.msElementsFromPoint(r[0],r[1])),e}static getNodeEvent(t,e={}){let r=e.srcElement;null==r&&(r=e.target);let{type:i}=e;return/^(drag[a-z]*|drop$)/.test(i)&&(r=ye.getNodePoint(e)),P.isArr(r)&&(r=y.first(r)),null==r&&(r=e.target),r.closest(t)}}class X{static _constructFinder(t){return"string"==typeof t&&(t=document.querySelectorAll(t)),t instanceof NodeList&&(t=P.nodes(t)),t}getNodeType(t=-1){return this.el?this.el.nodeType:t}getNodeParent(t=null){return this.el?ye.find(this.el.parentNode):t}getNodePrev(t=null){return this.el?ye.find(this.el.previousSibling):t}getNodeNext(t=null){return this.el?ye.find(this.el.nextSibling):t}getNodeChilds(t=-1,e=[]){if(!this.el)return e;let r=P.nodes(this.el.childNodes);return-1===t?r:y.filter(r,e=>e.nodeType===t)}sanatize(t=1){return this.els=ye.filterNodes(this.els,t),this}filter(t){return"function"!=typeof t&&(t=e=>ye.find(e).is(t)),y.filter(this.els,t)}except(t){return"function"!=typeof t&&(t=e=>!ye.find(e).is(t)),y.filter(this.els,t)}find(t){if(null==this.el)return ye.find(null);let e=this.el;e instanceof Window&&(e=document.body);let r=t;return P.isStr(r)&&(r=e.querySelectorAll(t)),ye.find(r)}get(t=-1){let e=this.els;return-1===t?e:y.get(e,t)}first(t=0){return this.get(t)}last(t=1){return y.get(this.els,this.els.length-t)}each(t){return y.each(this.els,t)}loopParent(t,e=null){null==e&&(e=ye.win());for(let r=this.el;r&&r!==e;r=r.parentNode)t.call({},r);return this}parent(){let t=this.getNodeParent();return null==t?ye.find(null):t}child(t=null,e=1){for(let r of this.childs(t,e))return ye.find(r);return ye.find(null)}childs(t=null,e=1){let r=this.getNodeChilds(e);return null==t?r:y.filter(r,e=>ye.find(e).is(t))}closest(t){if(this.el===t)return this.el;for(let e=this;null!=e.el;e=e.getNodeParent())if(e.is(t))return e.el;return null}upnode(t){return ye.find(this.closest(t))}prev(t=1){let e=this.getNodePrev();for(;null!=e;e=e.getNodePrev())if(e.getNodeType()===t)return ye.find(e);return ye.find(null)}next(t=1){let e=this.getNodeNext();for(;null!=e;e=e.getNodeNext())if(e.getNodeType()===t)return ye.find(e);return ye.find(null)}length(){return this.els.length}is(t,e=!1){if(this.el===t)return!0;if(null==this.el)return e;for(let e of this.parent().find(t).get())if(e===this.el)return!0;return!1}matches(t){if(this.el===t)return!0;if(null==this.el)return!1;for(let e of this.find(t).get())if(e===this.el)return!0;return!1}empty(){return this.length()<1||null==this.el}visible(){return null!=this.el&&this.el.is(":visible")}above(t){return this.parent().is(t)}inside(t){return null!=this.closest(t)}contains(t){return this.el.contains(t)}}X.prototype.isParent=function(...t){return console.warn("Dom.isParent() is deprecated, use Dom.above() instead."),this.above(...t)},X.prototype.previous=function(){return console.warn("Dom.previous() is deprecated, use Dom.prev() instead."),this.prev()},X.prototype.where=function(...t){return console.warn("Dom.where() is deprecated, use Dom.filter() instead."),this.filter(...t)},X.prototype.not=function(...t){return console.warn("Dom.not() is deprecated, use Dom.except() instead."),this.except(...t)},X.prototype.getNot=()=>{console.error("Dom.getNot() is not implemented anymore.")};class z{}class U{value(t=void 0){return void 0===t?this.el.value:(this.each(e=>{e.value=t}),this)}}class V{}!function(t,e,r){(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(V,"$events",[]);class _{bind(t,e,r,i=null,n=!1,s={}){return P.isPrim(s)&&(s={id:s}),ye.$events=y.append(ye.$events,{el:t,event:e,cb:r,selector:i,pause:n,options:s}),t.addEventListener(e,r,s),this}unbind(t,e,r=null,i={}){P.isPrim(i)&&(i={id:i});let n=y.filterIndex(ye.$events,{el:t,event:e,selector:r,options:i});if(0===n.length)return;return y.each(n.reverse(),r=>{var i;t.removeEventListener(...(i=ye.$events[r],[e,i.cb,i.options]))}),y.splices(ye.$events,n),this}on(t,e,r={},i=!1,n=null){P.isPrim(r)&&(r={id:r});let s=t=>{e.call(t.target,t,t.target)};return this.each(e=>{this.bind(e,t,s,n,i,r)}),this}off(t,e=null,r={}){return P.isPrim(r)&&(r={id:r}),P.isObj(e)&&(r=e,e=null),this.each(i=>{this.unbind(i,t,e,r)}),this}optoff(t={}){return s.async(()=>{y.filterRemove(ye.$events,{options:t})}),this.each(t=>{t&&t.removeAllListeners()}),this}once(t,e,r={}){return r.id=E.make(24),this.on(t,i=>{e(i),this.off(t,r)},r),this}live(t,e,r,i={},n=!1){return this.on(t,function(t){let i=ye.getNodeEvent(e,t);null!=i&&r.call({},t,i)},i,n,e),this}fire(t,e={}){let r=new CustomEvent(t,{detail:e});return this.each(t=>{t.dispatchEvent(r)}),this}pointerdown(t=1){const e=this.rect(),[r,i]=[e.left+e.width/2,e.top+e.height/2],n=new PointerEvent("pointerdown",{view:window,bubbles:!0,cancelable:!0,buttons:1,clientX:r,clientY:i});return this.each(t=>{t.dispatchEvent(n)}),this}}_.prototype.one=function(...t){return console.warn("Dom.one() is deprecated, use Dom.once() instead."),this.once(...t)},_.prototype.delayed=function(){console.error("Dom.delayed() is not implemented anymore.")},_.prototype.pause=function(){console.error("Dom.pause() is not implemented anymore.")},_.prototype.unpause=function(){console.error("Dom.unpause() is not implemented anymore.")};class J{static make(t,e={}){t instanceof ye&&(t=t.el),P.isStr(t)&&(t=document.createElement(t)),t=v.assign(t,e);let r=new ye(t);return e.class&&r.class(e.class),e.html&&r.html(e.html),r}}class K{prepend(t){return this.each(e=>{null!=e.prepend&&e.prepend(t)}),this}prependTo(t){return ye.find(t).each(t=>{null!=t.prepend&&t.prepend(this.el)}),this}append(t){return this.each(e=>{null!=e.append&&e.append(t)}),this}appendTo(t){return ye.find(t).each(t=>{null!=t.append&&t.append(this.el)}),this}replace(t){return this.parent().each(el,e=>{e.insertBefore(t,e),e.removeChild(e)}),this}}class Z{static getDomState(){return document.readyState}static isDomReady(){return"complete"===ye.getDomState()}static isDomComplete(){let t=ye.getDomState();return"complete"===t||"interactive"===t}static ready(t,e=0,r=6e3){let[i,n,o]=[E.make(),ye.find(document),"DOMContentLoaded"],l=()=>{s.delay(t,e),n.off(o,null,{id:i})},a=ye.isDomReady;return a()?(s.wait(()=>{if(a())return l(),!0},10,r),this):(n.on(o,l,{id:i}),this)}static complete(t,e=0,r=6e3){let i=()=>{s.delay(t,e)},[n,o]=[ye.find(document),"load"],l=ye.isDomComplete;return l()?(s.wait(()=>{if(l())return i(),!0},10,r),this):(n.on(o,i),this)}}Z.required=()=>{console.error("Dom.required() is not implemented anymore.")};class Q{isNodeComplete(){return null!=this.el&&(!!this.el.naturalWidth||(!!this.el.naturalHeight||!!this.el.complete))}loaded(t,e=6e3){if(!this.el)return this;let r=this.isNodeComplete;return s.wait(()=>{if(r.call(this))return t(),!0},10,e),this}}function tt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,i)}return r}function et(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?tt(Object(r),!0).forEach(function(e){rt(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tt(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function rt(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class it{static num(t){return"string"==typeof t&&(t=t.replace(/(^\s+|\s$|px)/g,"")),P.num(t,0)}}class nt{rect(t={left:0,top:0,width:0,height:0}){if(!this.el.getBoundingClientRect)return t;const e=this.el.getBoundingClientRect();return null==e?t:e.toJSON()}margin(t=null,e=0){let r=this.computed(),i={top:ye.num(r.marginTop),right:ye.num(r.marginRight),bottom:ye.num(r.marginBottom),left:ye.num(r.marginLeft)};return null==t?i:v.get(i,t,e)}padding(t=null,e=0){let r=this.computed(),i={top:ye.num(r.paddingTop),right:ye.num(r.paddingRight),bottom:ye.num(r.paddingBottom),left:ye.num(r.paddingLeft)};return null==t?i:v.get(i,t,e)}height(){return null==this.el?0:this.el instanceof Window?this.el.innerHeight:this.el.offsetHeight}clientHeight(){return null==this.el?0:ye.num(this.computed("height",0))}scrollHeight(){return null==this.el?0:this.el.scrollHeight}innerHeight(){if(null==this.el)return 0;if(this.el instanceof Window)return this.el.innerHeight;let t=this.padding();return this.el.offsetHeight-t.top-t.bottom}realHeight(t={}){let e="auto";return this.actual(()=>e=this.height(),t),e}evaluateHeight(t=null,e=!0){null===(t=ye.find(t))&&(t=this.parent());let r="auto";return this.actual(()=>{r=t.innerHeight()},{display:"none"}),!0===e&&this.style({height:r+"px"}),r}width(){return null==this.el?0:this.el instanceof Window?this.el.innerWidth:this.el.offsetWidth}clientWidth(){return null==this.el?0:ye.num(this.computed("width",0))}scrollWidth(){return null==this.el?0:this.el.scrollWidth}innerWidth(){if(null==this.el)return 0;if(this.el instanceof Window)return this.el.innerWidth;let t=this.padding();return this.el.offsetWidth-t.left-t.right}realWidth(t={}){let e="auto";return this.actual(()=>e=this.width(),t),e}evaluateWidth(t=null,e=!0){null===(t=ye.find(t))&&(t=this.parent());let r="auto";return this.actual(()=>{r=t.innerWidth()},{display:"none"}),!0===e&&this.style({width:r+"px"}),r}offset(t=null,e=null){let r=this.getOffset(e);return null==t?r:v.get(r,t,0)}offsetTop(t=null){return this.offset("top",t)}offsetBottom(t=null){return this.offset("bottom",t)}offsetLeft(t=null){return this.offset("left",t)}offsetRight(t=null){return this.offset("right",t)}loopOffset(t,e=null){null==e&&(e=ye.body());for(let r=this.el;r&&r!==e;r=r.offsetParent)t.call({},r);return this}calcOffset(t,e,r){let i={right:ye.body().scrollWidth-t.left-e,bottom:ye.body().scrollHeight-t.top-r};return et(et({},t),i)}getOffset(t=null){null==t&&(t=ye.body());let e,r={top:0,left:0,bottom:0,right:0};if(null==this.el)return r;e=t=>{r.top+=ye.num(t.offsetTop,0),r.left+=ye.num(t.offsetLeft,0)},this.loopOffset(e),r=this.calcOffset(r,this.width(),this.height());let i=ye.find(t),n={top:0,left:0,bottom:0,right:0};return e=t=>{n.top+=ye.num(t.offsetTop,0),n.left+=ye.num(t.offsetLeft,0)},i.loopOffset(e),n=this.calcOffset(n,i.scrollWidth(),i.scrollHeight()),{top:r.top-n.top,bottom:r.bottom-n.bottom,left:r.left-n.left,right:r.right-n.right}}scroll(t=null,e=null){let r=this.getScroll(e);return null==t?r:v.get(r,t,0)}scrollTop(t=null,e=null){return null==t?this.scroll("top",e):(this.each(e=>{e.scrollTop=t}),this)}scrollLeft(t=null,e=null){return null==t||this.each(e=>{e.scrollLeft=t}),this.scroll("left",e)}getScroll(t=null){null==t&&(t=ye.win());let e,r={top:0,left:0};if(null==this.el)return r;e=t=>{r.top+=ye.num(t.scrollTop||t.pageYOffset||0),r.left+=ye.num(t.scrollLeft||t.pageXOffset||0)},this.loopParent(e);let i={top:0,left:0};return e=t=>{i.top+=ye.num(t.scrollTop||t.pageYOffset||0),i.left+=ye.num(t.scrollLeft||t.pageXOffset||0)},ye.find(t).loopParent(e),{top:r.top-i.top,left:r.left-i.left}}}nt.prototype.loopOffsetParent=function(...t){return console.warn("Dom.loopOffsetParent() is deprecated, use Dom.loopOffset() instead."),this.loopOffset(...t)},nt.prototype.scrollTopGlobal=function(){return console.warn("Dom.scrollTopGlobal() is deprecated, use Dom.scroll('top') instead."),this.scroll("top",null)},nt.prototype.scrollLeftGlobal=function(){return console.warn("Dom.scrollLeftGlobal() is deprecated, use Dom.scroll('left') instead."),this.scroll("left",null)};function st(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,i)}return r}function ot(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?st(Object(r),!0).forEach(function(e){lt(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):st(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function lt(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class at{}class ut{attr(t,e=void 0,r=null){if(null==this.el)return e?this:r;let i=this.el.getAttribute(t);return P.isUndef(e)?i||r:null===e?(this.el.removeAttribute(t),i):(P.isArr(e)&&(e=e.join(" ")),P.isObj(e)&&(e=ve.castOptions(e)),this.el.setAttribute(t,e),this)}data(t,e=void 0,r=null){return this.attr("data-"+t,e,r)}computed(t=null,e=null){if(null==this.el)return e;if(1!==this.getNodeType())return e;let r=getComputedStyle(this.el);return null==t?r:v.get(r,t,e)}style(t=void 0,e=!0){if(null==this.el)return this;if(null===t)return this.attr("style",null);let r=this.attr("style",void 0,{});return P.isStr(r)&&(r=ve.parseOptions(r)),P.isUndef(t)?r:(e&&(t=ot(ot({},r),t)),t.translate&&(t.transform=`translate3d(${t.translate.join(",")}, 0)`),delete t.translate,P.isNum(t.top)&&(t.top+="px"),P.isNum(t.left)&&(t.left+="px"),P.isNum(t.width)&&(t.width+="px"),P.isNum(t.height)&&(t.height+="px"),this.attr("style",t),this)}class(t=void 0,e=!1){if(null==this.el)return this;if(null===t)return this.attr("class","");let r=this.attr("class",void 0,[]);return P.isStr(r)&&(r=r.split(" ")),P.isUndef(t)?r:(e&&(t=[...r,...t]),this.attr("class",t),this)}html(t=void 0){return void 0===t?this.el.innerHTML:(this.each(e=>{e.innerHTML=t}),this)}actual(t,e=null){let r=this.attr("style");this.style(e);let i=t(this.el,this.el);return this.attr("style",r),i}hasClass(t){return P.isArr(t)||(t=[t]),y.isect(this.class(),t).length>0}addClass(t){if(null==this.el)return this;if(this.els.length>1)return this.each(e=>ye.find(e).addClass(t));let e=this.el.className.split(" ");return P.isStr(t)&&(t=t.split(" ")),e=y.append(e,...t),this.el.className=y.unique(e).join(" "),this}remClass(t){if(null==this.el)return this;if(this.els.length>1)return this.each(e=>ye.find(e).remClass(t));let e=this.el.className.split(" ");return P.isStr(t)&&(t=t.split(" ")),e=y.diff(e,t),this.el.className=y.unique(e).join(" "),this}toggleClass(t){return this.els.length>1?this.each(e=>ye.find(e).toggleClass(t)):this.hasClass(t)?this.remClass(t):this.addClass(t)}stateClass(t,e=!0){return this.els.length>1?this.each(e=>ye.find(e).stateClass(t)):e?this.addClass(t):this.remClass(t)}}ut.prototype.css=function(...t){return console.warn("Dom.css() is deprecated, use Dom.style() instead."),this.style(...t)},ut.prototype.removeClass=function(...t){return console.warn("Dom.removeClass() is deprecated, use Dom.remClass() instead."),this.remClass(...t)};function ct(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,i)}return r}function ht(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ct(Object(r),!0).forEach(function(e){dt(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ct(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function dt(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class ft{static inviewMaxY(t,e=null){if(P.isString(t)&&(t={el:t}),!(t=ht(ht({},{boundry:null,multiple:!1,threshold:0,mode:"ratio"}),t)).el)throw new Error("Dom.inviewY() requires an element.");let r=[t.threshold,t.mode,t.boundry],i=[];return ye.find(t.el).each(t=>{(t=>ye.find(t).isInviewY(...r))(t)&&(e&&e(t),i.push(t))}),t.multiple?i:y.first(i)}static inviewMaxX(t,e=null){if(P.isString(t)&&(t={el:t}),!(t=ht(ht({},{boundry:null,multiple:!1,threshold:0,mode:"ratio"}),t)).el)throw new Error("Dom.inviewX() requires an element.");let r=[t.threshold,t.mode,t.boundry],i=[];return ye.find(t.el).each(t=>{(t=>ye.find(t).isInviewX(...r))(t)&&(e&&e(t),i.push(t))}),t.multiple?i:y.first(i)}}class pt{viewoffX(){if(null==this.el)return{top:0,bot:0};let[t,e]=[ye.win().innerWidth,this.width()],[r,i]=[this.offset("left"),this.parent().scroll("left")];return{left:Math.max(0,r-i),right:Math.max(0,t-(r+e-i))}}inviewX(t=null){let{left:e,right:r}=ye.find(t).viewoffY(),[i,n]=[ye.win().innerHeight-r-e,this.height()],[s,o]=[this.offset("left")+e,this.scroll("left")+e],l=Math.max(0,o+i-s+e);return l>n&&(l=Math.min(n,i+n-l)),Math.max(0,l)}inratioX(t=null){return 1/this.width()*this.inviewX(t)}isInviewX(t=.1,e="ratio",r=null){return"pixel"===e?this.inviewX(r)>t:this.inratioX(r)>t}viewoffY(){if(null==this.el)return{top:0,bottom:0};let[t,e]=[ye.win().innerHeight,this.height()],[r,i]=[this.offset("top"),this.parent().scroll("top")];return{top:Math.max(0,r-i),bottom:Math.max(0,t-(r+e-i))}}inviewY(t=null){let{top:e,bottom:r}=ye.find(t).viewoffY(),[i,n]=[ye.win().innerHeight-r-e,this.height()],[s,o]=[this.offset("top")+e,this.scroll("top")+e],l=Math.max(0,o+i-s+e);return l>n&&(l=Math.min(n,i+n-l)),Math.min(Math.max(0,l),i)}inratioY(t=null){return 1/this.height()*this.inviewY(t)}isInviewY(t=.1,e="ratio",r=null){return"pixel"===e?this.inviewY(r)>t:this.inratioY(r)>t}}pt.prototype.inviewHeight=function(...t){return console.warn("Dom.inviewHeight() is deprecated, use Dom.inviewY() instead."),this.inviewY(...t)},pt.prototype.inviewWidth=function(...t){return console.warn("Dom.inviewWidth() is deprecated, use Dom.inviewX() instead."),this.inviewX(...t)};class mt{static setMetaTitle(t,e=":value - :title"){return this.$meta.title||(this.$meta.title=ye.doc().title),document.title=F.replace(e,{value:t,title:this.$meta.title}),this}}!function(t,e,r){(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(mt,"$meta",{}),mt.title=t=>(console.warn("Dom.title() is deprecated, use Dom.setMetaTitle() instead."),ye.setMetaTitle(t));class gt{}class yt{}class bt{}function vt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,i)}return r}function wt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?vt(Object(r),!0).forEach(function(e){Ot(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vt(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function Ot(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class Mt{}class Dt{popover(t,e="botttom-center",r={}){return/^(top|bottom)-/.test(e)?this.popoverY(t,e,r):/^(left|right)-/.test(e)?this.popoverX(t,e,r):void 0}popoverY(t,e="bottom-center",r={}){t=ye.find(t);let[i,n]=[t.rect(),this.rect()];r.x&&(i=wt(wt({},i),{},{left:r.x,width:1})),r.y&&(i=wt(wt({},i),{},{top:r.y,height:1})),r.width;let[s,o]=[{x:0,y:0},i.width-n.width];/^top-/.test(e)&&(s.y=i.top-n.height),/^bottom-/.test(e)&&(s.y=i.top+i.height),/-start$/.test(e)&&(s.x=i.left),/-center$/.test(e)&&(s.x=i.left+.5*o),/-end$/.test(e)&&(s.x=i.left+o);let l=e;/^top-/.test(e)&&(l=l.replace(/^top-/,"bottom-")),/^bottom-/.test(e)&&(l=l.replace(/^bottom-/,"top-"));let a={x:window.innerWidth,y:window.innerHeight},u=s.y+n.height>a.y||s.y<0;s.y<0&&(u=!0);const c=wt(wt({},r),{},{offset:s});if(u&&!r.offset)return this.popoverY(t,l,c);return u&&r.offset&&(s=r.offset),s.y<0&&(s.y=0),s.y+n.height>a.height&&(s.y=a.height-n.height),u&&(e="auto"),wt(wt({},this.popoverNormalize(s,n,i,a)),{},{position:e})}popoverX(t,e="left-center",r={}){t=ye.find(t);let[i,n]=[t.rect(),this.rect()];r.height;let[s,o]=[{x:0,y:0},i.height-n.height];/^left-/.test(e)&&(s.x=i.left-n.width),/^right-/.test(e)&&(s.x=i.left+i.width),/-start$/.test(e)&&(s.y=i.top),/-center/.test(e)&&(s.y=i.top+.5*o),/-end/.test(e)&&(s.y=i.top+o);let l=e;/^left-/.test(e)&&(l=l.replace(/^left-/,"right-")),/^right-/.test(e)&&(l=l.replace(/^right-/,"left-"));let a={x:window.innerWidth,y:window.innerHeight},u=s.y+n.height>a.y;s.y<0&&(u=!0);const c=wt(wt({},r),{},{offset:s});if(u&&!r.offset)return this.popoverX(t,l,c);return u&&r.offset&&(s=r.offset),u&&(e="auto"),wt(wt({},this.popoverNormalize(s,n,i,a)),{},{position:e})}popoverNormalize(t,e,r,i){const n=ye.find(document.body).scroll();t.y<0&&(t.y=0),t.y+e.height>i.y&&(t.y=i.y-e.height),t.x<0&&(t.x=0);const s=document.body.clientWidth;return t.x+e.width>i.x&&(t.x=i.x-e.width-(i.x-s)),t={x:t.x+n.left,y:t.y+n.top},v.each(t,(e,r)=>{t[r]=Math.round(e)}),t.self={width:e.width,height:e.height},t.rect={width:r.width,height:r.height},t}}function Pt(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const jt=[function(t){return v.each(P.class(q),(e,r)=>{t[r]=e}),v.each(P.proto(X),(e,r)=>{t.prototype[r]=e}),t.init.push(X._constructFinder),t},function(t){return v.each(P.class(Z),(e,r)=>{t[r]=e}),v.each(P.proto(Q),(e,r)=>{t.prototype[r]=e}),t},function(t){return v.each(P.class(z),(e,r)=>{t[r]=e}),v.each(P.proto(U),(e,r)=>{t.prototype[r]=e}),t},function(t){return v.each(P.class(V),(e,r)=>{t[r]=e}),v.each(P.proto(_),(e,r)=>{t.prototype[r]=e}),t},function(t){return v.each(P.class(J),(e,r)=>{t[r]=e}),v.each(P.proto(K),(e,r)=>{t.prototype[r]=e}),t},function(t){return v.each(P.class(it),(e,r)=>{t[r]=e}),v.each(P.proto(nt),(e,r)=>{t.prototype[r]=e}),t},function(t){return v.each(P.class(at),(e,r)=>{t[r]=e}),v.each(P.proto(ut),(e,r)=>{t.prototype[r]=e}),t},function(t){return v.each(P.class(ft),(e,r)=>{t[r]=e}),v.each(P.proto(pt),(e,r)=>{t.prototype[r]=e}),t},function(t){return v.each(P.class(mt),(e,r)=>{t[r]=e}),v.each(P.proto(gt),(e,r)=>{t.prototype[r]=e}),t},function(t){return v.each(P.class(yt),(e,r)=>{t[r]=e}),v.each(P.proto(bt),(e,r)=>{t.prototype[r]=e}),t},function(t){return v.each(P.class(Mt),(e,r)=>{t[r]=e}),v.each(P.proto(Dt),(e,r)=>{t.prototype[r]=e}),t}];class kt{constructor(t,...e){Pt(this,"el",null),Pt(this,"els",[]),y.each(ye.init,r=>{t=r.call(this,t,...e)}),t instanceof ye&&(t=t.el),P.isArr(t)||(t=[t]),this.el=t[0],this.els=t}static find(t,...e){return new ye(t,...e)}static extend(t){t.call({},this)}static win(){return null==globalThis.window?{}:window}static doc(){return null==globalThis.document?{}:document}static body(){return this.doc().body?this.doc().body:{}}}Pt(kt,"init",[]);const $t=function(){let t=kt;for(const e of jt)t=e.call(t,t);return t},xt={second:/([+-])([0-9]+)\s?seconds?/i,minute:/([+-])([0-9]+)\s?minutes?/i,hour:/([+-])([0-9]+)\s?hours?/i,date:/([+-])([0-9]+)\s?days?/i,month:/([+-])([0-9]+)\s?months?/i,year:/([+-])([0-9]+)\s?years?/i};class St{get(t){return"time"===t?this.value.getTime():/^seconds?$/i.test(t)?this.value.getSeconds():/^minutes?$/i.test(t)?this.value.getMinutes():/^hours?$/i.test(t)?this.value.getHours():/^days?$/i.test(t)?this.value.getDay():/^dates?$/i.test(t)?this.value.getDate():/^months?$/i.test(t)?this.value.getMonth()+1:/^years?$/i.test(t)?this.value.getFullYear():this}set(t,e){P.isNum(t)||(t=P.int(t));let r=this.value.getDay();return"day"===e&&(t=t+1-(r||7)),"time"===e&&this.value.setTime(t),/^seconds?$/i.test(e)&&this.value.setSeconds(t),/^minutes?$/i.test(e)&&this.value.setMinutes(t),/^hours?$/i.test(e)&&this.value.setHours(t),/^days?$/i.test(e)&&this.add(t,"date"),/^dates?$/i.test(e)&&this.value.setDate(t),/^months?$/i.test(e)&&this.value.setMonth(t-1),/^years?$/i.test(e)&&this.value.setFullYear(t),this}time(t=null){return null==t?this.get("time"):this.set(t,"time")}second(t=null){return null==t?this.get("second"):this.set(t,"second")}minute(t=null){return null==t?this.get("minute"):this.set(t,"minute")}hour(t=null){return null==t?this.get("hour"):this.set(t,"hour")}day(t=null){return null==t?this.get("day"):this.set(t,"day")}date(t=null){return null==t?this.get("date"):this.set(t,"date")}month(t=null){return null==t?this.get("month"):this.set(t,"month")}year(t=null){return null==t?this.get("year"):this.set(t,"year")}shortyear(){return this.get("year").toString().slice(-2)}add(t,e="day"){return/^days?$/i.test(e)&&(e="date"),this.set(this.get(e)+P.int(t),e),this}sub(t,e="day"){return/^days?$/i.test(e)&&(e="date"),this.set(this.get(e)-P.int(t),e),this}isModifible(t){return/^(\s*[+-][0-9]+\s?[a-z]+\s*)+$/i.test(t)}modify(t){return P.isEmpty(t)||v.each(xt,(e,r)=>{c.match(t,e,([t,e,i])=>{"+"===e?this.add(i,r):this.sub(i,r)})}),this}apply(t,e="YYYY-MM-DD HH:mm:ss",r=[]){t=be.make(t,e);for(const e of r)this.set(t.get(e),e);return this}applyDate(t,e="YYYY-MM-DD HH:mm:ss"){return this.apply(t,e,["date","month","year"])}applyTime(t,e="YYYY-MM-DD HH:mm:ss"){return this.apply(t,e,["hour","minute","second"])}}St.prototype.addSecond=function(t){return console.warn("Now.addSecond() is deprecated, use Now.add(value, 'second') instead."),this.add(t,"second")},St.prototype.subSecond=function(t){return console.warn("Now.subSecond() is deprecated, use Now.sub(value, 'second') instead."),this.sub(t,"second")},St.prototype.addMinute=function(t){return console.warn("Now.addMinute() is deprecated, use Now.add(value, 'minute') instead."),this.add(t,"minute")},St.prototype.subMinute=function(t){return console.warn("Now.subMinute() is deprecated, use Now.sub(value, 'minute') instead."),this.sub(t,"minute")},St.prototype.addHour=function(t){return console.warn("Now.addHour() is deprecated, use Now.add(value, 'hour') instead."),this.add(t,"hour")},St.prototype.subHour=function(t){return console.warn("Now.subHour() is deprecated, use Now.sub(value, 'hour') instead."),this.sub(t,"hour")},St.prototype.addDates=function(t){return console.warn("Now.addDates() is deprecated, use Now.add(value, 'date') instead."),this.add(t,"date")},St.prototype.subDates=function(t){return console.warn("Now.subDates() is deprecated, use Now.sub(value, 'date') instead."),this.sub(t,"date")},St.prototype.addMonths=function(t){return console.warn("Now.addMonths() is deprecated, use Now.add(value, 'month') instead."),this.add(t,"month")},St.prototype.subMonths=function(t){return console.warn("Now.subMonths() is deprecated, use Now.sub(value, 'month') instead."),this.sub(t,"month")},St.prototype.addYears=function(t){return console.warn("Now.addYears() is deprecated, use Now.add(value, 'year') instead."),this.add(t,"year")},St.prototype.subYears=function(t){return console.warn("Now.subYears() is deprecated, use Now.sub(value, 'year') instead."),this.sub(t,"year")},St.prototype.addDecades=function(t){return console.warn("Now.addDecades() is deprecated, use Now.grid(10 * value, 'year') instead."),this.add(10*t,"year")},St.prototype.subDecades=function(t){return console.warn("Now.subDecades() is deprecated, use Now.grid(10 * value, 'year') instead."),this.sub(10*t,"year")},St.prototype.humanDay=function(){return console.warn("Now.humanDay() is deprecated, use Now.day() instead."),this.day()},St.prototype.humanMonth=function(){return console.warn("Now.humanMonth() is deprecated, use Now.month() instead."),this.month()};const Nt={L:"DD/MM/YYYY",LL:"MMMM DD, YYYY",LLL:"MMMM DD, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm",LT:"HH:mm",LTS:"HH:mm:ss",LTSD:"DD/MM/YYYY HH:mm:ss"},Yt={second:"ss",minute:"mm",hour:"HH",date:"DD",month:"MM",year:"YYYY"};class Et{isParsable(t,e="YYYY-MM-DD HH:mm:ss"){for(const r in Yt)t=c.replace(t,Yt[r],e);return t===e}parse(t,e="YYYY-MM-DD HH:mm:ss"){return P.isTime(t)&&(e="HH:mm:ss"),P.isDate(t)&&(e="YYYY-MM-DD"),this.isModifible(t)?this.modify(t):P.isIsoDate(t)?(this.value=new Date(t),this):this.parseFormat(t,e)}parseFormat(t,e){if(!this.isParsable(t,e))return this.value=new Date(NaN),this;for(const r in Yt)this.set(c.extract(t,Yt[r],e),r);return this}format(t="YYYY-MM-DD HH:mm:ss"){return v.has(Nt,t)&&(t=F.$text[t]??Nt[t]),t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace("dddd",()=>this.human("day"))).replace("ddd",()=>this.human("day",3))).replace("dd",()=>this.human("day",2))).replace("MMMM",()=>this.human("month"))).replace("MMM",()=>this.human("month",3))).replace("YYYY",()=>c.integer(this.year(),4))).replace("MM",()=>c.integer(this.month(),2))).replace("DD",()=>c.integer(this.date(),2))).replace("HH",()=>c.integer(this.hour(),2))).replace("mm",()=>c.integer(this.minute(),2))).replace("ss",()=>c.integer(this.second(),2))).replace("YY",()=>c.integer(this.shortyear(),2))).replace("X",()=>c.integer(this.time()))).replace("x",()=>c.integer(this.time()/1e3))}code(t="X"){return P.int(this.format(t))}}class Tt{before(t=null,e="x"){return this.code(e)<be.make(t).code(e)}beforeDate(t=null,e="YYYYMMDD"){return this.before(t,e)}beforeTime(t=null,e="HHmmss"){return this.before(t,e)}after(t=null,e="x"){return this.code(e)>be.make(t).code(e)}afterDate(t=null,e="YYYYMMDD"){return this.after(t,e)}afterTime(t=null,e="HHmmss"){return this.after(t,e)}equal(t=null,e="x"){return t instanceof be||(t=be.make(t)),this.code(e)===t.clone().code(e)}equalDate(t=null,e="YYYYMMDD"){return this.equal(t,e)}equalTime(t=null,e="HHmmss"){return this.equal(t,e)}between(t=null,e=null,r="YYYYMMDD"){let i=[be.make(t),be.make(e)];return i[0].after(i[1],r)&&(i=i.reverse()),this.after(i[0],r)&&this.before(i[1],r)}}class At{grid(t="day"){if(/^seconds?$/i.test(t))return this.getSecondsGrid();if(/^minutes?$/i.test(t))return this.getMinutesGrid();if(/^hours?$/i.test(t))return this.getHoursGrid();if(/^days?$/i.test(t))return this.getDaysGrid();if(/^dates?$/i.test(t))return this.getDatesGrid();if(/^months?$/i.test(t))return this.getMonthsGrid();if(/^years?$/i.test(t))return this.getYearsGrid();if(/^decades?$/i.test(t))return this.getDecadesGrid();throw new Error(`Invalid grid scope type "${t}".`)}getSecondsGrid(t=1){return null==t&&(t=1),y.make(60/t,e=>this.clone().second(e*t))}getMinutesGrid(t=1){return null==t&&(t=1),y.make(60/t,e=>this.clone().minute(e*t))}getHoursGrid(t=1){return null==t&&(t=1),y.make(24/t,e=>this.clone().hour(e*t))}getDaysGrid(){let t=[this.first("date").first("day"),this.last("date").last("day")];return t[0].range(t[1],"date")}getDatesGrid(){let t=[this.first("date"),this.last("date")];return t[0].range(t[1],"date")}getMonthsGrid(){let t=[this.first("month"),this.last("month")];return t[0].range(t[1],"month")}getYearsGrid(){let t=[this.first("year"),this.clone().last("year")];return t[0].range(t[1],"year")}getDecadesGrid(){let t=[this.first("decade"),this.clone().last("decade")];return t[0].range(t[1],"decade")}}At.prototype.getYears=function(){return console.warn("Now.getYears() is deprecated, use Now.grid('years') instead."),this.grid("years")},At.prototype.getMonths=function(){return console.warn("Now.getMonths() is deprecated, use Now.grid('months') instead."),this.grid("months")},At.prototype.getDates=function(){return console.warn("Now.getDates() is deprecated, use Now.grid('dates') instead."),this.grid("dates")},At.prototype.getHours=function(){return console.warn("Now.getHours() is deprecated, use Now.grid('hours') instead."),this.grid("hours")},At.prototype.getMinutes=function(){return console.warn("Now.getMinutes() is deprecated, use Now.grid('minutes') instead."),this.grid("minutes")},At.prototype.getSeconds=function(){return console.warn("Now.getSeconds() is deprecated, use Now.grid('seconds') instead."),this.grid("seconds")};class It{prev(t="date"){return/^days?$/i.test(t)&&(t="date"),/^decades?$/i.test(t)?this.clone().sub(10,"year"):this.clone().sub(1,t)}next(t="day"){return/^days?$/i.test(t)&&(t="date"),/^decades?$/i.test(t)?this.clone().add(10,"year"):this.clone().add(1,t)}prevSecond(){return this.prev("second")}nextSecond(){return this.next("second")}prevMinute(){return this.prev("minute")}nextMinute(){return this.next("minute")}prevHour(){return this.prev("hour")}nextHour(){return this.next("hour")}prevDate(){return this.prev("date")}nextDate(){return this.next("date")}prevMonth(){return this.prev("month")}nextMonth(){return this.next("month")}prevYear(){return this.prev("year")}nextYear(){return this.next("year")}prevDecade(){return this.prev("decade")}nextDecade(){return this.next("decade")}first(t="date"){if(/^seconds?$/i.test(t))return this.firstSecond();if(/^minutes?$/i.test(t))return this.firstMinute();if(/^hours?$/i.test(t))return this.firstHour();if(/^days?$/i.test(t))return this.firstDay();if(/^dates?$/i.test(t))return this.firstDate();if(/^months?$/i.test(t))return this.firstMonth();if(/^years?$/i.test(t))return this.firstYear();if(/^decades?$/i.test(t))return this.firstDecade();throw new Error(`Invalid first scope type "${t}".`)}last(t="date"){if(/^seconds?$/i.test(t))return this.lastSecond();if(/^minutes?$/i.test(t))return this.lastMinute();if(/^hours?$/i.test(t))return this.lastHour();if(/^days?$/i.test(t))return this.lastDay();if(/^dates?$/i.test(t))return this.lastDate();if(/^months?$/i.test(t))return this.lastMonth();if(/^years?$/i.test(t))return this.lastYear();if(/^decades?$/i.test(t))return this.lastDecade();throw new Error(`Invalid last scope type "${t}".`)}firstSecond(){return this.clone().set(0,"second")}lastSecond(){return this.clone().set(59,"second")}firstMinute(){return this.clone().set(0,"minute")}lastMinute(){return this.clone().set(59,"minute")}firstHour(){return this.clone().set(0,"hour")}lastHour(){return this.clone().set(23,"hour")}firstDay(){return this.clone().set(0,"day")}lastDay(){return this.clone().set(6,"day")}firstDate(){return this.clone().set(1,"date")}lastDate(){return this.clone().next("month").set(0,"date")}firstMonth(){return this.clone().set(1,"month")}lastMonth(){return this.clone().set(12,"month")}nthYear(t=0){let e=10*Math.floor(this.year()/10);return this.clone().set(e+t,"year")}firstYear(){return this.nthYear(0)}lastYear(){return this.nthYear(9)}nthDecade(t=0){let e=100*Math.floor(this.year()/100);return this.clone().set(e+10*t,"year")}firstDecade(){return this.nthDecade(0)}lastDecade(){return this.nthDecade(9)}}class Ht{range(t=null,e="date"){let r="YYYYMMDD";/^months?$/.test(e)&&(r="YYYYMM"),/^years?$/.test(e)&&(r="YYYY");let i=[],n=[this.clone(),be.make(t)];n[0].afterDate(n[1])&&(n=n.reverse()),n[1].add(1,e);for(let t=n[0];!t.equal(n[1],r);t=t.next(e))y.append(i,t);return i}}Ht.prototype.getDatesRange=function(...t){return console.warn("NowRange.getDatesRange() is deprecated, use NowRange.range() instead."),this.range(...t)};const Ft=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Ct=["January","February","March","April","May","June","July","August","September","October","November","December"];class Lt{human(t="day",e=null){return/^days?$/i.test(t)?this.getHumanDay(e):/^months?$/i.test(t)?this.getHumanMonth(e):this.get(t)}getHumanDay(t=null){let e=this.day()-1;if(!Ft[e])throw new Error(`Invalid day number "${e}".`);let r=F.trans(Ft[e]);return null!=t&&(r=r.substring(0,t)),r}getHumanMonth(t=null){let e=this.day()-1;if(!Ct[e])throw new Error(`Invalid month number "${e}".`);let r=F.trans(Ct[e]);return null!=t&&(r=r.substring(0,t)),r}}function Rt(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const Wt=[function(t){return v.each(P.proto(St),(e,r)=>{t.prototype[r]=e}),t},function(t){return v.each(P.proto(Et),(e,r)=>{t.prototype[r]=e}),t},function(t){return v.each(P.proto(Tt),(e,r)=>{t.prototype[r]=e}),t},function(t){return v.each(P.proto(At),(e,r)=>{t.prototype[r]=e}),t},function(t){return v.each(P.proto(It),(e,r)=>{t.prototype[r]=e}),t},function(t){return v.each(P.proto(Ht),(e,r)=>{t.prototype[r]=e}),t},function(t){return v.each(P.proto(Lt),(e,r)=>{t.prototype[r]=e}),t}];class Bt{constructor(t=null,e="YYYY-MM-DD HH:mm:ss"){Rt(this,"input",null),Rt(this,"value",null),"now"===t&&(t=null);let r=t;return t&&t.toDate&&(t=t.toDate()),t instanceof Date||(t=new Date),this.input=t,P.isNix(r)&&(this.input=r),this.value=t,P.isStr(r)&&this.parse(r,e),y.each(be.init,t=>{el=t.call(this,el,e)}),this}static extend(t){t.call({},this)}static make(t=null,e="YYYY-MM-DD HH:mm:ss"){return new be(t,e)}reset(t=null){return null==t&&(t={month:!0,day:!0,time:!0}),t.month&&this.value.setMonth(0),t.day&&this.value.setDate(1),t.time&&this.value.setHours(0,0,0),this}clone(t=!1){return new be(new Date(this.value),null,t)}valid(){return!isNaN(this.input)}toDate(){return this.value}toUTC(){return this.value.toUTCString()}}Rt(Bt,"init",[]),Bt.prototype.resetTime=function(){return console.warn("Now.resetTime() is deprecated, use Now.reset({ time: true }) instead."),this.reset({time:!0})};const Gt=function(){let t=Bt;for(const e of Wt)t=e.call(t,t);return t},qt=[{match:t=>/^(null|undefined)$/i.test(t),parse:t=>P.null(t)},{match:t=>/^(true|false|yes|no)$/i.test(t),parse:t=>P.bool(t)},{match:t=>/^-?[0-9]+$/.test(t),parse:t=>P.int(t)},{match:t=>/^-?[0-9]+\.[0-9]+$/.test(t),parse:t=>P.num(t)},{match:t=>/^[{\[].*?[}\]]$/.test(t),parse:t=>JSON.parse(t)}],Xt=[{match:t=>P.isArr(t),parse:t=>JSON.stringify(t)}];class zt{static keyed(t,e=null){return P.isStr(t)?-1===t.indexOf("[")?t:t.replace(/\[([^\]]+)\]/g,".$1"):e}static parsed(t,e=null,r=[]){if(!P.isStr(t))return e;t=t.replace(/(^"|^'|'$|"$)/g,"");for(let e of r)if(e.match(t))return e.parse(t);for(let e of qt)if(e.match(t))return e.parse(t);return t}static casted(t,e=!1,r=[]){if(e&&(t=encodeURI(t)),P.isStr(t))return t;for(let e of r)if(e.match(t))return e.parse(t);for(let e of Xt)if(e.match(t))return e.parse(t);return P.str(t)}}const Ut={entry:/(?<=^|&|\?)(\s*(?<key>.*?)\s*=\s*(?<val>".*?"|'.*?'|.*?)\s*)(?=&|$)/g};class Vt{static castParams(t={}){if(P.isEmpty(t))return"";return y.each(t,(t,e)=>this.castParam(e,t)).join("&")}static castParam(t,e,r=null){if(null!=r&&(t=r+"["+t+"]"),!P.isRef(e))return P.str(t)+"="+ve.casted(e,!0);return y.each(e,(r,i)=>this.castParam(P.isArr(e)?"":i,r,t)).join("&")}static parseParams(t){if(P.isEmpty(t))return{};let e=(t=decodeURIComponent(t)).matchAll(Ut.entry);if(null==e)return{};const[r,i]=[ve.keyed,ve.parsed];return y.reduce(Array.from(e),(t,{groups:e})=>v.set(t,r(e.key),i(e.val)),{})}}const _t={entry:/(^|;)(\s*(?<key>.*?)\s*:\s*(?<val>".*?"|'.*?'|.*?)\s*)(?=;|$)/g};class Jt{static castOptions(t={},e=!0){if(P.isEmpty(t))return"";return y.each(t,(t,r)=>this.castOption(r,t,null,e)).join(e?"; ":";")+";"}static castOption(t,e,r=null,i=!0){null!=r&&(t=r+"."+t);let n=i?": ":":";return P.isObj(e)?y.map(e,(e,r)=>this.castOption(r,e,t,i)).join(i?"; ":";"):P.str(t)+n+ve.casted(e,!1)}static parseOptions(t){if(P.isEmpty(t))return{};let e=t.matchAll(_t.entry);if(null==e)return{};const[r,i]=[ve.keyed,ve.parsed];return y.reduce(Array.from(e),(t,{groups:e})=>v.set(t,r(e.key),i(e.val)),{})}}const Kt=[["","a"],["","a"],["","a"],["","e"],["","e"],["","e"],["","i"],["","i"],["","i"],["","i"],["","o"],["","o"],["","o"],["","u"],["","u"],["","u"],["","n"],["","c"],[".","-"],["","-"],["/","-"],["_","-"],[",","-"],[":","-"],[";","-"],["","ae"],["","oe"],["","ue"],["","ss"]];class Zt{static slugify(t){return t=String(t).replace(/(^\s+|\s+$)/g,"").toLowerCase(),y.each(Kt,e=>{t=t.replaceAll(e[0],e[1])}),t.replace(/[^a-z0-9-\s]+/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")}}const Qt=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];class te{static filesize(t,e=1){P.isNum(t)||(t=P.num(t,0));let r=r=>m.fixed(t/Math.pow(1e3,r),e);for(let e=0;e<Qt.length;e++)if(t<=Math.pow(1e3,e+1))return r(e)+" "+Qt[e];return r(Qt.length)}}const ee=[function(t){return v.each(P.class(zt),(e,r)=>{t[r]=e}),t},function(t){return v.each(P.class(Vt),(e,r)=>{t[r]=e}),t},function(t){return v.each(P.class(Jt),(e,r)=>{t[r]=e}),t},function(t){return v.each(P.class(Zt),(e,r)=>{t[r]=e}),t},function(t){return v.each(P.class(te),(e,r)=>{t[r]=e}),t}];class re{static extend(t){t.call({},this)}}const ie=function(){let t=re;for(const e of ee)t=e.call(t,t);return t};function ne(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t.g?t.g:{}}function se(){const t=ne();if(!t.navigator)return;let[e,r]=[t.navigator.userAgent,{}];null==r.safari&&(r.safari=/Safari\//.test(e)),null==r.firefox&&(r.firefox=/Firefox\//.test(e)),null==r.edge&&(r.edge=/Edge\//.test(e)),null==r.chrome&&(r.chrome=/Chrome\//.test(e)),t.piuag=r}function oe(){const t=ne();if(!t.navigator)return;let[e,r]=[t.navigator.userAgent,{}];null==r.win&&(r.win=/Windows/.test(e)),null==r.osx&&(r.osx=/Macintosh|Mac OS X/.test(e)),null==r.gnu&&(r.gnu=/Linux/.test(e)),null==r.ios&&(r.ios=/iPhone|iPad|iPod/.test(e)),null==r.oid&&(r.oid=/Android/.test(e)),t.piudv=r}class le{static has(t){return v.has(this.$data,y.first(t))}static set(t,e){let[r,i]=[null,y.first(t)];v.has(this.$data,i)&&(r=v.get(this.$data,i)),P.isEqual(r,e)||(v.set(this.$data,i,e),Oe.fire("store:"+i,e,i))}static unset(t){v.unset(this.$data,[...y.first(t)])}static get(t,e=null,r=!1){let i=y.first(t);if(!v.has(this.$data,i)&&!r)return e;v.has(this.$data,i)&&r&&v.set(this.$data,i,e);let n=v.get(this.$data,i,e);return P.isObj(n)?v.clone(n):n}static find(t,e,r=null){let i=y.first(t);if(!1===v.has(this.$data,i))return r;if(!1===v.has(e,"id"))return r;let n=y.findIndex(this.get(i),{id:e.id});return-1===n?r:this.get(i+"."+n)}static replace(t,e){let r=y.first(t);if(!1===v.has(this.$data,r))return;if(!1===v.has(e,"id"))return;let i=y.findIndex(this.get(r),{id:m.int(e.id)});-1!==i&&this.set(r+"."+i,e)}static add(t,...e){this.set(t,y.concat(this.get(t,[]),e))}static remove(t,...e){this.set(t,y.diff(this.get(t,[]),e))}}!function(t,e,r){(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(le,"$data",{});const ae=le;class ue{static set(t,e){this.$routes[t]=e}static get(t,e=null,r=null){let i=t;return/^https?:\/\//.test(i)||(i=this.$routes[t]||t),v.each(e,(t,e)=>{i=i.replace(new RegExp("{"+e+"}","g"),t)}),P.isEmpty(r)||(i+="?"+ve.castParams(r)),i}static goto(t,e=null,r=null){window.location.href=this.get(t,e,r)}}!function(t,e,r){(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(ue,"$routes",{});const ce=ue;function he(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class de{constructor(t,e={}){if(he(this,"map",null),he(this,"markers",{}),he(this,"cluster",null),he(this,"clusterFilter",null),he(this,"clusterOptions",{}),!globalThis.google)throw new Error("Google Maps is required for pi.Map");let r=v.only(e,["lat","lng"]);v.has(e,"styles")||(e.styles=Map.mapStyle),e=v.assign({gestureHandling:"cooperative",scrollwheel:null,zoom:12,center:r},v.except(e,["lat","lng"])),this.map=new globalThis.google.maps.Map(ye.find(t).get(0),e)}static setMapStyle(t=[]){return Map.mapStyle=t,this}static setMarkerStyle(t,e={},r={}){if(!globalThis.google)throw new Error("Google Maps is required for pi.Map");if(!v.has(e,"default"))return console.error("Marker style requires default property");v.has(e,"width")||(e.width=45),v.has(e,"height")||(e.height=45);let i={},n=new globalThis.google.maps.Size(e.width,e.height),s=new globalThis.google.maps.Point(0,0),o=new globalThis.google.maps.Point(e.width/2,e.height);return i.default={url:e.default,size:n,origin:s,anchor:o,scaledSize:n},v.has(e,"hover")&&(i.hover=v.assign({},i.default,{url:e.hover})),v.has(i,"hover")||(i.hover=i.default),v.has(e,"active")&&(i.active=v.assign({},i.default,{url:e.active})),v.has(i,"active")||(i.active=i.default),v.each(r,(t,e)=>{i[e]=v.assign({},i.default,{url:t})}),v.set(Map.markerStyles,t,i),this}clusterMarkers(t={},e=null,r=!0){if(!this.cluster&&!r)return;if(void 0===globalThis.MarkerClusterer)return console.error("Google Maps Cluster library not laoded!");v.has(t,"imagePath")||v.has(t,"styles")||(t.imagePath="//developers.google.com/maps/documentation/javascript/examples/markerclusterer/m"),this.cluster&&this.cluster.clearMarkers(),P.isFunction(e)&&(this.clusterFilter=e);let i=y.filter(this.markers,t=>{let e=this.getMarkerVisibility(t.key);return P.isFunction(this.clusterFilter)?e&&this.clusterFilter.call(this,t):e});this.cluster=new globalThis.MarkerClusterer(this.map,y.each(i,t=>t.marker),this.clusterOptions=t)}styleMarker(t,e=null){let r=v.get(this.markers,t);if(P.isEmpty(r))return console.error(`Marker "${t}" not found`);P.isEmpty(e)&&(e=this.getInfoVisibility(t)?"active":"default"),v.has(Map.markerStyles,[r.style,e])&&r.marker.setIcon(v.get(Map.markerStyles,[r.style,e]))}getMarker(t){return v.get(this.markers,t)}getMarkerVisibility(t,e=!1){let r=v.get(this.markers,t);return P.isEmpty(r)?e:r.marker.getVisible()}getMarkerPositon(t,e=null){let r=v.get(this.markers,t);return P.isEmpty(r)?e:r.marker.getPosition()}toggleMarker(t){let e=v.get(this.markers,t);return P.isEmpty(e)?console.error(`Marker "${t}" not found`):e.marker.getVisible()?this.hideMarker(t):this.showMarker(t)}showMarker(t){let e=v.get(this.markers,t);if(P.isEmpty(e))return console.error(`Marker "${t}" not found`);let r=!e.marker.getVisible();return r&&e.marker.setVisible(!0),r}hideMarker(t){let e=v.get(this.markers,t);if(P.isEmpty(e))return console.error(`Marker "${t}" not found`);let r=!!e.marker.getVisible();return r&&e.marker.setVisible(!1),this.closeInfo(t),r}enterMarker(t){let e=v.get(this.markers,t);if(P.isEmpty(e))return console.error(`Marker "${t}" not found`);let r="hover";return this.getInfoVisibility(t)&&(r="active"),this.styleMarker(t,r),this}leaveMarker(t){let e=v.get(this.markers,t);if(P.isEmpty(e))return console.error(`Marker "${t}" not found`);let r="default";return this.getInfoVisibility(t)&&(r="active"),this.styleMarker(t,r),this}getInfoVisibility(t,e=!1){let r=v.get(this.markers,t);return P.isEmpty(r)||!v.has(r,"info")?e:!!r.info.getMap()}toggleInfo(t){let e=v.get(this.markers,t);return P.isEmpty(e)?console.error(`Marker "${t}" not found`):e.info.getMap()?this.closeInfo(t):this.openInfo(t)}openInfo(t){let e=v.get(this.markers,t);if(P.isEmpty(e))return console.error(`InfoWindow "${t}" not found`);if(!v.has(e,"info"))return!0;let r=!e.info.getMap();return Map.closeInfoWindows&&v.each(P.keys(this.markers),this.closeInfo.bind(this)),r&&e.info.open(this.map,e.marker),P.isFunction(e.onOpen)&&e.onOpen(e),this.styleMarker(t,"active"),r}closeInfo(t){let e=v.get(this.markers,t);if(P.isEmpty(e))return console.error(`InfoWindow "${t}" not found`);if(!v.has(e,"info"))return!1;let r=!!e.info.getMap();return r&&e.info.close(),P.isFunction(e.onClose)&&e.onClose(e),this.styleMarker(t,"default"),r}createMarker(t=null,e={}){P.isEmpty(t)&&(t=E.uuid());let r={key:t};return v.has(e,"visible")||(e.visible=!0),r.extras=v.except(e,["map","position","lat","lng","html","style","visible","onOpen","onClose"]),v.has(e,"map")||(e.map=this.map),v.has(e,"position")||(e.position=v.only(e,["lat","lng"])),v.has(e,"style")&&(r.style=e.style),r.marker=new globalThis.google.maps.Marker(e),e.visible||r.marker.setVisible(!1),v.assign(r,{onOpen:v.get(e,"onOpen"),onClose:v.get(e,"onClose")}),v.set(this.markers,t,r),this.clusterMarkers(this.clusterOptions,null,!1),v.has(e,"html")?(v.has(r,"style")||(r.style="default"),this.styleMarker(t),r.marker.addListener("mouseover",()=>this.enterMarker(t)),r.marker.addListener("mouseout",()=>this.leaveMarker(t)),r.info=new globalThis.google.maps.InfoWindow({content:'<div class="gw-i-html">'+v.get(e,"html")+"</div>"}),r.marker.addListener("click",()=>this.toggleInfo(t)),r.info.addListener("closeclick",()=>this.closeInfo(t)),r.info.addListener("domready",()=>Oe.fire("MapsDomReady")),v.set(this.markers,t,r),v.get(this.markers,t)):v.get(this.markers,t)}setMarkerPosition(t,e={}){let r=v.get(this.markers,t);if(P.isEmpty(r))return console.error(`Marker "${t}" not found`);r.marker.setPosition(e)}setMarkerByAddress(t,e){return this.getLocationByAddress(e,e=>{this.setMarkerPosition(t,v.get(e,"0.geometry.location",{}))})}getLocationByAddress(t,e=null){let r=new globalThis.google.maps.Geocoder;return new Promise((i,n)=>{r.geocode({address:t},(t,r)=>{"OK"===r&&(e(t),i(t)),"OK"!==r&&n(t)})})}showMarkers(t=null){let e=this.markers;return P.isEmpty(t)||(e=v.filter(this.markers,t)),Map.hideMarkers&&v.each(P.keys(this.markers),this.hideMarker.bind(this)),v.each(e,t=>this.showMarker(t.key)),this.clusterMarkers(this.clusterOptions,null,!1),this}getMarkerBoundry(t=null){let e=this.markers;P.isEmpty(t)||(e=v.filter(this.markers,t));let r=new globalThis.google.maps.LatLngBounds;return v.each(e,t=>{t.marker.getVisible()&&r.extend(t.marker.getPosition())}),r}focusMarkers(t=null,e=14,r=15){let i=this.getMarkerBoundry(t);return this.map.setCenter(i.getCenter()),this.map.fitBounds(i,r),this.map.getZoom()>e&&this.map.setZoom(e),this}renderDirections(t){let e=new globalThis.google.maps.DirectionsService,r=new globalThis.google.maps.DirectionsRenderer;v.has(t,"map")||(t.map=this.map),v.has(t,"travelMode")||(t.travelMode="DRIVING"),r.setMap(t.map),v.has(t,"panel")&&!ye.find(t.panel).empty()&&r.setPanel(ye.find(t.panel).get(0)),t=v.only(t,["origin","destination","travelMode"]);return new Promise((i,n)=>{e.route(t,(t,e)=>{"OK"===e&&(r.setDirections(t),i(t)),"OK"!==e&&n(t)})})}}he(de,"mapStyle",[]),he(de,"markerStyles",{}),he(de,"hideMarkers",!0),he(de,"closeInfoWindows",!0);const fe=de;function pe(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class me{static listen(){document.addEventListener("scroll",me.scroll),me.scroll()}static scroll(){y.each(this.invi,(t,e)=>{ye.find(t.el).inviewY()&&(y.removeIndex(this.invi,e),t.cb())})}static alias(t,e){return v.set(this.inis,t,e),this}static bind(t,e,r={}){let i=ye.find(e),n=this.getPrefix(t);i.addClass(n);let s=v.get(this.inis,t,null);if(P.isEmpty(s))return console.error(`Element "${t}" is not defined.`);let o=(t,e)=>{let r=new s(t.get(0),e);return me.runs.push({el:t.get(0),prefix:n,deamon:r}),t.data(n,r),void 0!==r.bind?r.bind(t.get(0),e):r};return ye.ready(()=>o.call({},i,r)),this}static unbind(t,e,r={}){let i=ye.find(e),n=this.getPrefix(t),s=v.get(this.inis,t,null);if(P.isEmpty(s))return console.error(`Element "${t}" is not defined.`);return((t,e)=>{let r=t.data(n);if(void 0!==r.unbind)return r.unbind(t.get(0),e)}).call({},i,r),y.remove(me.runs,{el:i.get(0)}),this}static observe(t,e=!1){let r=this.getPrefix(t),i={childList:!0,subtree:!0,attributes:!0,attributeFilter:[r]},n=()=>{let i=me.getPrefix(t),n=y.filter(this.runs,{prefix:r});y.each(n,({el:i})=>{let n=c.objectify(ye.find(i).attr(r));if(e&&P.isEmpty(n)&&(n={_plain:ye.find(i).attr(r)}),v.pluck(n,"inview",!1)&&y.remove(this.invi,{el:i}),!document.body.contains(i))return this.unbind(t,i,n)}),ye.find(`[${r}]:not(.${i})`).each(i=>{let n=c.objectify(ye.find(i).attr(r));e&&P.isEmpty(n)&&(n={_plain:ye.find(i).attr(r)});let s=()=>{this.bind(t,i,n)};v.pluck(n,"inview",!1)?this.bindInview(i,s):s()})};return ye.find(document.body).observer(n)(document.body,i),ye.find(document.body).on("dom.change",n),this}static bindInview(t,e){y.add(this.invi,{el:t,cb:e},{el:t})}static unbindInview(t,e){y.remove(this.invi,{el:t,cb:e},{el:t})}static getPrefix(t){return t?this.prefix+"-"+t:this.prefix}static setPrefix(t){this.prefix=t}}pe(me,"prefix","js"),pe(me,"mount","mount"),pe(me,"inis",{}),pe(me,"runs",[]),pe(me,"invi",[]);const ge=me,ye=$t(),be=Gt(),ve=ie(),we=new Proxy({},{get:function(t,e){return console.warn(`Any.${e} is deprecated, use Mix.${e}() instead.`),(...t)=>P[e](...t)}}),Oe=new Proxy({},{get:function(t,e){return console.warn(`Event.${e} is deprecated, use Signal.${e}() instead.`),(...t)=>A[e](...t)}}),Me=function(){return console.warn("UUID() is deprecated, use Hash.make() instead."),E.make()};globalThis.pi=r,globalThis.addEventListener&&globalThis.addEventListener("beforeunload",t=>{y.map(ye.$events,({el:t,cb:e,event:r})=>(t.removeEventListener(r,e),null))});var De=window;for(var Pe in e)De[Pe]=e[Pe];e.__esModule&&Object.defineProperty(De,"__esModule",{value:!0})})();
//# sourceMappingURL=pico-js.browser.js.map