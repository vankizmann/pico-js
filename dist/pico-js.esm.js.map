{"version":3,"file":"pico-js.esm.js","mappings":"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","sources":["webpack://pi/webpack/universalModuleDefinition","webpack://pi/webpack/bootstrap","webpack://pi/webpack/runtime/define property getters","webpack://pi/webpack/runtime/global","webpack://pi/webpack/runtime/hasOwnProperty shorthand","webpack://pi/webpack/runtime/make namespace object","webpack://pi/./src/utils/Runner.js","webpack://pi/./src/utils/String.js","webpack://pi/./src/utils/Number.js","webpack://pi/./src/utils/Array.js","webpack://pi/./src/utils/Object.js","webpack://pi/./src/utils/Mixed.js","webpack://pi/./src/utils/Hash.js","webpack://pi/./src/utils/Signal.js","webpack://pi/./src/utils/Locale.js","webpack://pi/./src/utils/Cookie.js","webpack://pi/./src/dom/DomFinder.js","webpack://pi/./src/dom/DomForm.js","webpack://pi/./src/dom/DomEvent.js","webpack://pi/./src/dom/DomBuilder.js","webpack://pi/./src/dom/DomGlobal.js","webpack://pi/./src/dom/DomRectangle.js","webpack://pi/./src/dom/DomAttribute.js","webpack://pi/./src/dom/DomInview.js","webpack://pi/./src/dom/DomMeta.js","webpack://pi/./src/dom/DomObserver.js","webpack://pi/./src/dom/DomPopover.js","webpack://pi/./src/utils/Dom.js","webpack://pi/./src/now/NowDefault.js","webpack://pi/./src/now/NowFormat.js","webpack://pi/./src/now/NowMatch.js","webpack://pi/./src/now/NowGrid.js","webpack://pi/./src/now/NowWalker.js","webpack://pi/./src/now/NowRange.js","webpack://pi/./src/now/NowHuman.js","webpack://pi/./src/utils/Now.js","webpack://pi/./src/format/FormatParser.js","webpack://pi/./src/format/FormatParam.js","webpack://pi/./src/format/FormatOption.js","webpack://pi/./src/format/FormatUrl.js","webpack://pi/./src/format/FormatFile.js","webpack://pi/./src/utils/Format.js","webpack://pi/./src/tool/scope.js","webpack://pi/./src/utils/Data.js","webpack://pi/./src/utils/Route.js","webpack://pi/./src/wip/Map.js","webpack://pi/./src/wip/Element.js","webpack://pi/./src/index.esm.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"pi\"] = factory();\n\telse\n\t\troot[\"pi\"] = factory();\n})(self, () => {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { Arr, Mix, Obj } from \"../index.esm.js\";\n\nexport class PicoRunner\n{\n    static $idler = null;\n\n    static $timer = 0;\n\n    static $buffer = [];\n\n    static interval(fn, intval = 0)\n    {\n        const idle = setInterval(() => {\n            fn();\n        }, intval);\n\n        return () => clearInterval(idle);\n    }\n\n    /**\n     * Clear timer or call function\n     *\n     * @example Run.clear(timer)\n     *\n     * @param {any} timer Timer ID, array of IDs, or function\n     * @returns {typeof PicoRunner} Static class\n     */\n    static clear(timer)\n    {\n        if ( Mix.isArr(timer) ) {\n            return Arr.each(timer, (t) => this.clear(t), this);\n        }\n\n        if ( Mix.isFunc(timer) ) {\n            return (timer(), this);\n        }\n\n        clearTimeout(timer);\n        clearInterval(timer);\n\n        return this;\n    }\n\n    /**\n     * Request idle callback with fallback\n     *\n     * @param {function} cb Callback function\n     * @returns {typeof PicoRunner} Static class\n     */\n    static tryin(cb)\n    {\n        try {\n            cb();\n        } catch (e) {\n            //\n        }\n\n        return this;\n    }\n\n    /**\n     * Wait for condition to be true\n     *\n     * @example Run.wait(() => window.foo, 10, 100)\n     *\n     * @param {function} fn Condition function\n     * @param {number} [intval] Interval ms\n     * @param {number} [limit] Max iterations\n     * @returns {function} Clear function\n     */\n    static wait(fn, intval = 0, limit = 500)\n    {\n        let idler, timer;\n\n        timer = setTimeout(() => {\n            this.clear([idler, timer]);\n        }, intval * limit);\n\n        idler = setInterval(() => {\n            if ( fn() ) this.clear([timer, idler]);\n        }, intval);\n\n        return () => clearInterval(idler);\n    }\n\n    /**\n     * Run function in next animation frame\n     *\n     * @example Run.frame(cb)\n     *\n     * @param {function} fn Callback function\n     * @param {any} [options] Callback options\n     * @returns {function} Noop clear function\n     */\n    static frame(fn, options = {})\n    {\n        const frame = requestAnimationFrame(() => {\n            fn();\n        });\n\n        return () => cancelAnimationFrame(frame);\n    }\n\n    /**\n     * Run function asynchronously\n     *\n     * @example Run.async(cb)\n     *\n     * @param {function} fn Callback function\n     * @returns {function} Noop clear function\n     */\n    static async(fn)\n    {\n        const idle = setTimeout(() => {\n            fn()\n        });\n\n        return () => clearTimeout(idle);\n    }\n\n    /**\n     * Run function after delay\n     *\n     * @example Run.delay(cb, 100)\n     *\n     * @param {function} fn Callback function\n     * @param {number} [delay] Delay ms\n     * @returns {function} Clear function\n     */\n    static delay(fn, delay = 0)\n    {\n        let idler = setTimeout(() => {\n            fn();\n        }, delay);\n\n        return () => clearTimeout(idler);\n    }\n\n    /**\n     * Create debounced callback\n     *\n     * @example const fn = Run.debounce(cb, 100)\n     *\n     * @param {function} cb Callback to run\n     * @param {number} [timeout] Wait ms\n     * @returns {function} Debounced fn\n     */\n    static debounce(cb, timeout = 100)\n    {\n        let idler = null;\n\n        return (...args) => {\n\n            if ( idler ) {\n                clearTimeout(idler);\n            }\n\n            idler = setTimeout(() => {\n                this.frame(cb, ...args);\n            }, timeout);\n        };\n    }\n\n    /**\n     * Create throttled callback\n     *\n     * @example const fn = Run.throttle(cb, 100)\n     *\n     * @param {function} cb Callback to run\n     * @param {number} [timeout] Wait ms\n     * @returns {function} Throttled fn\n     */\n    static throttle(cb, timeout = 100)\n    {\n        let queued, idler = null;\n\n        return (...args) => {\n\n            if ( idler ) {\n                clearTimeout(idler);\n            }\n\n            idler = setTimeout(() => {\n                queued = false;\n            }, timeout);\n\n            if ( queued ) {\n                return;\n            }\n\n            (this.frame(cb, ...args), queued = true);\n        };\n    }\n\n    /**\n     * Create framerate-limited callback\n     *\n     * @example const fn = Run.framerate(cb, 30)\n     *\n     * @param {function} cb Callback to run\n     * @param {number} [fps] Max frames per sec\n     * @param {boolean} [finish] Finish last frame\n     * @returns {function} Rate-limited fn\n     */\n    static framerate(cb, fps = 30, finish = true)\n    {\n        let timer, last = 0, hertz = 1000 / fps;\n\n        const fn = (...args) => {\n\n            clearTimeout(timer);\n\n            if ( Date.now() - last <= hertz ) {\n                return finish && (timer = setTimeout(fn, hertz + 1));\n            }\n\n            (this.frame(() => cb(...args)), last = Date.now());\n        };\n\n        return fn;\n    }\n\n    /**\n     * Buffer events into single frame\n     *\n     * @example el.onwheel = Run.framebuffer(cb,\"wheel\")\n     *\n     * @param {function} cb Callback to run\n     * @param {string} key Buffer key\n     * @param {number} [priority] Sort priority\n     * @returns {function} Buffered handler\n     */\n    static framebuffer(cb, key, priority = 1000)\n    {\n        const item = {\n            key, cb, priority, args: [], active: false\n        };\n\n        Arr.add(this.$buffer, item);\n\n        return (e, ...args) => {\n\n            if ( /^drag/.test(e.type) ) {\n                e.preventDefault();\n            }\n\n            Obj.assign(item, {\n                args: [e, ...args], active: true\n            });\n\n            this.runFramebuffer();\n        };\n    }\n\n    /**\n     * Flush buffered frame events\n     *\n     * @example Run.runFramebuffer() // flush\n     *\n     * @returns {void} No return value\n     */\n    static runFramebuffer()\n    {\n        if ( this.$idler ) {\n            clearTimeout(this.$idler);\n        }\n\n        this.$idler = setTimeout(() => {\n            this.runFramebuffer();\n        }, 50);\n\n        if ( Date.now() - this.$timer < 50 ) {\n            return;\n        }\n\n        if ( this.$idler ) {\n            clearTimeout(this.$idler);\n        }\n\n        this.$timer = Date.now();\n\n        let buffer = Arr.filter(this.$buffer, {\n            active: true\n        });\n\n        if ( buffer.length === 0 ) {\n            return;\n        }\n\n        buffer = Arr.sort(buffer, 'priority');\n\n        Arr.each(buffer.reverse(), (item) => {\n            item.cb(...item.args); item.active = false;\n        });\n    }\n\n}\n\nexport default PicoRunner;","import { Arr, For, Locale, Mix, Now, Str } from \"../index.esm.js\";\n\nexport class PicoString\n{\n    /**\n     * Get character at index\n     *\n     * @example Str.get(\"abc\", 1) // => \"b\"\n     *\n     * @param {any} value Input string\n     * @param {any} index Char index\n     * @returns {string} Single char\n     */\n    static get(value, index)\n    {\n        if ( ! Mix.isStr(value) ) {\n            value = Mix.str(value);\n        }\n\n        if ( Mix.isInt(index) ) {\n            index = Mix.int(index);\n        }\n\n        return value.charAt(index);\n    }\n\n    /**\n     * Replace substring at index\n     *\n     * @example Str.set(\"abc\", 1, \"X\") // => \"aXc\"\n     *\n     * @param {any} value Input string\n     * @param {any} index Start index\n     * @param {string} [replace] Replace value\n     * @returns {string} Updated string\n     */\n    static set(value, index, replace = '')\n    {\n        if ( ! Mix.isStr(value) ) {\n            value = Mix.str(value);\n        }\n\n        if ( Mix.isInt(index) ) {\n            index = Mix.int(index);\n        }\n\n        return value.substring(0, index) + replace +\n            value.substring(index + replace.length);\n    }\n\n    /**\n     * Replace first occurrence\n     *\n     * @example Str.replace(\"abc\", \"X\", \"b\") // => \"aXc\"\n     *\n     * @param {any} value Input string\n     * @param {string} replace Replace value\n     * @param {any} [search] Search value\n     * @returns {string} Updated string\n     */\n    static replace(value, replace, search = null)\n    {\n        if ( Mix.isNull(search) ) {\n            search = value;\n        }\n\n        let index = search.indexOf(replace);\n\n        if ( index === -1 ) {\n            return value;\n        }\n\n        return this.set(value, index, replace);\n    }\n\n    /**\n     * Extract substring by range\n     *\n     * @example Str.extract(\"abc\", \"b\") // => \"b\"\n     *\n     * @param {any} value Input string\n     * @param {string} replace Search value\n     * @param {any} [search] Match source\n     * @returns {string|null} Extracted string\n     */\n    static extract(value, replace, search = null)\n    {\n        if ( Mix.isNull(search) ) {\n            search = value;\n        }\n\n        let index = this.range(search, replace);\n\n        if ( index === null ) {\n            return null;\n        }\n\n        return this.slice(value, ...index);\n    }\n\n    /**\n     * Match pattern in string\n     *\n     * @example Str.match(\"abc\", /b/) // => [\"b\"]\n     *\n     * @param {any} value Input string\n     * @param {RegExp|string} pattern Match pattern\n     * @param {any} [cb] Callback fn\n     * @returns {any} Match result\n     */\n    static match(value, pattern, cb = null)\n    {\n        let result = Mix.str(value).match(pattern);\n\n        if ( Mix.isEmpty(result) ) {\n            return [];\n        }\n\n        return Mix.isFunc(cb) ? cb(result) : result;\n    }\n\n    /**\n     * Escape regex characters\n     *\n     * @example Str.regex(\"a.b\") // => \"a\\\\.b\"\n     *\n     * @param {any} val Input string\n     * @returns {string} Escaped string\n     */\n    static regex(val)\n    {\n        return Mix.str(val).replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n    }\n\n    /**\n     * Convert to uppercase\n     *\n     * @example Str.uc(\"abc\") // => \"ABC\"\n     *\n     * @param {any} value Input string\n     * @returns {string} Uppercase string\n     */\n    static uc(value)\n    {\n        return Mix.str(value).toUpperCase();\n    }\n\n    /**\n     * @see PicoString.uc\n     */\n    static upper = PicoString.uc;\n\n    /**\n     * Uppercase first character\n     *\n     * @example Str.ucfirst(\"abc\") // => \"Abc\"\n     *\n     * @param {string} value Input string\n     * @returns {string} Updated string\n     */\n    static ucfirst(value)\n    {\n        return value.charAt(0).toUpperCase() + value.slice(1);\n    }\n\n    /**\n     * Convert to lowercase\n     *\n     * @example Str.lc(\"ABC\") // => \"abc\"\n     *\n     * @param {any} value Input string\n     * @returns {string} Lowercase string\n     */\n    static lc(value)\n    {\n        return Mix.str(value).toLowerCase();\n    }\n\n    /**\n     * @see PicoString.lc\n     */\n    static lower = PicoString.lc;\n\n    /**\n     * Lowercase first character\n     *\n     * @example Str.lcfirst(\"ABC\") // => \"aBC\"\n     *\n     * @param {string} value Input string\n     * @returns {string} Updated string\n     */\n    static lcfirst(value)\n    {\n        return value.charAt(0).toLowerCase() + value.slice(1);\n    }\n\n    /**\n     * Convert to camelCase\n     *\n     * @example Str.cc(\"hello-world\") // => \"helloWorld\"\n     *\n     * @param {string} value Input string\n     * @returns {string} camelCase string\n     */\n    static cc(value)\n    {\n        let splits = Arr.each(For.slugify(value).split('-'), (v, i) => {\n            return i ? this.ucfirst(v) : v;\n        });\n\n        return splits.join('');\n    }\n\n    /**\n     * @see PicoString.cc\n     */\n    static camelcase = PicoString.cc;\n\n    /**\n     * Convert to kebab-case\n     *\n     * @example Str.kc(\"helloWorld\") // => \"hello-world\"\n     *\n     * @param {string} value Input string\n     * @returns {string} kebab-case string\n     */\n    static kc(value)\n    {\n        return For.slugify(value);\n    }\n\n    /**\n     * @see PicoString.kc\n     */\n    static kebabcase = PicoString.kc;\n\n    /**\n     * Convert to snake_case\n     *\n     * @example Str.sc(\"helloWorld\") // => \"hello_world\"\n     *\n     * @param {string} value Input string\n     * @returns {string} snake_case string\n     */\n    static sc(value)\n    {\n        return For.slugify(value).replace('-', '_');\n    }\n\n    /**\n     * @see PicoString.sc\n     */\n    static snakecase = PicoString.sc;\n\n    /**\n     * Convert to PascalCase\n     *\n     * @example Str.pc(\"hello-world\") // => \"HelloWorld\"\n     *\n     * @param {string} value Input string\n     * @returns {string} PascalCase string\n     */\n    static pc(value)\n    {\n        let splits = Arr.each(For.slugify(value).split('-'), (v) => {\n            return this.ucfirst(v);\n        });\n\n        return splits.join('');\n    }\n\n    /**\n     * @see PicoString.pc\n     */\n    static pascalcase = PicoString.pc;\n\n    /**\n     * Check if string contains value\n     *\n     * @example Str.has(\"abc\", \"b\") // => true\n     *\n     * @param {string} value Input string\n     * @param {string} search Search string\n     * @returns {boolean} True if found\n     */\n    static has(value, search)\n    {\n        return this.lc(value).indexOf(this.lc(search)) !== -1;\n    }\n\n    /**\n     * Get index range of search\n     *\n     * @example Str.range(\"abc\", \"b\") // => [1, 2]\n     *\n     * @param {any} value Input string\n     * @param {string} search Search string\n     * @param {any} [fallback] Fallback value\n     * @returns {Array<number>|any} Index range\n     */\n    static range(value, search, fallback = null)\n    {\n        let index = Mix.str(value).indexOf(search);\n\n        if ( index === -1 ) {\n            return fallback;\n        }\n\n        return [index, index + search.length];\n    }\n\n    /**\n     * Extract substring by range\n     *\n     * @example Str.slice(\"abc\", 1, 2) // => \"b\"\n     *\n     * @param {any} value Input string\n     * @param {number} start Start index\n     * @param {number} limit End index\n     * @returns {string} Sliced string\n     */\n    static slice(value, start, limit)\n    {\n        return Mix.str(value).slice(start, limit);\n    }\n\n    /**\n     * Get string representation\n     *\n     * @example Str.string(\"<b>a</b>\") // => \"a\"\n     *\n     * @param {any} value Input value\n     * @param {any} [empty] Empty fallback\n     * @param {boolean} [html] Keep HTML\n     * @returns {string} String value\n     */\n    static string(value, empty = '-', html = false)\n    {\n        if ( Mix.isEmpty(value) ) {\n            return empty;\n        }\n\n        value = Mix.str(value);\n\n        if ( html ) {\n            return value;\n        }\n\n        return value.replace(/<[^>]*>?/gm, '');\n    }\n\n    /**\n     * Get boolean representation\n     *\n     * @example Str.boolean(true) // => \"Yes\"\n     *\n     * @param {any} value Input value\n     * @param {string} [yes] True string\n     * @param {string} [no] False string\n     * @param {any} [empty] Empty fallback\n     * @returns {string|any} Boolean string\n     */\n    static boolean(value, yes = 'Yes', no = 'No', empty = '-')\n    {\n        if ( Mix.isEmpty(value) ) {\n            return empty;\n        }\n\n        return Mix.bool(value) ? yes : no;\n    }\n\n    /**\n     * Get formatted number\n     *\n     * @example Str.number(1234.56, 1) // => \"1,234.6\"\n     *\n     * @param {any} value Input value\n     * @param {number} [fixed] Decimal points\n     * @param {string} [locale] Locale code\n     * @param {any} [config] Format config\n     * @returns {string|any} Formatted string\n     */\n    static number(value, fixed = null, locale = null, config = {})\n    {\n        if ( ! Mix.isNum(value) ) {\n            return value;\n        }\n\n        if ( locale == null ) {\n            locale = Locale.code();\n        }\n\n        config = {\n            maximumFractionDigits: 12, ...config\n        };\n\n        if ( fixed != null ) {\n            config.minimumFractionDigits = fixed;\n            config.maximumFractionDigits = fixed;\n        }\n\n        return Mix.num(value).toLocaleString(locale, config);\n    }\n\n    /**\n     * Get formatted integer\n     *\n     * @example Str.integer(1, 2) // => \"01\"\n     *\n     * @param {any} value Input value\n     * @param {number} [leading] Leading zeros\n     * @param {string} [padding] Padding char\n     * @returns {string|any} Formatted string\n     */\n    static integer(value, leading = 0, padding = '0')\n    {\n        if ( ! Mix.isNum(value) ) {\n            return value;\n        }\n\n        if ( ! Mix.isInt(value) ) {\n            value = Mix.int(value);\n        }\n\n        value = Mix.int(value);\n\n        if ( ! leading ) {\n            return Mix.str(value);\n        }\n\n        return Mix.str(value).padStart(leading, padding);\n    }\n\n    /**\n     * Get formatted datetime\n     *\n     * @example Str.datetime(\"2026-01-01\", \"DD.MM.YYYY\")\n     *\n     * @param {any} value Input value\n     * @param {string} [format] Output format\n     * @param {any} [empty] Empty fallback\n     * @returns {string} Formatted string\n     */\n    static datetime(value, format = 'YYYY-MM-DD HH:mm:ss', empty = '-')\n    {\n        if ( ! Mix.isDate(value) ) {\n            value = Now.make(value);\n        }\n\n        if ( ! value.valid() ) {\n            return empty;\n        }\n\n        return value.format(format);\n    }\n\n    /**\n     * Get formatted date\n     *\n     * @example Str.date(\"2026-01-01\", \"DD.MM.YYYY\")\n     *\n     * @param {any} value Input value\n     * @param {string} [format] Output format\n     * @param {any} [empty] Empty fallback\n     * @returns {string} Formatted string\n     */\n    static date(value, format = 'YYYY-MM-DD', empty = '-')\n    {\n        return this.datetime(value, format, empty);\n    }\n\n    /**\n     * Get formatted time\n     *\n     * @example Str.time(\"12:00:00\", \"HH:mm\")\n     *\n     * @param {any} value Input value\n     * @param {string} [format] Output format\n     * @param {any} [empty] Empty fallback\n     * @returns {string} Formatted string\n     */\n    static time(value, format = 'HH:mm:ss', empty = '-')\n    {\n        return this.datetime(value, format, empty);\n    }\n\n    /**\n     * Parse string to object\n     *\n     * @example Str.objectify(\"a: 1;\") // => { a: 1 }\n     *\n     * @param {any} value Input string\n     * @param {string} [mode] Parse mode\n     * @param {boolean} [toarray] Return array\n     * @returns {any} Parsed value\n     */\n    static objectify(value, mode = 'options', toarray = false)\n    {\n        if ( Mix.isRef(value) ) {\n            return value;\n        }\n\n        if ( mode === 'params' ) {\n            value = For.parseParams(value);\n        }\n\n        if ( mode === 'options' ) {\n            value = For.parseOptions(value);\n        }\n\n        if ( ! Mix.isRef(value) ) {\n            value = JSON.parse(value)\n        }\n\n        return toarray ? Mix.vals(value) : value;\n    }\n\n    /**\n     * Cast object to string\n     *\n     * @example Str.stringify({ a: 1 }) // => \"a: 1;\"\n     *\n     * @param {any} value Input value\n     * @param {string} [mode] Cast mode\n     * @returns {string} Casted string\n     */\n    static stringify(value, mode = 'options')\n    {\n        if ( Mix.isStr(value) ) {\n            return value;\n        }\n\n        if ( mode === 'params' ) {\n            return For.castParams(value);\n        }\n\n        if ( mode === 'options' ) {\n            return For.castOptions(value);\n        }\n\n        return JSON.stringify(value);\n    }\n\n}\n\n/**\n * @see PicoStr.regex\n */\nPicoString.regexEscape = (...args) => {\n    console.warn('Str.regexEscape() is deprecated, use Str.regex() instead.');\n    return Str.regex(...args);\n};\n\n/**\n * @see PicoStr.pascalcase\n */\nPicoString.humancase = (...args) => {\n    console.warn('Str.humancase() is deprecated, use Str.pascalcase() instead.');\n    return Str.pascalcase(...args);\n};\n\n/**\n * @see PicoFormat.slugify\n */\nPicoString.slugify = (...args) => {\n    console.warn('Str.slugify() is deprecated, use For.slugify() instead.');\n    return For.slugify(...args);\n};\n\n/**\n * @see PicoFormat.castOptions\n */\nPicoString.options = (...args) => {\n    console.warn('Str.options() is deprecated, use For.castOptions() instead.');\n    return For.castOptions(...args);\n};\n\n/**\n * @see PicoFormat.parseOptions\n */\nPicoString.fromOptions = (...args) => {\n    console.warn('Str.fromOptions() is deprecated, use For.parseOptions() instead.');\n    return For.parseOptions(...args);\n};\n\n/**\n * @see PicoFormat.castParams\n */\nPicoString.params = (...args) => {\n    console.warn('Str.params() is deprecated, use For.castParams() instead.');\n    return For.castParams(...args);\n};\n\n/**\n * @see PicoFormat.parseParams\n */\nPicoString.fromParams = (...args) => {\n    console.warn('Str.fromParams() is deprecated, use For.parseParams() instead.');\n    return For.parseParams(...args);\n};\n\n/**\n * @see PicoFormat.filesize\n */\nPicoString.filesize = (...args) => {\n    console.warn('Str.filesize() is deprecated, use For.filesize() instead.');\n    return For.filesize(...args);\n};\n\nPicoString.real = () => {\n    console.error('Str.real() is not implemented anymore.');\n};\n\nPicoString.array = () => {\n    console.error('Str.array() is not implemented anymore.');\n};\n\nexport default PicoString;","import { Mix, Num, Arr, Hash, Str, Obj } from \"../index.esm.js\";\n\nexport class PicoNumber\n{\n\n    /**\n     * Format number with decimals\n     *\n     * @example Num.fixed(1.234, 2) // => \"1.23\"\n     * @example Num.fixed(\"2.4\", 0) // => \"2\"\n     *\n     * @param {any} value Number value\n     * @param {number} decimals Decimals count\n     * @returns {string} Fixed string\n     */\n    static fixed(value, decimals = 2)\n    {\n        if ( ! Mix.isNum(value) ) {\n            value = Mix.num(value);\n        }\n\n        return value.toFixed(decimals);\n    }\n\n    /**\n     * Parse value as float\n     *\n     * @example Num.float(\"2.2\") // => 2.2\n     * @example Num.float(3) // => 3\n     *\n     * @param {any} value Numeric value\n     * @returns {number} Parsed float\n     */\n    static float(value)\n    {\n        if ( ! Mix.isNum(value) ) {\n            value = Mix.num(value);\n        }\n\n        return parseFloat(value);\n    }\n\n    /**\n     * Parse value as int\n     *\n     * @example Num.int(\"12\") // => 12\n     * @example Num.int(12.9) // => 12\n     *\n     * @param {any} value Numeric value\n     * @returns {number} Parsed int\n     */\n    static int(value)\n    {\n        if ( ! Mix.isNum(value) ) {\n            value = Mix.num(value);\n        }\n\n        return parseInt(value);\n    }\n\n    /**\n     * Round up to integer\n     *\n     * @example Num.ceil(1.1) // => 2\n     * @example Num.ceil(\"2.0\") // => 2\n     *\n     * @param {any} value Numeric value\n     * @returns {number} Ceil value\n     */\n    static ceil(value)\n    {\n        if ( ! Mix.isNum(value) ) {\n            value = Mix.num(value);\n        }\n\n        return Math.ceil(value);\n    }\n\n    /**\n     * Round down to integer\n     *\n     * @example Num.floor(1.9) // => 1\n     * @example Num.floor(\"2.0\") // => 2\n     *\n     * @param {any} value Numeric value\n     * @returns {number} Floor value\n     */\n    static floor(value)\n    {\n        if ( ! Mix.isNum(value) ) {\n            value = Mix.num(value);\n        }\n\n        return Math.floor(value);\n    }\n\n    /**\n     * Round to nearest integer\n     *\n     * @example Num.round(1.5) // => 2\n     * @example Num.round(\"2.2\") // => 2\n     *\n     * @param {any} value Numeric value\n     * @returns {number} Rounded value\n     */\n    static round(value)\n    {\n        if ( ! Mix.isNum(value) ) {\n            value = Mix.num(value);\n        }\n\n        return Math.round(value);\n    }\n\n    /**\n     * Sum numbers in list\n     *\n     * @example Num.combine([1, 2]) // => 3\n     * @example Num.combine([5, -2]) // => 3\n     *\n     * @param {Array<number>} value Number list\n     * @returns {number} Sum value\n     */\n    static combine(value)\n    {\n        return Arr.reduce(value, (acc, val) => acc + val, 0);\n    }\n\n    /**\n     * Subtract numbers in list\n     *\n     * @example Num.subtract([5, 2]) // => 3\n     * @example Num.subtract([10, 3]) // => 7\n     *\n     * @param {Array<number>} value Number list\n     * @returns {number} Result value\n     */\n    static subtract(value)\n    {\n        return Arr.reduce(value, (acc, val) => acc - val, 0);\n    }\n\n    /**\n     * Get decade base (10s)\n     *\n     * @example Num.decade(27) // => 20\n     * @example Num.decade(\"99\") // => 90\n     *\n     * @param {any} value Numeric value\n     * @returns {number} Decade value\n     */\n    static decade(value)\n    {\n        if ( ! Mix.isNum(value) ) {\n            value = Mix.num(value);\n        }\n\n        return Math.floor(value / 10) * 10;\n    }\n\n    /**\n     * Convert number to power-of-2 list\n     *\n     * @example Num.matrix(5) // => [4, 1]\n     * @example Num.matrix(8) // => [8]\n     *\n     * @param {number} num Input number\n     * @param {number} [limit] Unused (legacy)\n     * @param {Array<number>} [base] Result base\n     * @returns {Array<number>} Power list\n     */\n    static matrix(num, limit = 10, base = [])\n    {\n        let value = 0;\n\n        for ( let i = 20; i >= 0; i -- ) {\n            if ( num >= (value = Math.pow(2, i)) ) {\n                (base.push(value), num -= value);\n            }\n        }\n\n        return base;\n    }\n\n    /**\n     * Calculate distance between coords\n     *\n     * @example Num.distance({lat:0,lng:0},{lat:0,lng:1}) // => number\n     *\n     * @param {any} cord1 First coord\n     * @param {any} cord2 Second coord\n     * @param {boolean} [miles] Return miles if true\n     * @returns {number} Distance value\n     */\n    static distance(cord1, cord2, miles = false)\n    {\n        let cord = { lat: 0, lng: 0 };\n\n        [cord1, cord2] = [\n            { ...cord, ...cord1 }, { ...cord, ...cord2 }\n        ];\n\n        let radlat1 = (Math.PI * this.float(cord1.lat)) / 180;\n        let radlat2 = (Math.PI * this.float(cord2.lat)) / 180;\n\n        let theta = this.float(cord1.lng) - this.float(cord2.lng);\n        let radtheta = (theta) / 180;\n\n        let dist = this.combine([\n            Math.sin(radlat1) * Math.sin(radlat2),\n            Math.cos(radlat1) * Math.cos(radlat2) * Math.cos(radtheta)\n        ]);\n\n        dist = (Math.acos(dist > 1 ? 1 : dist) * 180) /\n            Math.PI * 60 * 1.1515;\n\n        return miles ? dist * 1.609344 : dist;\n    }\n\n}\n\n/**\n * @see PicoStr.number\n */\nPicoNumber.format = (value, ...args) => {\n    console.warn('Num.format() is deprecated, use Str.number() instead.');\n    return Str.number(value, args[2] || null);\n};\n\n/**\n * @see PicoHash.number\n */\nPicoNumber.random = (...args) => {\n    console.warn('Num.random() is deprecated, use Hash.number() instead.');\n    return Hash.number(...args);\n};\n\nexport default PicoNumber;","import { Obj, Mix, Any } from \"../index.esm.js\";\n\nexport class PicoArray\n{\n\n    /**\n     * Wrap value into an array\n     *\n     * @example Arr.all(1) // => [1]\n     * @example Arr.all([1]) // => [1]\n     *\n     * @param {any} value Value to wrap\n     * @returns {Array<any>} Wrapped array\n     */\n    static all(value)\n    {\n        return Mix.isArr(value) ? value : [value];\n    }\n\n    /**\n     * Get item at index or fallback\n     *\n     * @example Arr.get([\"a\"], 0) // => \"a\"\n     * @example Arr.get([\"a\"], 9, null) // => null\n     *\n     * @param {any} value Array-like value\n     * @param {number} index Index to read\n     * @param {any} [fallback] Fallback value\n     * @returns {any} Item or fallback\n     */\n    static get(value, index, fallback = null)\n    {\n        if ( !Mix.isArr(value) ) {\n            return value;\n        }\n\n        if ( value && value[index] ) {\n            return value[index];\n        }\n\n        return fallback;\n    }\n\n    /**\n     * Set item at index (mutates)\n     *\n     * @example Arr.set([1,2], 0, 9) // => [9,2]\n     *\n     * @param {Array<any>} target Target array\n     * @param {number} index Index to set\n     * @param {any} value Value to set\n     * @returns {any} Splice result\n     */\n    static set(target, index, value)\n    {\n        return this.splice(target, index, 1, value);\n    }\n\n    /**\n     * Remove item at index (mutates)\n     *\n     * @example Arr.unset([1,2], 0) // => [1]\n     *\n     * @param {Array<any>} target Target array\n     * @param {number} index Index to remove\n     * @returns {any} Splice result\n     */\n    static unset(target, index)\n    {\n        return this.splice(target, index, 1);\n    }\n\n    static prev(target, index, fallback = 0)\n    {\n        if ( Mix.isEmpty(target) || !Mix.isArr(target) ) {\n            return 0;\n        }\n\n        if ( index - 1 < 0 ) {\n            return target.length-1;\n        }\n\n        return index - 1;\n    }\n\n    static next(target, index, fallback = 0)\n    {\n        if ( Mix.isEmpty(target) || !Mix.isArr(target) ) {\n            return 0;\n        }\n\n        if ( index + 1 > target.length ) {\n            return 0;\n        }\n\n        return index + 1;\n    }\n\n    /**\n     * Create array with callback values\n     *\n     * @example Arr.make(3) // => [0,1,2]\n     * @example Arr.make(2, \"x\") // => [\"x\",\"x\"]\n     *\n     * @param {number} length Array length\n     * @param {any} [cb] Value or mapper\n     * @returns {Array<any>} Generated array\n     */\n    static make(length, cb = null)\n    {\n        let result = new Array(length);\n\n        if ( cb == null ) {\n            cb = (i) => i;\n        }\n\n        for ( let i = 0; i < length; i ++ ) {\n            result[i] = typeof cb === 'function' ? cb(i) : cb;\n        }\n\n        return result;\n    }\n\n    /**\n     * Check if array has value\n     *\n     * @example Arr.has([1,2], 2) // => true\n     * @example Arr.has([{id:1}], {id:1}) // => true\n     *\n     * @param {any} value List to search\n     * @param {any} search Search value\n     * @returns {boolean} True if found\n     */\n    static has(value, search)\n    {\n        if ( !Mix.isPrim(search) ) {\n            return this.findIndex(value, search) !== - 1;\n        }\n\n        if ( !Mix.isRef(value) ) {\n            value = [value];\n        }\n\n        if ( !Mix.isArr(value) ) {\n            value = Mix.vals(value);\n        }\n\n        let index = value.findIndex((val) => {\n            return val == search;\n        });\n\n        return index !== - 1;\n    }\n\n    /**\n     * Get unique values as strings\n     *\n     * @example Arr.unique([\"a\",\"a\"]) // => [\"a\"]\n     *\n     * @param {Array<any>} value Input list\n     * @returns {Array<any>} Unique list\n     */\n    static unique(value)\n    {\n        let buffer = {};\n\n        for ( const val of value ) {\n            buffer[val] = true;\n        }\n\n        return Mix.keys(buffer);\n    }\n\n    /**\n     * Check equal lengths for arrays\n     *\n     * @example Arr.lengths([1],[2]) // => true\n     *\n     * @param {Array<any>} value Base array\n     * @param {...Array<any>} args Other arrays\n     * @returns {boolean} True if equal\n     */\n    static lengths(value, ...args)\n    {\n        let length = value.length;\n\n        for ( let i = 0; i < args.length; i ++ ) {\n            if ( args[i].length !== length ) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    /**\n     * Get first item or fallback\n     *\n     * @example Arr.first([1,2]) // => 1\n     *\n     * @param {Array<any>} value Input array\n     * @param {any} [fallback] Fallback value\n     * @returns {any} First item\n     */\n    static first(value, fallback = null)\n    {\n        return this.get(value, 0, fallback);\n    }\n\n    /**\n     * Get second item or fallback\n     *\n     * @example Arr.second([1,2]) // => 2\n     *\n     * @param {Array<any>} value Input array\n     * @param {any} [fallback] Fallback value\n     * @returns {any} Second item\n     */\n    static second(value, fallback = null)\n    {\n        return this.get(value, 2, fallback);\n    }\n\n    /**\n     * Get third item or fallback\n     *\n     * @example Arr.third([1,2,3]) // => 3\n     *\n     * @param {Array<any>} value Input array\n     * @param {any} [fallback] Fallback value\n     * @returns {any} Third item\n     */\n    static third(value, fallback = null)\n    {\n        return this.get(value, 2, fallback);\n    }\n\n    /**\n     * Get last item or fallback\n     *\n     * @example Arr.last([1,2]) // => 2\n     *\n     * @param {Array<any>} value Input array\n     * @param {any} [fallback] Fallback value\n     * @returns {any} Last item\n     */\n    static last(value, fallback = null)\n    {\n        return this.get(value, value.length - 1, fallback);\n    }\n\n    /**\n     * Map values to new array\n     *\n     * @example Arr.each([1], v => v+1) // => [2]\n     *\n     * @param {any} value Input list\n     * @param {function} cb Map callback\n     * @param {any} [retval] Forced return\n     * @returns {any} Mapped array\n     */\n    static each(value, cb, retval = null)\n    {\n        if ( Mix.isObj(value) ) {\n            return this.eachObj(value, cb, retval);\n        }\n\n        if ( value == null ) {\n            value = [];\n        }\n\n        let result = new Array(value.length);\n\n        for ( let i = 0; i < value.length; i ++ ) {\n            result[i] = cb(value[i], i);\n        }\n\n        return retval != null ? retval : result;\n    }\n\n    /**\n     * Iterate over object keys\n     *\n     * @example Arr.eachObj({a:1}, (v,k) => v+1) // => [2]\n     *\n     * @param {any} value Input object\n     * @param {function} cb Iterate callback\n     * @param {any} [retval] Return value override\n     * @returns {any} Mapped values or retval\n     */\n    static eachObj(value, cb, retval = null)\n    {\n        if ( Mix.isArr(value) ) {\n            return this.each(value, cb, retval);\n        }\n\n        if ( value == null ) {\n            value = {};\n        }\n\n        let result = Mix.keys(value).map((key) => {\n            return cb(value[key], key);\n        });\n\n        return retval != null ? retval : result;\n    }\n\n    /**\n     * Map values in place (mutates)\n     *\n     * @example Arr.map([1], v => v+1) // => [2]\n     *\n     * @param {any} value Input list\n     * @param {function} cb Map callback\n     * @returns {any} Mutated input\n     */\n    static map(value, cb)\n    {\n        let [isArr, keys] = [\n            Mix.isArr(value), Mix.keys(value)\n        ];\n\n        let fn = (key) => {\n            return isArr ? parseInt(key) : key;\n        };\n\n        for ( let key of keys ) {\n            value[key] = cb(value[key], fn(key));\n        }\n\n        return value;\n    }\n\n    /**\n     * Recursively map nested arrays\n     *\n     * @example Arr.recursive([{c:[]}], \"c\", () => 1) // => list\n     *\n     * @param {any} value Input list\n     * @param {string} key Child key\n     * @param {function} cb Node callback\n     * @param {Array<any>} [cascade] Parent chain\n     * @returns {any} Mapped tree\n     */\n    static recursive(value, key, cb, cascade = [])\n    {\n        // NIE WIEDER ANFASSEN !!!\n        let fn = (cas) => (val) => {\n            return this.recursive(val, key, cb, cas);\n        };\n\n        if ( Mix.isArr(value) ) {\n            return this.map(value, fn(cascade));\n        }\n\n        if ( Mix.isObj(value) ) {\n            value = cb(value, cascade) ?? value;\n        }\n\n        cascade = [\n            ...this.clone(cascade), value\n        ];\n\n        if ( value == null ) {\n            return value;\n        }\n\n        if ( Mix.isObj(value[key]) ) {\n            value[key] = fn(cascade)(value[key]);\n        }\n\n        if ( Mix.isArr(value[key]) ) {\n            value[key] = this.map(value[key], fn(cascade));\n        }\n\n        return value;\n    }\n\n    static cascade(value, childs, key, cascade = [], result = {})\n    {\n        if ( value == null ) {\n            return result;\n        }\n\n        if ( Mix.isObj(value) ) {\n            return this.cascade(value[key], key, cb);\n        }\n\n        const fn = (val) => {\n            return this.cascade(...[\n                val[childs], childs, key, result[val[key]], result\n            ]);\n        };\n\n        this.each(value, (val) => {\n            (result[val[key]] = [...cascade, val[key] ], fn(val));\n        });\n\n        return result;\n    }\n\n    /**\n     * Get matching indexes by filter\n     *\n     * @example Arr.filterIndex([0,1], v => v) // => [\"1\"]\n     *\n     * @param {any} value Input list\n     * @param {any} [filter] Filter spec\n     * @returns {Array<string>} Matching keys\n     */\n    static filterIndex(value, filter = null)\n    {\n        if ( value == null ) {\n            return [];\n        }\n\n        if ( filter == null ) {\n            filter = (val) => !Mix.isEmpty(val);\n        }\n\n        return Mix.keys(value).filter((key) => {\n\n            if ( Mix.isFunc(filter) ) {\n                return filter.call({}, value[key], key);\n            }\n\n            if ( Mix.isRef(filter) ) {\n                return this.includes(value[key], filter);\n            }\n\n            return filter === value[key];\n        });\n    }\n\n    /**\n     * Remove values matching filter (mutates)\n     *\n     * @example Arr.filterRemove([1,2], 2) // => [1]\n     *\n     * @param {any} value Input list\n     * @param {any} [filter] Filter spec\n     * @returns {any} Mutated list\n     */\n    static filterRemove(value, filter = null)\n    {\n        if ( value == null ) {\n            return value;\n        }\n\n        let indexes = this.filterIndex(value, filter);\n\n        if ( indexes.length === 0 ) {\n            return value;\n        }\n\n        return this.splices(value, indexes);\n    }\n\n    /**\n     * Filter values by filter\n     *\n     * @example Arr.filter([0,1], v => v) // => [1]\n     *\n     * @param {any} value Input list\n     * @param {any} [filter] Filter spec\n     * @returns {Array<any>} Filtered values\n     */\n    static filter(value, filter = null)\n    {\n        if ( value == null ) {\n            return [];\n        }\n\n        if ( filter == null ) {\n            filter = (val) => !Mix.isEmpty(val);\n        }\n\n        return Mix.vals(value).filter((val, key) => {\n\n            if ( Mix.isFunc(filter) ) {\n                return filter.call({}, val, key);\n            }\n\n            if ( Mix.isRef(filter) ) {\n                return this.includes(val, filter);\n            }\n\n            return filter === value[key];\n        });\n    }\n\n    /**\n     * Find index matching filter\n     *\n     * @example Arr.findIndex([1,2], 2) // => 1\n     *\n     * @param {Array<any>} value Input array\n     * @param {any} [filter] Filter spec\n     * @param {number} [fallback] Fallback index\n     * @returns {number} Found index\n     */\n    static findIndex(value, filter = null, fallback = - 1)\n    {\n        if ( value == null ) {\n            return fallback;\n        }\n\n        if ( filter == null ) {\n            filter = (val) => !Mix.isEmpty(val);\n        }\n\n        for ( let i = 0; i < value.length; i ++ ) {\n\n            if ( Mix.isFunc(filter) ) {\n                if ( filter.call({}, value[i], i) ) {\n                    return i;\n                }\n            }\n\n            if ( Mix.isRef(filter) ) {\n                if ( this.includes(value[i], filter) ) {\n                    return i;\n                }\n            }\n\n            if ( filter === value[i] ) return i;\n        }\n\n        return fallback;\n    }\n\n    /**\n     * Find value matching filter\n     *\n     * @example Arr.find([1,2], 2) // => 2\n     *\n     * @param {Array<any>} value Input array\n     * @param {any} [filter] Filter spec\n     * @param {any} [fallback] Fallback value\n     * @returns {any} Found value\n     */\n    static find(value, filter = null, fallback = null)\n    {\n        let index = this.findIndex(value, filter);\n\n        if ( index === - 1 ) {\n            return fallback;\n        }\n\n        return value[index];\n    }\n\n    /**\n     * Sort array by key or callback\n     *\n     * @example Arr.sort([{n:2},{n:1}], \"n\") // => list\n     *\n     * @param {any} value Input list\n     * @param {any} [key] Key or compare fn\n     * @returns {Array<any>} Sorted list\n     */\n    static sort(value, key = null)\n    {\n        if ( Mix.isFunc(key) ) {\n            return this.sortFunc(value, key);\n        }\n\n        if ( key != null ) {\n            return this.sortDeep(value, key);\n        }\n\n        return this.sortPrim(value)\n    }\n\n    /**\n     * Sort by compare callback\n     *\n     * @example Arr.sortFunc([2,1], (a,b)=>a-b) // => [1,2]\n     *\n     * @param {any} value Input list\n     * @param {function} cb Compare callback\n     * @returns {Array<any>} Sorted list\n     */\n    static sortFunc(value, cb)\n    {\n        let keys = Mix.keys(value).sort((a, b) => {\n            return cb.call({}, value[a], value[b]);\n        });\n\n        let result = [];\n\n        for ( const key of keys ) {\n            result.push(value[key]);\n        }\n\n        return result;\n    }\n\n    /**\n     * Sort by nested key value\n     *\n     * @example Arr.sortDeep([{a:{n:2}},{a:{n:1}}], \"a.n\") // => list\n     *\n     * @param {any} value Input list\n     * @param {any} key Key path\n     * @returns {Array<any>} Sorted list\n     */\n    static sortDeep(value, key)\n    {\n        let fn = (val) => {\n            return Obj.get(val, key);\n        }\n\n        let keys = Mix.keys(value).sort((a, b) => {\n            return Mix.compare(fn(value[a]), fn(value[b]));\n        });\n\n        let result = [];\n\n        for ( const key of keys ) {\n            result.push(value[key]);\n        }\n\n        return result;\n    }\n\n    /**\n     * Sort by primitive key order\n     *\n     * @example Arr.sortPrim([\"b\",\"a\"]) // => [\"a\",\"b\"]\n     *\n     * @param {any} value Input list\n     * @returns {Array<any>} Sorted list\n     */\n    static sortPrim(value)\n    {\n        let keys = Mix.keys(value).sort((a, b) => {\n            return Mix.compare(a, b);\n        });\n\n        let result = [];\n\n        for ( const key of keys ) {\n            result.push(value[key]);\n        }\n\n        return result;\n    }\n\n    /**\n     * Merge arrays (concat)\n     *\n     * @example Arr.merge([1],[2]) // => [1,2]\n     *\n     * @param {Array<any>} value Base array\n     * @param {...any} args Arrays to add\n     * @returns {Array<any>} Merged array\n     */\n    static merge(value, ...args)\n    {\n        return value.concat(...args);\n    }\n\n    /**\n     * Prepend items (mutates)\n     *\n     * @example Arr.prepend([2], 1) // => [1,2]\n     *\n     * @param {Array<any>} value Target array\n     * @param {...any} args Items to add\n     * @returns {Array<any>} Mutated array\n     */\n    static prepend(value, ...args)\n    {\n        return (value.unshift(...args), value);\n    }\n\n    /**\n     * Append items (mutates)\n     *\n     * @example Arr.append([1], 2) // => [1,2]\n     *\n     * @param {Array<any>} value Target array\n     * @param {...any} args Items to add\n     * @returns {Array<any>} Mutated array\n     */\n    static append(value, ...args)\n    {\n        return (value.push(...args), value);\n    }\n\n    /**\n     * Add item if not present\n     *\n     * @example Arr.add([1], 2) // => [1,2]\n     *\n     * @param {Array<any>} value Target array\n     * @param {any} target Item to add\n     * @param {any} [finder] Finder value\n     * @returns {Array<any>} Mutated array\n     */\n    static add(value, target, finder = null)\n    {\n        if ( finder == null ) {\n            finder = target;\n        }\n\n        if ( this.findIndex(value, finder) !== - 1 ) {\n            return value;\n        }\n\n        return (value.push(target), value);\n    }\n\n    /**\n     * Replace existing item or add\n     *\n     * @example Arr.replace([1], 2) // => [1,2]\n     *\n     * @param {Array<any>} value Target array\n     * @param {any} target Item to add\n     * @param {any} [finder] Finder value\n     * @returns {Array<any>} Mutated array\n     */\n    static replace(value, target, finder = null)\n    {\n        if ( finder == null ) {\n            finder = target;\n        }\n\n        let index = this.findIndex(value, finder);\n\n        if ( index !== - 1 ) {\n            this.splice(value, index, 1);\n        }\n\n        return (value.push(target), value);\n    }\n\n    /**\n     * Remove item if present\n     *\n     * @example Arr.remove([1,2], 1) // => [2]\n     *\n     * @param {Array<any>} value Target array\n     * @param {any} target Item to remove\n     * @param {any} [finder] Finder value\n     * @returns {Array<any>} Mutated array\n     */\n    static remove(value, target, finder = null)\n    {\n        if ( finder == null ) {\n            finder = target;\n        }\n\n        let index = this.findIndex(value, finder);\n\n        if ( index === - 1 ) {\n            return value;\n        }\n\n        return (this.splice(value, index, 1), value);\n    }\n\n    /**\n     * Toggle item in array\n     *\n     * @example Arr.toggle([1], 1) // => []\n     * @example Arr.toggle([], 1) // => [1]\n     *\n     * @param {Array<any>} value Target array\n     * @param {any} target Item to toggle\n     * @param {any} [finder] Finder value\n     * @returns {Array<any>} Mutated array\n     */\n    static toggle(value, target, finder = null)\n    {\n        if ( finder == null ) {\n            finder = target;\n        }\n\n        let index = this.findIndex(value, finder);\n\n        if ( index === - 1 ) {\n            return (value.push(target), value);\n        }\n\n        return (this.splice(value, index, 1), value);\n    }\n\n    /**\n     * Insert item at index (mutates)\n     *\n     * @example Arr.insert([1,3], 1, 2) // => [1,2,3]\n     *\n     * @param {Array<any>} value Target array\n     * @param {number} index Insert index\n     * @param {any} target Item to insert\n     * @returns {Array<any>} Mutated array\n     */\n    static insert(value, index, target)\n    {\n        return (this.splice(value, index, 0, target), value);\n    }\n\n    /**\n     * Slice array from index\n     *\n     * @example Arr.slice([1,2,3], 1, 2) // => [2,3]\n     *\n     * @param {Array<any>} value Source array\n     * @param {number} index Start index\n     * @param {number} [length] Slice length\n     * @returns {Array<any>} Sliced array\n     */\n    static slice(value, index, length = 1)\n    {\n        return value.slice(parseInt(index), length);\n    }\n\n    /**\n     * Splice array (mutates)\n     *\n     * @example Arr.splice([1,2], 0, 1) // => [1]\n     *\n     * @param {Array<any>} value Target array\n     * @param {number} index Start index\n     * @param {number} [length] Remove count\n     * @param {...any} args Items to add\n     * @returns {any} Splice result\n     */\n    static splice(value, index, length = 1, ...args)\n    {\n        return value.splice(parseInt(index), length, ...args);\n    }\n\n    /**\n     * Splice multiple indexes\n     *\n     * @example Arr.splices([1,2,3],[0,2]) // => [2]\n     *\n     * @param {Array<any>} value Target array\n     * @param {Array<number>} indexies Index list\n     * @param {number} [length] Remove count\n     * @returns {Array<any>} Mutated array\n     */\n    static splices(value, indexies, length = 1)\n    {\n        this.each(indexies, (index) => {\n            this.splice(value, index, length);\n        });\n\n        return value;\n    }\n\n    /**\n     * Deep clone array/object\n     *\n     * @example Arr.clone([1,{a:1}]) // => new array\n     *\n     * @param {any} value Value to clone\n     * @returns {any} Cloned value\n     */\n    static clone(value)\n    {\n        if ( Mix.isPrim(value) ) {\n            return value;\n        }\n\n        if ( Mix.isObj(value) ) {\n            return Obj.clone(value);\n        }\n\n        if ( !Mix.isArr(value) ) {\n            return value;\n        }\n\n        let result = new Array(value.length);\n\n        for ( let i = 0; i < value.length; i ++ ) {\n            result[i] = this.clone(value[i]);\n        }\n\n        return result;\n    }\n\n    /**\n     * Get items not in others\n     *\n     * @example Arr.diff([1,2],[2]) // => [1]\n     *\n     * @param {...Array<any>} args Arrays to diff\n     * @returns {Array<any>} Difference list\n     */\n    static diff(...args)\n    {\n        return args.reduce((a, c) => {\n            return a.filter(i => !c.includes(i))\n        });\n    }\n\n    /**\n     * Get intersecting items\n     *\n     * @example Arr.isect([1,2],[2,3]) // => [2]\n     *\n     * @param {...Array<any>} args Arrays to intersect\n     * @returns {Array<any>} Intersection list\n     */\n    static isect(...args)\n    {\n        return args.reduce((a, c) => {\n            return a.filter(i => c.includes(i))\n        });\n    }\n\n    /**\n     * Extract property values from list\n     *\n     * @example Arr.extract([{id:1}], \"id\") // => [1]\n     *\n     * @param {Array<any>} value Input list\n     * @param {any} key Key path\n     * @returns {Array<any>} Extracted list\n     */\n    static extract(value, key)\n    {\n        let result = new Array(value.length);\n\n        for ( let i = 0; i < value.length; i ++ ) {\n            result[i] = Obj.get(value[i], key);\n        }\n\n        return result;\n    }\n\n    /**\n     * Reduce list values\n     *\n     * @example Arr.reduce([1,2], (a,c)=>a+c, 0) // => 3\n     *\n     * @param {any} value Input list\n     * @param {function} callback Reducer callback\n     * @param {any} accumulator Start value\n     * @returns {any} Reduced value\n     */\n    static reduce(value, callback, accumulator)\n    {\n        return Mix.vals(value).reduce(callback, accumulator);\n    }\n\n    /**\n     * Split array into chunks\n     *\n     * @example Arr.chunk([1,2,3], 2) // => [[1,2],[3]]\n     *\n     * @param {Array<any>} value Source array\n     * @param {number} [chunk] Chunk size\n     * @returns {Array<Array<any>>} Chunked list\n     */\n    static chunk(value, chunk = 10)\n    {\n        let res = [];\n\n        for ( let i = 0; i < value.length; i += chunk ) {\n            res.push(value.slice(i, i + chunk));\n        }\n\n        return res;\n    }\n\n    /**\n     * Check if value includes search\n     *\n     * @example Arr.includes([1,2], 2) // => true\n     * @example Arr.includes([{a:1}], {a:1}) // => true\n     *\n     * @param {any} value Target value\n     * @param {any} search Search spec\n     * @returns {boolean} True if includes\n     */\n    static includes(value, search)\n    {\n        if ( Mix.isObj(search) ) {\n            return Obj.includes(value, search);\n        }\n\n        if ( !Mix.isArr(search) ) {\n            return value === search;\n        }\n\n        let [result, length] = [\n            false, search.length,\n        ];\n\n        if ( length === 0 ) {\n            return true;\n        }\n\n        for ( let i = 0; result === false && i < length; i ++ ) {\n            result ||= this.has(value, search[i]);\n        }\n\n        return result;\n    }\n\n    /**\n     * Check array contains all values\n     *\n     * @example Arr.contains([1,2], [2]) // => true\n     *\n     * @param {any} arr Target array\n     * @param {any} val Required values\n     * @returns {boolean} True if contains\n     */\n    static contains(arr, val)\n    {\n        let result = true;\n\n        for ( let key of Mix.vals(val) ) {\n            result &&= Mix.vals(arr).indexOf(key) !== - 1;\n        }\n\n        return result;\n    }\n\n    /**\n     * Check arrays match (set-like)\n     *\n     * @example Arr.matches([1,2], [2,1]) // => true\n     *\n     * @param {any} value Target list\n     * @param {any} search Search spec\n     * @returns {boolean} True if matches\n     */\n    static matches(value, search)\n    {\n        if ( Mix.isObj(search) ) {\n            return Obj.matches(value, search);\n        }\n\n        if ( !Mix.isArr(value) ) {\n            return value === search;\n        }\n\n        search = this.unique(search);\n\n        let [result, length] = [\n            true, search.length,\n        ];\n\n        if ( value.length !== search.length ) {\n            return false;\n        }\n\n        for ( let i = 0; result === true && i < length; i ++ ) {\n            result &&= this.has(value, search[i]);\n        }\n\n        return result;\n    }\n\n}\n\n/**\n * @see PicoArray.unset\n */\nPicoArray.removeIndex = function (...args) {\n    console.warn('Arr.removeIndex() is deprecated, use Arr.unset() instead.');\n    return this.unset(...args);\n};\n\n/**\n * @see PicoArray.sortPrim\n */\nPicoArray.sortString = function (...args) {\n    console.warn('Arr.sortString() is deprecated, use Arr.sortPrim() instead.');\n    return this.sortPrim(...args);\n};\n\n/**\n * @see PicoArray.append\n */\nPicoArray.push = function (...args) {\n    console.warn('Arr.push() is deprecated, use Arr.append() instead.');\n    return this.append(...args);\n};\n\n/**\n * @see PicoArray.merge\n */\nPicoArray.concat = function (...args) {\n    console.warn('Arr.concat() is deprecated, use Arr.merge() instead.');\n    return this.merge(...args);\n};\n\n/**\n * @see PicoArray.matches\n */\nPicoArray.equal = function (...args) {\n    console.warn('Arr.equal() is deprecated, use Arr.matches() instead.');\n    return this.matches(...args);\n};\n\n/**\n * @see PicoArray.diff\n */\nPicoArray.diffrence = function (...args) {\n    console.warn('Arr.diffrence() is deprecated, use Arr.diff() instead.');\n    return this.diff(...args);\n};\n\n/**\n * @see PicoArray.isect\n */\nPicoArray.intersect = function (...args) {\n    console.warn('Arr.intersect() is deprecated, use Arr.isect() instead.');\n    return this.isect(...args);\n};\n\nexport default PicoArray;","import { go, Mix, Arr } from \"../index.esm.js\";\n\nexport class PicoObject\n{\n    /**\n     * Normalize key path to array\n     *\n     * @example Obj.keyoptim(\"a.b\") // => [\"a\",\"b\"]\n     * @example Obj.keyoptim([\"a\",\"b\"]) // => [\"a\",\"b\"]\n     *\n     * @param {any} keys Key path\n     * @param {boolean} [flatten] Flatten keys\n     * @param {boolean|null} [isstr] Is string flag\n     * @returns {Array<any>} Key segments\n     */\n    static keyoptim(keys, flatten = false, isstr = null)\n    {\n        if ( isstr === null ) {\n            isstr = Mix.isStr(keys);\n        }\n\n        if ( !isstr && flatten ) {\n            keys = keys.join('.');\n        }\n\n        return isstr || flatten ? keys.split('.') : keys;\n    }\n\n    /**\n     * Check if nested key exists\n     *\n     * @example Obj.has({a:{b:1}}, \"a.b\") // => true\n     * @example Obj.has({a:{}}, \"a.b\") // => false\n     *\n     * @param {any} target Target object\n     * @param {any} keys Key path\n     * @param {boolean} [flatten] Flatten keys\n     * @returns {boolean} True if exists\n     */\n    static has(target, keys, flatten = false)\n    {\n        if ( target == null || keys == null ) {\n            return false;\n        }\n\n        if ( typeof keys === 'number' ) {\n            keys = Mix.str(keys);\n        }\n\n        const isstr = typeof keys === 'string';\n\n        if ( isstr && target && target[keys] !== undefined ) {\n            return target[keys] !== undefined;\n        }\n\n        keys = this.keyoptim(keys, flatten, isstr);\n\n        let [list, index, length] = [\n            keys.pop(), 0, keys.length\n        ];\n\n        if ( length === 0 ) {\n            return target[list] !== undefined;\n        }\n\n        while ( target != null && index < length ) {\n            target = target[keys[index ++]];\n        }\n\n        if ( target == null ) {\n            return false;\n        }\n\n        return target[list] !== undefined;\n\n    }\n\n    /**\n     * Get nested value or fallback\n     *\n     * @example Obj.get({a:{b:1}}, \"a.b\") // => 1\n     * @example Obj.get({}, \"a.b\", null) // => null\n     *\n     * @param {any} target Target object\n     * @param {any} keys Key path\n     * @param {any} [fallback] Fallback value\n     * @param {boolean} [flatten] Flatten keys\n     * @returns {any} Nested value\n     */\n    static get(target, keys, fallback = null, flatten = false)\n    {\n        if ( target == null || keys == null ) {\n            return fallback;\n        }\n\n        if ( typeof keys === 'number' ) {\n            keys = Mix.str(keys);\n        }\n\n        const isstr = typeof keys === 'string';\n\n        if ( isstr && target && target[keys] !== undefined ) {\n            return target[keys];\n        }\n\n        keys = this.keyoptim(keys, flatten, isstr);\n\n        let index = 0, length = keys.length;\n\n        if ( length === 0 ) {\n            return fallback;\n        }\n\n        while ( target != null && index < length ) {\n            target = target[keys[index ++]];\n        }\n\n        if ( target == null ) {\n            return fallback;\n        }\n\n        return target;\n    }\n\n    /**\n     * Set nested value (mutates)\n     *\n     * @example Obj.set({}, \"a.b\", 1) // => object\n     * @example Obj.set({}, [\"a\",\"b\"], 1) // => object\n     *\n     * @param {any} target Target object\n     * @param {any} keys Key path\n     * @param {any} value Value to set\n     * @param {boolean} [flatten] Flatten keys\n     * @returns {any} Mutated target\n     */\n    static set(target, keys, value, flatten = false)\n    {\n        if ( keys == null ) {\n            return target;\n        }\n\n        if ( typeof keys === 'number' ) {\n            keys = Mix.str(keys);\n        }\n\n        const isstr = typeof keys === 'string';\n\n        if ( isstr && target && target[keys] !== undefined ) {\n            return (target[keys] = value, target);\n        }\n\n        keys = this.keyoptim(keys, flatten, isstr);\n\n        if ( keys.length === 0 ) {\n            return target;\n        }\n\n        let nested = target;\n\n        for ( let mod, src, i = 0; i < keys.length; i++) {\n\n            mod = src = String(keys[i]);\n\n            if ( src.indexOf('[]') !== -1 ) {\n                mod = src.replace('[]', '');\n            }\n\n            if ( nested[mod] == null ) {\n                nested[mod] = mod === src ? {} : [];\n            }\n\n            if ( mod !== src ) {\n                Arr.insert(keys, i + 1, nested[mod].length);\n            }\n\n            if ( keys.length - 1 === i ) {\n                nested[mod] = value;\n            }\n\n            nested = nested[mod];\n        }\n\n        return target;\n    }\n\n    /**\n     * Unset nested value (mutates)\n     *\n     * @example Obj.unset({a:{b:1}}, \"a.b\")\n     * @example Obj.unset({a:{b:1}}, [\"a\",\"b\"])\n     *\n     * @param {any} target Target object\n     * @param {any} keys Key path\n     * @param {boolean} [flatten] Flatten keys\n     * @returns {any} Mutated target\n     */\n    static unset(target, keys, flatten = false)\n    {\n        if ( keys == null ) {\n            return target;\n        }\n\n        if ( typeof keys === 'number' ) {\n            keys = Mix.str(keys);\n        }\n\n        const isstr = typeof keys === 'string';\n\n        if ( isstr && target && target[keys] !== undefined ) {\n            return (delete target[keys], target);\n        }\n\n        keys = this.keyoptim(keys, flatten, isstr);\n\n        let [list, index, length, nested] = [\n            keys.pop(), 0, keys.length, target\n        ];\n\n        if ( length === 0 ) {\n            return target;\n        }\n\n        while ( nested != null && index < length ) {\n            nested = nested[keys[index ++]];\n        }\n\n        if ( nested == null ) {\n            return target;\n        }\n\n        return (delete nested[list], target);\n    }\n\n    /**\n     * Check if nested value is empty\n     *\n     * @example Obj.empty({a:null}, \"a\") // => true\n     * @example Obj.empty({a:1}, \"a\") // => false\n     *\n     * @param {any} target Target object\n     * @param {any} key Key path\n     * @returns {boolean} True if empty\n     */\n    static empty(target, key)\n    {\n        return Mix.isEmpty(this.get(target, key));\n    }\n\n    /**\n     * Unset multiple keys (mutates)\n     *\n     * @example Obj.remove({a:1,b:2}, [\"a\"]) // => object\n     *\n     * @param {any} target Target object\n     * @param {any} keys Keys list\n     * @returns {any} Mutated target\n     */\n    static remove(target, keys)\n    {\n        if ( ! Mix.isArr(keys) ) {\n            return target;\n        }\n\n        for ( let key of keys ) {\n            this.unset(target, key);\n        }\n\n        return target;\n    }\n\n    /**\n     * Map object values to object\n     *\n     * @example Obj.each({a:1}, v => v+1) // => {a:2}\n     *\n     * @param {any} value Source object\n     * @param {function} cb Map callback\n     * @param {any} [retval] Forced return\n     * @returns {any} Mapped object\n     */\n    static each(value, cb, retval = null)\n    {\n        let result = {};\n\n        for ( let key of Mix.keys(value) ) {\n            result[key] = cb(value[key], key);\n        }\n\n        if ( retval != null ) {\n            return retval;\n        }\n\n        return result;\n    }\n\n    /**\n     * Map object values to object\n     *\n     * @example Obj.map({a:1}, v => v+1) // => {a:2}\n     *\n     * @param {any} value Source object\n     * @param {function} cb Map callback\n     * @returns {Record<string, any>} Mapped object\n     */\n    static map(value, cb)\n    {\n        for ( let key of Mix.keys(value) ) {\n            value[key] = cb(value[key], key);\n        }\n\n        return value;\n    }\n\n    /**\n     * Get filtered key indexes\n     *\n     * @example Obj.filterIndex({a:1,b:null}) // => [\"a\"]\n     *\n     * @param {any} value Source object\n     * @param {any} [filter] Filter spec\n     * @returns {Array<any>} Key list\n     */\n    static filterIndex(value, filter = null)\n    {\n        return Arr.filterIndex(value, filter);\n    }\n\n    /**\n     * Filter object by key filter\n     *\n     * @example Obj.filter({a:1,b:null}) // => {a:1}\n     *\n     * @param {any} value Source object\n     * @param {any} [filter] Filter spec\n     * @returns {Record<string, any>} Filtered object\n     */\n    static filter(value, filter = null)\n    {\n        let result = {};\n\n        for (let key of this.filterIndex(value, filter)) {\n            result[key] = value[key];\n        }\n\n        return result;\n    }\n\n    /**\n     * Flatten object into dot keys\n     *\n     * @example Obj.flatten({a:{b:1}}) // => {\"a.b\":1}\n     *\n     * @param {any} value Source object\n     * @param {string} [prefix] Key prefix\n     * @param {Record<string, any>} [result] Result map\n     * @returns {Record<string, any>} Flat map\n     */\n    static flatten(value, prefix = '', result = {})\n    {\n        if ( typeof value !== 'object' ) {\n            return result[prefix] = value;\n        }\n\n        if ( prefix !== '' ) {\n            prefix += '.';\n        }\n\n        for ( let key of Mix.keys(value) ) {\n            this.flatten(value[key], prefix + key, result);\n        }\n\n        return result;\n    }\n\n    /**\n     * Flatten object into form keys\n     *\n     * @example Obj.flattenForm({a:{b:1}}) // => {\"a[b]\":1}\n     *\n     * @param {any} value Source object\n     * @param {string} [prefix] Key prefix\n     * @param {Record<string, any>} [result] Result map\n     * @returns {Record<string, any>} Flat map\n     */\n    static flattenForm(value, prefix = '', result = {})\n    {\n        if ( typeof value !== 'object' ) {\n            return result[prefix] = value;\n        }\n\n        let fn = (key) => {\n            return prefix ? `${prefix}[${key}]` : key;\n        };\n\n        for ( let key of Mix.keys(value) ) {\n            this.flattenForm(value[key], fn(key), result);\n        }\n\n        return result;\n    }\n\n    /**\n     * Unpack dotted keys into object\n     *\n     * @example Obj.unpack({\"a.b\":1}) // => {a:{b:1}}\n     *\n     * @param {any} value Flat key map\n     * @param {Record<string, any>} [result] Result object\n     * @returns {Record<string, any>} Unpacked object\n     */\n    static unpack(value, result = {})\n    {\n        Arr.each(Mix.keys(value), (key) => {\n            this.set(result, key, value[key]);\n        });\n\n        return result;\n    }\n\n    /**\n     * Assign objects (Object.assign)\n     *\n     * @example Obj.assign({}, {a:1}) // => {a:1}\n     *\n     * @param {...any} args Assign args\n     * @returns {any} Assigned object\n     */\n    static assign(...args)\n    {\n        return Object.assign(...args);\n    }\n\n    /**\n     * Deep clone primitive/array/object\n     *\n     * @example Obj.clone({a:{b:1}}) // => new object\n     *\n     * @param {any} value Value to clone\n     * @param {any} [merge] Merge values\n     * @returns {any} Cloned value\n     */\n    static clone(value, merge = null)\n    {\n        if ( Mix.isPrim(value) ) {\n            return value;\n        }\n\n        if ( Mix.isArr(value) ) {\n            return Arr.clone(value);\n        }\n\n        if ( ! Mix.isObj(value) ) {\n            return value;\n        }\n\n        let result = {};\n\n        for ( let key of Mix.keys(value) ) {\n            result[key] = this.clone(value[key]);\n        }\n\n        if ( merge != null ) {\n            return this.assign(result, merge);\n        }\n\n        return result;\n    }\n\n    /**\n     * Get and remove nested value\n     *\n     * @example Obj.pluck({a:1}, \"a\") // => 1\n     *\n     * @param {any} value Source object\n     * @param {any} key Key path\n     * @param {any} [fallback] Fallback value\n     * @returns {any} Plucked value\n     */\n    static pluck(value, key, fallback = null)\n    {\n        let result = this.get(value, key, fallback);\n\n        this.unset(value, key);\n\n        return result;\n    }\n\n    /**\n     * Pick only given keys\n     *\n     * @example Obj.only({a:1,b:2}, [\"a\"]) // => {a:1}\n     *\n     * @param {any} value Source object\n     * @param {Array<any>} keys Allowed keys\n     * @param {any} [merge] Merge values\n     * @returns {Record<string, any>} Picked object\n     */\n    static only(value, keys, merge = null)\n    {\n        let result = {};\n\n        this.each(value, (val, key) => {\n            if ( Arr.has(keys, key) ) result[key] = val;\n        });\n\n        if ( merge == null ) {\n            return result;\n        }\n\n        return this.assign(result, merge);\n    }\n\n    /**\n     * Pick all keys except given\n     *\n     * @example Obj.except({a:1,b:2}, [\"a\"]) // => {b:2}\n     *\n     * @param {any} value Source object\n     * @param {Array<any>} keys Excluded keys\n     * @param {any} [merge] Merge values\n     * @returns {Record<string, any>} Picked object\n     */\n    static except(value, keys, merge = null)\n    {\n        let result = {};\n\n        this.each(value, (val, key) => {\n            if ( ! Arr.has(keys, key) ) result[key] = val;\n        });\n\n        if ( merge == null ) {\n            return result;\n        }\n\n        return this.assign(result, merge);\n    }\n\n    /**\n     * Check if value includes search\n     *\n     * @example Obj.includes({a:1}, {a:1}) // => true\n     * @example Obj.includes({a:1}, {a:2}) // => false\n     *\n     * @param {any} value Source value\n     * @param {any} search Search spec\n     * @returns {boolean} True if includes\n     */\n    static includes(value, search)\n    {\n        if ( Mix.isArr(search) ) {\n            return Arr.includes(value, search);\n        }\n\n        if ( ! Mix.isObj(search) ) {\n            return value === search;\n        }\n\n        let keys = Mix.keys(search);\n\n        let [result, length] = [\n            true, keys.length,\n        ];\n\n        for ( let i = 0; result === true && i < length; i++) {\n            result = this.includes(...[\n                value[keys[i]], search[keys[i]]\n            ]);\n        }\n\n        return result;\n    }\n\n    /**\n     * Check if value matches search\n     *\n     * @example Obj.matches({a:1}, {a:1}) // => true\n     * @example Obj.matches({a:1}, {b:1}) // => false\n     *\n     * @param {any} value Source value\n     * @param {any} search Search spec\n     * @returns {boolean} True if matches\n     */\n    static matches(value, search)\n    {\n        if ( Mix.isArr(search) ) {\n            return Arr.matches(value, search);\n        }\n\n        if ( ! Mix.isObj(value) ) {\n            return value === search;\n        }\n\n        let keys = Arr.unique([\n            ...Mix.keys(search), ...Mix.keys(value)\n        ]);\n\n        let [result, length] = [\n            true, keys.length,\n        ];\n\n        for ( let i = 0; result === true && i < length; i++) {\n            result &&= this.matches(...[\n                value[keys[i]], search[keys[i]]\n            ]);\n        }\n\n        return result;\n    }\n\n    static sort(obj, key)\n    {\n        let keys = Mix.keys(obj);\n\n        if ( Mix.isFunction(key) ) {\n            keys = keys.sort((a, b) => {\n                return key.call({}, obj[a], obj[b]);\n            });\n        }\n\n        if ( !Mix.isFunction(key) ) {\n            keys = keys.sort((a, b) => {\n                return Mix.integer(this.get(obj[a], key)) - Mix.integer(this.get(obj[b], key));\n            })\n        }\n\n        let result = [];\n\n        Arr.each(keys, (key, index) => {\n            obj[key]['_key'] = key;\n            result[index] = obj[key];\n        });\n\n        return result;\n    }\n\n    static sortString(obj, key)\n    {\n        let keys = Mix.keys(obj);\n\n        if ( !Mix.isFunction(key) ) {\n            keys = keys.sort((a, b) => {\n\n                let va = Mix.string(this.get(obj[a], key)).toLowerCase();\n                let vb = Mix.string(this.get(obj[b], key)).toLowerCase();\n\n                return (va < vb) ? - 1 : (va > vb) ? 1 : 0;\n            })\n        }\n\n        let result = [];\n\n        Arr.each(keys, (key, index) => {\n            obj[key]['_key'] = key;\n            result[index] = obj[key];\n        });\n\n        return result;\n    }\n\n}\n\n/**\n * @see PicoMixed.vals\n */\nPicoObject.values = (...args) => {\n    console.warn('Obj.values() is deprecated, use Mix.vals() instead.');\n    return Mix.vals(...args);\n};\n\n/**\n * @see PicoArray.find\n */\nPicoObject.find = (...args) => {\n    console.warn('Obj.find() is deprecated, use Arr.find() instead.');\n    return Arr.find(...args);\n};\n\n/**\n * @see PicoArray.findIndex\n */\nPicoObject.findIndex = (...args) => {\n    console.warn('Obj.findIndex() is deprecated, use Arr.findIndex() instead.');\n    return Arr.findIndex(...args);\n};\n\n// /**\n//  * @see PicoArray.sort\n//  */\n// PicoObject.sort = (...args) => {\n//     console.warn('Obj.sort() is deprecated, use Arr.sort() instead.');\n//     return Arr.sort(...args);\n// };\n//\n// /**\n//  * @see PicoArray.sortDeep\n//  */\n// PicoObject.sortString = (...args) => {\n//     console.warn('Obj.sortString() is deprecated, use Arr.sortDeep() instead.');\n//     return Arr.sortDeep(...args);\n// };\n\nexport default PicoObject","import { go, Arr, Mix, Run, Now, Locale, Str, Obj } from \"../index.esm.js\";\n\nexport const MIX_REGEX = {\n    'iso': /^\\d{4}-\\d{2}-\\d{2}[T\\s]\\d{2}:\\d{2}:\\d{2}(?:\\.\\d+)?(?:Z|[+-]\\d{2}:\\d{2})$/,\n};\n\nexport class PicoMixed\n{\n    /**\n     * Check if the value is empty\n     *\n     * @example Mix.isEmpty('') // => true\n     * @example Mix.isEmpty(null) // => true\n     * @example Mix.isEmpty([]) // => true\n     * @example Mix.isEmpty({}) // => true\n     * @example Mix.isEmpty(false) // => false\n     *\n     * @param {any} value The value to test\n     * @returns {boolean} Returns true if value is not empty\n     */\n    static isEmpty(value)\n    {\n        if ( value == null ) {\n            return true;\n        }\n\n        if ( typeof value === 'string' ) {\n            return value === '';\n        }\n\n        if ( typeof value === 'number' ) {\n            return false;\n        }\n\n        if ( typeof value === 'boolean' ) {\n            return false;\n        }\n\n        if ( this.isArr(value) ) {\n            return value.length === 0;\n        }\n\n        return this.len(value) === 0;\n    }\n\n    /**\n     * Check if the value is null\n     *\n     * @example Mix.isNull(null) // => true\n     * @example Mix.isNull(undefined) // => false\n     * @example Mix.isNull(0) // => false\n     * @example Mix.isNull('') // => false\n     *\n     * @param {any} value The value to test\n     * @returns {boolean} Return true if null\n     */\n    static isNull(value)\n    {\n        return value === null;\n    }\n\n    /**\n     * Check if the value is undefined\n     *\n     * @example Mix.isUndef(undefined) // => true\n     * @example Mix.isUndef(null) // => false\n     * @example Mix.isUndef(0) // => false\n     * @example Mix.isUndef('') // => false\n     *\n     * @param {any} value The value to test\n     * @returns {boolean} Return true if undefined\n     */\n    static isUndef(value)\n    {\n        return value === undefined;\n    }\n\n    /**\n     * Check if the value is null or undefined\n     *\n     * @example Mix.isNix(null) // => true\n     * @example Mix.isNix(undefined) // => true\n     * @example Mix.isNix(0) // => false\n     * @example Mix.isNix('') // => false\n     *\n     * @param {any} value The value to test\n     * @returns {boolean} Return true if null or undefined\n     */\n    static isNix(value)\n    {\n        return value === undefined || value === null;\n    }\n\n    /**\n     * Check if the value is string or number\n     *\n     * @example Mix.isPrim('foo') // => true\n     * @example Mix.isPrim(2.2) // => true\n     * @example Mix.isPrim([]) // => false\n     * @example Mix.isPrim(null) // => false\n     *\n     * @param {any} value The value to test\n     * @returns {boolean} Return true if typeof string or number\n     */\n    static isPrim(value)\n    {\n        return typeof value === 'string' || typeof value === 'number';\n    }\n\n    /**\n     * @see PicoMixed.isPrim\n     */\n    static isPrimitive = PicoMixed.isPrim;\n\n    /**\n     * Check if the value is a string\n     *\n     * @example Mix.isStr('foo') // => true\n     * @example Mix.isStr(1) // => false\n     *\n     * @param {any} value The value to test\n     * @returns {boolean} Return true if is string\n     */\n    static isStr(value)\n    {\n        return typeof value === 'string';\n    }\n\n    /**\n     * @see PicoMixed.isStr\n     */\n    static isString = PicoMixed.isStr;\n\n    /**\n     * Check if the value is a number\n     *\n     * @example Mix.isNum(12.2) // => true\n     * @example Mix.isNum('-4.3') // => true\n     * @example Mix.isNum('13f') // => false\n     *\n     * @param {any} value The value to test\n     * @returns {boolean} Return true if is number\n     */\n    static isNum(value)\n    {\n        if ( typeof value === 'number' ) {\n            return true;\n        }\n\n        if ( this.isStr(value) ) {\n            return /^-?[0-9]+(\\.[0-9]+)?$/.test(value);\n        }\n\n        return false;\n    }\n\n    /**\n     * @see PicoMixed.isNum\n     */\n    static isNumber = PicoMixed.isNum;\n\n    /**\n     * Check if the value is an integer\n     *\n     * @example Mix.isInt(12) // => true\n     * @example Mix.isInt('4') // => true\n     * @example Mix.isInt('-4.3') // => false\n     * @example Mix.isInt(3.4) // => false\n     *\n     * @param {any} value The value to test\n     * @returns {boolean} Return true if is integer\n     */\n    static isInt(value)\n    {\n        if ( !this.isNum(value) ) {\n            return false;\n        }\n\n        if ( this.isStr(value) ) {\n            return /^-?[0-9]+$/.test(value);\n        }\n\n        return parseInt(value) === parseFloat(value);\n    }\n\n    /**\n     * @see PicoMixed.isInt\n     */\n    static isInteger = PicoMixed.isInt;\n\n    /**\n     * Check if the value is a boolean\n     *\n     * @example Mix.isBool(false) // => true\n     * @example Mix.isBool('true') // => true\n     * @example Mix.isBool(1) // => false\n     * @example Mix.isBool('1') // => false\n     *\n     * @param {any} value The value to test\n     * @returns {boolean} Return true if is boolean\n     */\n    static isBool(value)\n    {\n        if ( typeof value === 'boolean' ) {\n            return true;\n        }\n\n        if ( this.isStr(value) ) {\n            return /^(true|false)$/.test(value);\n        }\n\n        return false;\n    }\n\n    /**\n     * @see PicoMixed.isBool\n     */\n    static isBoolean = PicoMixed.isBool;\n\n    /**\n     * Check if the value is a function\n     *\n     * @example Mix.isFunc(() => {}) // => true\n     * @example Mix.isFunc(Mix.isFunc) // => true\n     * @example Mix.isFunc({}) // => false\n     * @example Mix.isFunc('1') // => false\n     *\n     * @param {any} value The value to test\n     * @returns {boolean} Return true if is function\n     */\n    static isFunc(value)\n    {\n        return typeof value === 'function';\n    }\n\n    /**\n     * @see PicoMixed.isFunc\n     */\n    static isFunction = PicoMixed.isFunc;\n\n    /**\n     * Check if the value is object\n     *\n     * @example Mix.isRef({}) // => true\n     * @example Mix.isRef([]) // => true\n     * @example Mix.isRef(() => {}) // => false\n     * @example Mix.isRef(null) // => false\n     * @example Mix.isRef(undefined) // => false\n     *\n     * @param {any} value The value to test\n     * @returns {boolean} Returns true if is an object\n     */\n    static isRef(value)\n    {\n        if ( value == null ) {\n            return false;\n        }\n\n        return typeof value === 'object';\n    }\n\n    /**\n     * @see PicoMixed.isRef\n     */\n    static isReference = PicoMixed.isRef;\n\n    /**\n     * Check if the value is plain object\n     *\n     * @example Mix.isObj({}) // => true\n     * @example Mix.isObj([]) // => false\n     *\n     * @param {any} value The value to test\n     * @returns {boolean} Returns true if is plain object\n     */\n    static isObj(value)\n    {\n        if ( value == null ) {\n            return false;\n        }\n\n        return typeof value === 'object' && value.constructor === Object;\n    }\n\n    /**\n     * @see PicoMixed.isObj\n     */\n    static isObject = PicoMixed.isObj;\n\n    /**\n     * Check if the value is array object\n     *\n     * @example Mix.isArr([]) // => true\n     * @example Mix.isArr({}) // => false\n     *\n     * @param {any} value The Value to test\n     * @returns {boolean} Returns true if is array object\n     */\n    static isArr(value)\n    {\n        if ( value == null ) {\n            return false;\n        }\n\n        return typeof value === 'object' && value.constructor === Array;\n    }\n\n    /**\n     * @see PicoMixed.isArr\n     */\n    static isArray = PicoMixed.isArr;\n\n    /**\n     * Check if the value is iterable object\n     *\n     * @example Mix.isIter(new FormData()) // => true\n     * @example Mix.isIter({}) // => false\n     *\n     * @param {any} value The Value to test\n     * @returns {boolean} Returns true if is iterable object\n     */\n    static isIter(value)\n    {\n        if ( this.isArr(value) ) {\n            return false;\n        }\n\n        if ( !this.isRef(value) ) {\n            return false;\n        }\n\n        return this.isFunc(value.entries);\n    }\n\n    /**\n     * @see PicoMixed.isIter\n     */\n    static isIterable = PicoMixed.isIter;\n\n    /**\n     * Check if the value is iso date\n     *\n     * @example Mix.isIsoDate(new Date()) // => true\n     * @example Mix.isIsoDate(new Date()) // => true\n     * @example Mix.isIsoDate('2023-01-01 00:00:00') // => true\n     *\n     * @param {any} value The Value to test\n     * @returns {boolean} Returns true if is iso date\n     */\n    static isIsoDate(value)\n    {\n        if ( value instanceof Date ) {\n            return true;\n        }\n\n        return MIX_REGEX.iso.test(value);\n    }\n\n    /**\n     * Check if the value is valid date\n     *\n     * @example Mix.isIsoDate(new Date()) // => true\n     * @example Mix.isIsoDate('2023-01-01') // => true\n     * @example Mix.isIsoDate('2023-01-01 00:00:00') // => false\n     *\n     * @param {any} value The Value to test\n     * @returns {boolean} Returns true if is valid date\n     */\n    static isDate(value)\n    {\n        if ( value instanceof Date ) {\n            return true;\n        }\n\n        return /^\\d{4}-\\d{2}-\\d{2}$/.test(value);\n    }\n\n    /**\n     * Check if the value is valid time\n     *\n     * @example Mix.isIsoDate(new Date()) // => true\n     * @example Mix.isIsoDate('00:00:00') // => true\n     * @example Mix.isIsoDate('2023-01-01 00:00:00') // => false\n     *\n     * @param {any} value The Value to test\n     * @returns {boolean} Returns true if is valid time\n     */\n    static isTime(value)\n    {\n        if ( value instanceof Date ) {\n            return true;\n        }\n\n        return /^\\d{2}:\\d{2}:\\d{2}$/.test(value);\n    }\n\n    /**\n     * Check if value is equal\n     *\n     * @example Mix.isEqual(el, el) // => true\n     *\n     * @param {any} obj Source value\n     * @param {any} val Compare value\n     * @returns {boolean} True if equal\n     */\n    static isEqual(obj, val)\n    {\n        if ( obj instanceof Node ) {\n            return obj.isEqualNode(val);\n        }\n\n        if ( this.isRef(obj) ) {\n            return Object.is(obj, val)\n        }\n\n        return obj === val;\n    }\n\n    /**\n     * Convert iterable object to a regular object\n     *\n     * @example Mix.iter(new FormData()) // => {}\n     *\n     * @param {any} value Value to convert\n     * @returns {Record<string, any>} Converted object\n     */\n    static iter(value)\n    {\n        if ( value == null ) {\n            return {};\n        }\n\n        let result = {};\n\n        for ( const [key, val] of value.entries() ) {\n            result[key] = val;\n        }\n\n        return result;\n    }\n\n    /**\n     * Get keys of an object\n     *\n     * @example Mix.keys({a: 'v1', b: 'v2'}) // => ['a', 'b']\n     * @example Mix.keys(['v1', 'v2']) // => ['0', '1']\n     *\n     * @param {any} value Object to iterate\n     * @returns {Array<any>} Returns array with keys\n     */\n    static keys(value)\n    {\n        if ( value == null ) {\n            return [];\n        }\n\n        if ( this.isFunc(value.toJSON) ) {\n            value = value.toJSON();\n        }\n\n        if ( this.isIter(value) ) {\n            value = this.iter(value);\n        }\n\n        return Object.keys(value);\n    }\n\n    /**\n     * Get values of an object\n     *\n     * @example Mix.vals({a: 'v1', b: 'v2'}) // => ['v1', 'v2']\n     * @example Mix.vals(['v1', 'v2']) // => ['v1', 'v2']\n     *\n     * @param {any} value Object to iterate\n     * @returns {Array<any>} Returns array with values\n     */\n    static vals(value)\n    {\n        if ( value == null ) {\n            return [];\n        }\n\n        if ( this.isFunc(value.toJSON) ) {\n            value = value.toJSON();\n        }\n\n        if ( this.isIter(value) ) {\n            value = this.iter(value);\n        }\n\n        if ( this.isArr(value) || !go().chrome ) {\n            return Object.values(value);\n        }\n\n        let keys = this.keys(value);\n\n        for ( let i = 0; i < keys.length; i ++ ) {\n            keys[i] = value[keys[i]];\n        }\n\n        return keys;\n    }\n\n    /**\n     * Cast to array\n     *\n     * @example Mix.nodes(nodeList) // => []\n     *\n     * @param {any} value Source value\n     * @returns {Array<any>} Array result\n     */\n    static nodes(value)\n    {\n        return Array.prototype.slice.call(value);\n    }\n\n    /**\n     * Get own props excluding keys\n     *\n     * @example Mix.props(Math, [\"PI\"]) // => {}\n     *\n     * @param {any} value Source object\n     * @param {Array<any>} [exclude] Exclude keys\n     * @returns {Record<string, any>} Props map\n     */\n    static props(value, exclude = [])\n    {\n        let result = {};\n\n        for ( const key of Object.getOwnPropertyNames(value) ) {\n            if ( exclude.length && !Arr.has(exclude, key) ) {\n                result[key] = value[key];\n            }\n        }\n\n        return result;\n    }\n\n    static extend(target, value, exclude = ['constructor'])\n    {\n        if ( value == null ) {\n            return {};\n        }\n\n        let proto = Object.getPrototypeOf(value);\n\n        for ( const key of Object.getOwnPropertyNames(value) ) {\n\n            if ( !exclude.length || Arr.has(exclude, key) ) {\n                continue;\n            }\n\n            let desc = Object.getOwnPropertyDescriptor(proto, key);\n\n            if ( !desc ) {\n                desc = Object.getOwnPropertyDescriptor(value, key);\n            }\n\n            if ( !desc && (!desc.get && !desc.set) ) {\n                target[key] = value[key];\n            }\n\n            if ( desc && (desc.get || desc.set) ) {\n                Object.defineProperty(target, key, desc);\n            }\n        }\n\n        return target;\n    }\n\n    /**\n     * Get static class props\n     *\n     * @example Mix.class(MyClass) // => {}\n     *\n     * @param {any} value Source class\n     * @param {Array<any>} [exclude] Exclude keys\n     * @returns {Record<string, any>} Props map\n     */\n    static class(value, exclude = [])\n    {\n        exclude = Arr.merge(exclude, [\n            'length', 'name', 'prototype', 'constructor'\n        ]);\n\n        return this.props(value, exclude);\n    }\n\n    /**\n     * Get prototype props\n     *\n     * @example Mix.proto(MyClass) // => {}\n     *\n     * @param {any} value Source class\n     * @param {Array<any>} [exclude] Exclude keys\n     * @returns {Record<string, any>} Props map\n     */\n    static proto(value, exclude = [])\n    {\n        exclude = Arr.merge(exclude, [\n            'constructor'\n        ]);\n\n        return this.props(value.prototype, exclude);\n    }\n\n    /**\n     * Create form data\n     *\n     * @example Mix.form({ a: 1 }) // => FormData\n     *\n     * @param {any} value Source object\n     * @returns {FormData} Form instance\n     */\n    static form(value)\n    {\n        let form = new FormData();\n\n        Obj.each(Obj.flattenForm(value), (val, key) => {\n            form.append(key, val);\n        });\n\n        return form;\n    }\n\n    /**\n     * Loop over items\n     *\n     * @example Mix.vals(FormData, (val, key) => null) // => Mix\n     * @example Mix.vals(NodeList, (val, key) => null) // => Mix\n     *\n     * @param {any} value Value to loop\n     * @param {function} cb Callback for each loop\n     * @returns {PicoMixed} Returns Mix instance\n     */\n    static each(value, cb)\n    {\n        if ( !this.isRef(value) ) {\n            throw new Error('Iterate non object');\n        }\n\n        for ( let key of Mix.keys(value) ) {\n            cb(value[key], key);\n        }\n\n        return this;\n    }\n\n    /**\n     * Get length of value\n     *\n     * @example Mix.len({a: 'v1', b: 'v2'}) // => 2\n     * @example Mix.len(['v1', 'v2']) // => 2\n     * @example Mix.len('foobar') // => 6\n     * @example Mix.len(12) // => 2\n     *\n     * @param {any} value The value to count\n     * @returns {number} Returns length of value\n     */\n    static len(value)\n    {\n        if ( this.isArr(value) ) {\n            return value.length;\n        }\n\n        if ( !this.isRef(value) ) {\n            return this.string(value).length;\n        }\n\n        return this.keys(value).length;\n    }\n\n    /**\n     * @see PicoMixed.length\n     */\n    static length = PicoMixed.len;\n\n    /**\n     * Compare two objects (used for natural array sort)\n     *\n     * @param {any} value First compare value\n     * @param {any} compare Second compare value\n     * @returns {number} Returns sort position\n     */\n    static compare(value, compare)\n    {\n        return Locale.collator().compare(value, compare);\n    }\n\n    /**\n     * Get value as null\n     *\n     * @example Mix.null(\"null\") // => null\n     *\n     * @param {any} value Input value\n     * @param {any} [fallback] Fallback value\n     * @returns {any} Null or fallback\n     */\n    static null(value, fallback = null)\n    {\n        if ( value === 'null' ) {\n            return null;\n        }\n\n        if ( this.isEmpty(value) ) {\n            return null;\n        }\n\n        return fallback;\n    }\n\n    /**\n     * Cast to array\n     *\n     * @example Mix.arr(\"a,b\") // => [\"a\", \"b\"]\n     *\n     * @param {any} value Source value\n     * @returns {Array<any>} Array result\n     */\n    static arr(value)\n    {\n        if ( this.isArr(value) ) {\n            return value;\n        }\n\n        if ( !this.isStr(value) ) {\n            return [value];\n        }\n\n        value = value.replace(/^@?\\[?(.*?)]$/g, '$1');\n\n        return Arr.each(value.split(','), (val) => {\n            return val.replace(/(^\"|^'|'$|\"$)/g, '');\n        });\n    }\n\n    /**\n     * @see PicoMixed.arr\n     */\n    static array = PicoMixed.arr;\n\n    /**\n     * Convert value to string\n     *\n     * @example Mix.str('foobar') // => 'foobar'\n     * @example Mix.str(12) // => '12'\n     * @example Mix.str(true) // => 'true'\n     * @example Mix.str(null) // => 'null'\n     * @example Mix.str(undefined) // => 'undefined'\n     *\n     * @param {any} value The value to convert\n     * @returns {string} Return value as string\n     */\n    static str(value)\n    {\n        if ( this.isNix(value) ) {\n            return String(value);\n        }\n\n        if ( value.toString === undefined ) {\n            return String(value);\n        }\n\n        return value.toString();\n    }\n\n    /**\n     * @see PicoMixed.str\n     */\n    static string = PicoMixed.str;\n\n    /**\n     * Convert value to number\n     *\n     * @example Mix.num('-2.2') // => -2.2\n     * @example Mix.num(12) // => 12\n     * @example Mix.num('foobar') // => NaN\n     * @example Mix.num(true) // => NaN\n     *\n     * @param {any} value The value to convert\n     * @param {any} fallback Fallback incase it is not primitive\n     * @returns {number|any} Return value as number\n     */\n    static num(value, fallback = NaN)\n    {\n        if ( !this.isPrim(value) ) {\n            return fallback;\n        }\n\n        if ( this.isStr(value) ) {\n            value = parseFloat(value);\n        }\n\n        return value;\n    }\n\n    /**\n     * @see PicoMixed.num\n     */\n    static number = PicoMixed.num;\n\n    /**\n     * Convert value to integer\n     *\n     * @example Mix.int('-2.2') // => -2\n     * @example Mix.int(12) // => 12\n     * @example Mix.int('foobar') // => NaN\n     * @example Mix.int(true) // => NaN\n     *\n     * @param {any} value The value to convert\n     * @param {any} fallback Fallback incase it is not primitive\n     * @returns {number|any} Return value as integer\n     */\n    static int(value, fallback = NaN)\n    {\n        if ( !this.isPrim(value) ) {\n            return fallback;\n        }\n\n        if ( this.isStr(value) ) {\n            value = parseFloat(value);\n        }\n\n        return Math.round(value);\n    }\n\n    /**\n     * @see PicoMixed.int\n     */\n    static integer = PicoMixed.int;\n\n    /**\n     * Convert value to boolean\n     *\n     * @example Mix.int(true) // => true\n     * @example Mix.int(12) // => true\n     * @example Mix.int(0) // => false\n     * @example Mix.int('yes') // => true\n     * @example Mix.int('foobar') // => false\n     * @example Mix.int(['v1']) // => true\n     * @example Mix.int({}) // => false\n     *\n     * @param {any} value The value to convert\n     * @returns {boolean} Return value as boolean\n     */\n    static bool(value)\n    {\n        if ( this.isRef(value) ) {\n            return !!this.vals(value).length;\n        }\n\n        if ( this.isNum(value) ) {\n            return this.num(value) !== 0;\n        }\n\n        return /^(true|yes)$/i.test(value);\n    }\n\n    /**\n     * @see PicoMixed.bool\n     */\n    static boolean = PicoMixed.bool;\n}\n\nPicoMixed.global = function (...args) {\n    console.warn('Mix.global() is deprecated, use go() instead.');\n    return go(...args);\n};\n\nPicoMixed.isPlain = function (...args) {\n    console.warn('Mix.isPlain() is deprecated, use Mix.isObj() instead.');\n    return Mix.isObj(...args);\n};\n\nPicoMixed.float = function (...args) {\n    console.warn('Mix.float() is deprecated, use Mix.num() instead.');\n    return Mix.num(...args);\n};\n\nPicoMixed.delay = function (...args) {\n    console.warn('Mix.delay() is deprecated, use Run.delay() instead.');\n    return Run.delay(...args);\n};\n\nPicoMixed.async = function (...args) {\n    console.warn('Mix.async() is deprecated, use Run.async() instead.');\n    return Run.async(...args);\n};\n\nPicoMixed.debounce = function (...args) {\n    console.warn('Mix.debounce() is deprecated, use Run.debounce() instead.');\n    return Run.debounce(...args);\n};\n\nPicoMixed.throttle = function (...args) {\n    console.warn('Mix.throttle() is deprecated, use Run.throttle() instead.');\n    return Run.throttle(...args);\n};\n\nPicoMixed.framerate = function (...args) {\n    console.warn('Mix.framerate() is deprecated, use Run.framerate() instead.');\n    return Run.framerate(...args);\n};\n\nPicoMixed.convertString = function (...args) {\n    console.warn('Mix.convertString() is deprecated, use Str.string() instead.');\n    return Str.string(...args);\n};\n\nPicoMixed.convertDatetime = function (...args) {\n    console.warn('Mix.convertDatetime() is deprecated, use Str.date() instead.');\n    return Str.date(...args);\n};\n\nPicoMixed.convertBool = function (...args) {\n    console.warn('Mix.convertBool() is deprecated, use Str.boolean() instead.');\n    return Str.boolean(...args);\n};\n\nPicoMixed.convertBoolean = function (...args) {\n    console.warn('Mix.convertBoolean() is deprecated, use Str.boolean() instead.');\n    return Str.boolean(...args);\n};\n\n\nexport default PicoMixed;","import { Str } from \"../index.esm.js\";\n\n/**\n * @var {Array<string>} RADIX_NUMBER Radix from 0 to 9\n */\nexport const RADIX_NUMBER = [\n    '0', '1', '2', '3', '4', '5', '6', '7', '8', '9'\n];\n\n/**\n * @var {Array<string>} RADIX_LETTER_LC Radix from a to z\n */\nexport const RADIX_LETTER_LC = [\n    'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z',\n];\n\n/**\n * @var {Array<string>} RADIX_LETTER_UC Radix from A to Z\n */\nexport const RADIX_LETTER_UC = [\n    'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z'\n];\n\n/**\n * @var {Array<string>} RADIX_UUID Radix from 0-9, a-f and A-F\n */\nexport const RADIX_UUID = [\n    '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f', 'A', 'B', 'C', 'D', 'E', 'F',\n];\n\n\n/**\n * @var {Array<string>} RADIX_UP19 Radix with 8, 9, a and b\n */\nexport const RADIX_UP19 = [\n    '8', '9', 'a', 'b',\n];\n\n/**\n * @var {Array<string>} radix_symbol_pass Radix for passwords\n */\nexport const radix_symbol_pass = [\n    '@', '#', '$', '%', '^', '&', '*', '(', ')', '_', '+', '-', '=', '[', ']', '{', '}', ';', ':', ',', '.', '/', '<', '>', '?'\n];\n\nexport class PicoHash\n{\n\n    /**\n     * @var {Array<string>} RADIX\n     */\n    static RADIX = [\n        ...RADIX_NUMBER, ...RADIX_LETTER_LC, ...RADIX_LETTER_UC\n    ];\n\n    /**\n     * Get random char from radix\n     *\n     * @example Hash.radix(2, ['R', 'f']) // => 'R' or 'f'\n     *\n     * @param {number} [limit=60] Maximum radix char index\n     * @param {Array<string>} [radix=null] A defined radix or null for default\n     * @returns {string} Returns random char from radix\n     */\n    static radix(limit = 60, radix = null)\n    {\n        return (radix || this.RADIX)[this.number(limit - 1)];\n    }\n\n    /**\n     * Get random number\n     *\n     * @example Hash.number(20, 18) // => 18, 19 or 20\n     *\n     * @param {number} [limit=1024] Maximum value\n     * @param {number} [start=0] Minimum value\n     * @returns {number} Returns a random number between start and limit\n     */\n    static number(limit = 1024, start = 0)\n    {\n        return Math.floor(Math.random() * (limit - start + 1)) + start;\n    }\n\n    /**\n     * Get a random hash with given options\n     *\n     * @example Hash.make(4, 32, { 0: '?' }) // => '?8Wj'\n     *\n     * @param {number} [length] Length of generated hash\n     * @param {number} [radix] Maximum radix char index (10 for 0-9, 36 incl. a-z, 62 incl. A-Z)\n     * @param {Record<number, string>} [map] Remap for generated string\n     * @returns {string} Returns a random hash with fixed length\n     */\n    static make(length = 6, radix = 62, map = {})\n    {\n        let hash = '';\n\n        for ( let i = 0; i < length; i ++ ) {\n            hash += this.radix(radix);\n        }\n\n        for ( const k of Object.keys(map) ) {\n            hash = Str.set(hash, k, map[k]);\n        }\n\n        return hash;\n    }\n\n    /**\n     * Get a valid v4 UUID\n     *\n     * @example Hash.uuid() // => 'FBbA001F-0a01-4bE8-b29C-A9c47fA090f'\n     *\n     * @param {string|number} [version] UUID version number\n     * @returns {string} Returns a valid UUID\n     */\n    static uuid(version = 4)\n    {\n        let hash = '';\n\n        // Use only selected chars from the radix store\n        for ( let i = 0; i < 31; i ++ ) {\n            if ( i === 15 ) {\n                hash += this.radix(RADIX_UP19.length, RADIX_UP19);\n            } else {\n                hash += this.radix(RADIX_UUID.length, RADIX_UUID);\n            }\n        }\n\n        // For higher performance use substring\n        return hash.substring(0, 8)\n            + '-' + hash.substring(8, 12)\n            + '-' + version + hash.substring(12, 15)\n            + '-' + hash.substring(15, 19)\n            + '-' + hash.substring(19, 31);\n    }\n\n    /**\n     * Generate a password with or without symbols\n     *\n     * @example Hash.password(12, ['%', '&']) // => '0unJ%VDi2RJX'\n     *\n     * @param {number} [length=24] Length of password\n     * @param {Array<string>} [symbols=null] Defined symbols or null for default\n     * @returns {string} A random password with fixed length\n     */\n    static password(length = 24, symbols = null)\n    {\n        let radix = [\n            ...this.RADIX, ...(symbols || radix_symbol_pass)\n        ];\n\n        let hash = '';\n\n        for ( let i = 0; i < length; i ++ ) {\n            hash += this.radix(radix.length, radix);\n        }\n\n        return hash;\n    }\n\n}\n\nexport default PicoHash;","import { Str, Event, For, Mix, Arr } from \"../index.esm.js\";\n\nexport class PicoSignal\n{\n    static $events = [];\n\n    /**\n     * Bind callback to event name\n     *\n     * @example Event.bind(\"x\", cb) // => Event\n     * @example Event.bind([\"a\",\"b\"], cb) // => Event\n     *\n     * @param {any} event Event name(s)\n     * @param {function} cb Event callback\n     * @param {any} [options] Listener options\n     * @param {boolean} [paused] Start paused\n     * @returns {typeof PicoSignal} Event class\n     */\n    static bind(event, cb, options = {}, paused = false)\n    {\n        if ( Mix.isArr(event) ) {\n            return Arr.each(event, (e) => this.bind(e, ...arguments), this);\n        }\n\n        if ( Mix.isPrim(options) ) {\n            options = { id: options };\n        }\n\n        this.$events = Arr.append(this.$events, {\n            event, cb, options, paused\n        });\n\n        return this;\n    }\n\n    /**\n     * Unbind callback(s) from event\n     *\n     * @example Event.unbind(\"x\") // => Event\n     * @example Event.unbind([\"a\",\"b\"]) // => Event\n     *\n     * @param {any} event Event name(s)\n     * @param {any} [options] Listener options\n     * @returns {typeof PicoSignal} Event class\n     */\n    static unbind(event, options = {})\n    {\n        if ( Mix.isArr(event) ) {\n            return Arr.each(event, (e) => this.unbind(e, ...arguments), this);\n        }\n\n        if ( Mix.isPrim(options) ) {\n            options = { id: options };\n        }\n\n        Arr.remove(this.$events, {\n            event, options\n        });\n\n        return this;\n    }\n\n    /**\n     * Fire event with arguments\n     *\n     * @example Event.fire(\"x\", 1) // => Event\n     *\n     * @param {string} event Event name\n     * @param {...any} args Event args\n     * @returns {typeof PicoSignal} Event class\n     */\n    static fire(event, ...args)\n    {\n        let events = this.$events.filter((item) => {\n            return item.event === event;\n        });\n\n        Arr.each(events, (e) => {\n            if ( ! e.paused ) {\n                e.cb.call({}, ...args);\n            }\n        });\n\n        return this;\n    }\n\n    /**\n     * Pause listeners for event\n     *\n     * @example Event.pause(\"x\") // => Event\n     *\n     * @param {any} event Event name(s)\n     * @param {any} [options] Listener options\n     * @returns {typeof PicoSignal} Event class\n     */\n    static pause(event, options = {})\n    {\n        if ( Mix.isArr(event) ) {\n            return Arr.each(event, (e) => this.pause(e, ...arguments), this);\n        }\n\n        let value = Arr.find(this.$events, {\n            event, options\n        });\n\n        if ( value != null ) {\n            value.paused = true;\n        }\n\n        return this;\n    }\n\n    /**\n     * Unpause listeners for event\n     *\n     * @example Event.unpause(\"x\") // => Event\n     *\n     * @param {any} event Event name(s)\n     * @param {any} [options] Listener options\n     * @returns {typeof PicoSignal} Event class\n     */\n    static unpause(event, options = {})\n    {\n        if ( Mix.isArr(event) ) {\n            return Arr.each(event, (e) => this.pause(e, ...arguments), this);\n        }\n\n        let value = Arr.find(this.$events, {\n            event, options\n        });\n\n        if ( value != null ) {\n            value.paused = false;\n        }\n\n        return this;\n    }\n\n}\n\nexport default PicoSignal;","import { Mix, Obj, Locale } from \"../index.esm.js\";\n\nexport class PicoLocale\n{\n    /**\n     * Translation dictionary\n     *\n     * @type {Record<any, any>}\n     */\n    static $text = {};\n\n    /**\n     * Cached collator instance\n     *\n     * @type {Intl.Collator|null}\n     */\n    static $sort = null;\n\n    /**\n     * Active locale code\n     *\n     * @type {string}\n     */\n    static $code = 'en';\n\n    /**\n     * Check if translation key exists\n     *\n     * @example Locale.has(\"known.key\") // => true\n     * @example Locale.has(\"unknown.key\") // => false\n     *\n     * @param {any} [key] Translation key\n     * @returns {boolean} True if exists\n     */\n    static has(key = undefined)\n    {\n        if ( key === undefined ) {\n            return true;\n        }\n\n        return Mix.has(PicoLocale.$text, key);\n    }\n\n    /**\n     * Get translation value or map\n     *\n     * @example Locale.get(\"known.key\") // => \"value\"\n     * @example Locale.get() // => object\n     *\n     * @param {any} [key] Translation key\n     * @param {any} [fallback] Fallback value\n     * @returns {any} Translation value\n     */\n    static get(key = undefined, fallback = null)\n    {\n        if ( key === undefined ) {\n            return PicoLocale.$text;\n        }\n\n        return Obj.get(PicoLocale.$text, key, fallback);\n    }\n\n    /**\n     * Set translation key or map\n     *\n     * @example Locale.set({foo:\"bar\"})\n     * @example Locale.set(\"unknown\", \"nix\")\n     *\n     * @param {any} [key] Key or map\n     * @param {any} [value] Value to set\n     * @returns {any} Updated map\n     */\n    static set(key = undefined, value = undefined)\n    {\n        if ( value === undefined ) {\n            return PicoLocale.$text = key;\n        }\n\n        return Obj.set(PicoLocale.$text, key, value);\n    }\n\n    /**\n     * Get or set locale code\n     *\n     * @example Locale.code() // => \"en\"\n     * @example Locale.code(\"de\") // => \"de\"\n     *\n     * @param {string|null} [code] Locale code\n     * @returns {string} Active code\n     */\n    static code(code = null)\n    {\n        if ( ! Mix.isNull(code) ) {\n            return Locale.$code = code;\n        }\n\n        if ( ! Mix.isNull(Locale.$code) ) {\n            return Locale.$code;\n        }\n\n        Locale.$code = (navigator.language || 'en-US')\n            .replace(/-[A-Z]+$/, '');\n\n        return Locale.$code;\n    }\n\n    /**\n     * Get Intl.Collator for sorting\n     *\n     * @example Locale.collator().compare(\"a\",\"b\")\n     *\n     * @returns {Intl.Collator} Collator instance\n     */\n    static collator()\n    {\n        if ( ! Mix.isNull(Locale.$sort) ) {\n            return Locale.$sort;\n        }\n\n        Locale.$sort = new Intl.Collator(Locale.code(), {\n            numeric: true, sensitivity: 'base'\n        });\n\n        return Locale.$sort;\n    }\n\n    /**\n     * Replace :tokens in text\n     *\n     * @example Locale.replace(\"Hi :x\", {x:\"Bob\"}) // => \"Hi Bob\"\n     * @example Locale.replace(\"Hi\", null) // => \"Hi\"\n     *\n     * @param {string} text Input text\n     * @param {any} [replace] Replace map\n     * @returns {string} Replaced text\n     */\n    static replace(text, replace = null)\n    {\n        if ( replace == null ) {\n            return text;\n        }\n\n        Obj.each(replace, (val, key) => {\n            text = text.replace(new RegExp(':' + key, 'g'), val);\n        });\n\n        return text;\n    }\n\n    /**\n     * Translate key with replace map\n     *\n     * @example Locale.trans(\"known.key\") // => \"...\"\n     * @example Locale.trans(\"Hi :x\", {x:\"Bob\"}) // => \"Hi Bob\"\n     *\n     * @param {string} text Key or text\n     * @param {any} [replace] Replace map\n     * @returns {string} Translated text\n     */\n    static trans(text, replace = null)\n    {\n        text = Obj.get(PicoLocale.$text, text, text);\n\n        return Locale.replace(text, replace);\n    }\n\n    /**\n     * Translate plural choice by count\n     *\n     * @example Locale.choice(\"items\", 2) // => \"...\"\n     * @example Locale.choice(\"items\", 1, {x:\"y\"}) // => \"...\"\n     *\n     * @param {string} text Key or text\n     * @param {number} [count] Choice count\n     * @param {any} [replace] Replace map\n     * @returns {string} Chosen text\n     */\n    static choice(text, count = 0, replace = {})\n    {\n        text = Obj.get(PicoLocale.$text, text, text);\n\n        if ( typeof replace.count === 'undefined' ) {\n            replace.count = count;\n        }\n\n        text = Locale.countpick(text.split('|'), count);\n\n        return Locale.replace(text, replace);\n    }\n\n    /**\n     * Pick plural variant from list\n     *\n     * @example Locale.countpick([\"a\",\"b\"], 2) // => \"b\"\n     *\n     * @param {Array<string>} splits Variant list\n     * @param {number} count Choice count\n     * @returns {string} Picked text\n     */\n    static countpick(splits, count)\n    {\n        let length = splits.length;\n\n        if ( length === 3 && count === 0 ) {\n            return splits[0];\n        }\n\n        if ( length === 3 && count === 1 ) {\n            return splits[1];\n        }\n\n        if ( length === 3 && count >= 2 ) {\n            return splits[2];\n        }\n\n        if ( length === 2 && count === 1 ) {\n            return splits[0];\n        }\n\n        if ( length === 2 && count !== 1 ) {\n            return splits[1];\n        }\n\n        return splits[0];\n    }\n\n}\n\nexport default PicoLocale","import { For, Arr, Now, Mix } from \"../index.esm.js\";\n\nexport const COOKIE_REGEX = {\n    entry: /(?<=^|;)\\s*(?<key>.*?)\\s*=\\s*(?<value>[^;$]+)/g\n};\n\nexport class PicoCookie\n{\n    static $cookie = null;\n\n    /**\n     * Read raw document.cookie\n     *\n     * @example Cookie.global() // => \"a=b; c=d\"\n     *\n     * @returns {string} Cookie string\n     */\n    static global()\n    {\n        if ( globalThis.document == null ) {\n            return '';\n        }\n\n        return globalThis.document.cookie || '';\n    }\n\n    /**\n     * Parse cookies into object\n     *\n     * @example Cookie.parse() // => {a:\"b\"}\n     * @example Cookie.parse(true) // force parse\n     *\n     * @param {boolean} [fresh] Force refresh\n     * @returns {Record<string, any>} Cookie map\n     */\n    static parse(fresh = false)\n    {\n        if ( !fresh && this.$cookie ) {\n            return this.$cookie;\n        }\n\n        this.$cookie = {};\n\n        let matches = this.global().matchAll(...[\n            COOKIE_REGEX.entry\n        ]);\n\n        if ( matches == null ) {\n            return this.$cookie;\n        }\n\n        let fn = (value) => {\n            return value.replaceAll('{:}', ';');\n        }\n\n        Arr.each(Array.from(matches), ({ groups }) => {\n            this.$cookie[groups.key] = fn(groups.value);\n        });\n\n        return this.$cookie;\n    }\n\n    /**\n     * Get cookie value by key\n     *\n     * @example Cookie.get(\"foo\") // => \"bar\"\n     * @example Cookie.get(\"x\", null, \"bool\") // => true\n     *\n     * @param {string} key Cookie key\n     * @param {any} [fallback] Fallback value\n     * @param {string} [decode] Decode mode\n     * @returns {any} Cookie value\n     */\n    static get(key, fallback = null, decode = 'string')\n    {\n        if ( !this.$cookie ) {\n            this.parse();\n        }\n\n        if ( this.$cookie[key] == null ) {\n            return fallback;\n        }\n\n        if ( /^bool(ean)?$/.test(decode) ) {\n            return Mix.bool(this.$cookie[key]);\n        }\n\n        if ( /^num(ber)?$/.test(decode) ) {\n            return Mix.bool(this.$cookie[key]);\n        }\n\n        if ( /^int(eger)?$/.test(decode) ) {\n            return Mix.bool(this.$cookie[key]);\n        }\n\n        if ( /^obj(ext)?$/.test(decode) ) {\n            return For.parseOptions(this.$cookie[key]);\n        }\n\n        return Mix.str(this.$cookie[key]);\n    }\n\n    /**\n     * Set cookie value with options\n     *\n     * @example Cookie.set(\"a\", \"b\") // => Cookie\n     * @example Cookie.set(\"a\", {x:1}) // => Cookie\n     *\n     * @param {string} key Cookie key\n     * @param {any} value Cookie value\n     * @param {any} [expire] Expire date spec\n     * @param {any} [options] Cookie options\n     * @returns {typeof PicoCookie} Cookie class\n     */\n    static set(key, value, expire = null, options = {})\n    {\n        if ( !this.$cookie ) {\n            this.parse();\n        }\n\n        if ( !(expire instanceof Now) ) {\n            expire = Now.make(expire || '+7 days');\n        }\n\n        options = {\n            expires: expire.toUTC(), path: '/', ...options\n        };\n\n        if ( Mix.isRef(value) ) {\n            value = For.castOptions(value, false);\n        }\n\n        if ( value != null ) {\n            this.$cookie[key] = value;\n        }\n\n        let plain = key + '=' + Mix.str(value).replaceAll(...[\n            ';', '{:}'\n        ]);\n\n        Arr.each(options, (value, key) => {\n            plain += `;${key}=${value}`;\n        });\n\n        globalThis.document.cookie = plain;\n\n        return this;\n    }\n\n    /**\n     * Remove cookie by key\n     *\n     * @example Cookie.forget(\"a\") // => Cookie\n     *\n     * @param {string} key Cookie key\n     * @param {any} [options] Cookie options\n     * @returns {typeof PicoCookie} Cookie class\n     */\n    static forget(key, options = {})\n    {\n        let expires = 'Thu, 01 Jan 1970 00:00:01 GMT';\n\n        options = {\n            expires, path: '/', ...options\n        };\n\n        if ( this.$cookie[key] ) {\n            delete this.$cookie[key];\n        }\n\n        let plain = `${key}=null`;\n\n        Arr.each(options, (value, key) => {\n            plain += `;${key}=${value}`;\n        });\n\n        globalThis.document.cookie = plain;\n\n        return this;\n    }\n\n}\n\nexport default PicoCookie;","import { Arr, Mix, Obj, Dom } from \"../index.esm.js\";\nimport { PicoDom } from \"../utils/Dom.js\";\n\n/**\n * @memberof PicoDom\n */\nexport class PicoDomFinderStatic\n{\n\n    /**\n     * Filter nodes by type\n     *\n     * @example Dom.filterNodes(nodes, 1)\n     *\n     * @param {any} nodes Source nodes\n     * @param {number} [filter] Node type\n     * @returns {Array<Element>} Filtered nodes\n     */\n    static filterNodes(nodes, filter = 1)\n    {\n        return Arr.filter(Mix.nodes(nodes), (el) => {\n            return el.nodeType === filter;\n        });\n    }\n\n    /**\n     * Get nodes at point\n     *\n     * @example Dom.getNodePoint(100, 100)\n     *\n     * @param {object} event Event data\n     * @returns {Array<Element>} Nodes at point\n     */\n    static getNodePoint(event)\n    {\n        if ( event.touches?.[0] ) {\n            // event = event.touches[0];\n        }\n\n        let [el, src] = [\n            null, [event.clientX, event.clientY]\n        ];\n\n        if ( Dom.doc().elementsFromPoint != null ) {\n            el = document.elementsFromPoint(src[0], src[1]);\n        }\n\n        if ( Dom.doc().msElementsFromPoint != null ) {\n            el = document.msElementsFromPoint(src[0], src[1]);\n        }\n\n        return el;\n    }\n\n    /**\n     * Get target by selector\n     *\n     * @example Dom.getNodeEvent(\".item\", event)\n     *\n     * @param {string} selector Node selector\n     * @param {any} [event] Event object\n     * @returns {Element} Found element\n     */\n    static getNodeEvent(selector, event = {})\n    {\n        let target = event.srcElement;\n\n        if ( target == null ) {\n            target = event.target;\n        }\n\n        let { type } = event;\n\n        if ( /^(drag[a-z]*|drop$)/.test(type) ) {\n            target = Dom.getNodePoint(event);\n        }\n\n        if ( Mix.isArr(target) ) {\n            target = Arr.first(target);\n        }\n\n        if ( target == null ) {\n            target = event.target;\n        }\n\n        return target.closest(selector);\n    }\n\n}\n\n/**\n * @memberof PicoDom\n * @extends {PicoDom}\n */\nexport class PicoDomFinderInstance\n{\n    /**\n     * Resolve input elements\n     *\n     * @example Dom._constructFinder(\".item\")\n     *\n     * @param {any} el Input value\n     * @returns {any} Resolved elements\n     */\n    static _constructFinder(el)\n    {\n        if ( typeof el === 'string' ) {\n            el = document.querySelectorAll(el);\n        }\n\n        if ( el instanceof NodeList ) {\n            el = Mix.nodes(el);\n        }\n\n        return el;\n    }\n\n    /**\n     * Get node type\n     *\n     * @example Dom.find(\"div\").getNodeType() // => 1\n     *\n     * @param {number} [fallback] Fallback value\n     * @returns {number} Node type\n     */\n    getNodeType(fallback = -1)\n    {\n        if ( ! this.el ) {\n            return fallback;\n        }\n\n        return this.el.nodeType;\n    }\n\n    /**\n     * Get parent node\n     *\n     * @example Dom.find(\"div\").getNodeParent() // => PicoDom\n     *\n     * @param {any} [fallback] Fallback value\n     * @returns {PicoDom} Parent instance\n     */\n    getNodeParent(fallback = null)\n    {\n        if ( ! this.el ) {\n            return fallback;\n        }\n\n        return Dom.find(this.el.parentNode);\n    }\n\n    /**\n     * Get previous node\n     *\n     * @example Dom.find(\"div\").getNodePrev() // => PicoDom\n     *\n     * @param {any} [fallback] Fallback value\n     * @returns {PicoDom} Prev instance\n     */\n    getNodePrev(fallback = null)\n    {\n        if ( ! this.el ) {\n            return fallback;\n        }\n\n        return Dom.find(this.el.previousSibling);\n    }\n\n    /**\n     * Get next node\n     *\n     * @example Dom.find(\"div\").getNodeNext() // => PicoDom\n     *\n     * @param {any} [fallback] Fallback value\n     * @returns {PicoDom} Next instance\n     */\n    getNodeNext(fallback = null)\n    {\n        if ( ! this.el ) {\n            return fallback;\n        }\n\n        return Dom.find(this.el.nextSibling);\n    }\n\n    /**\n     * Get child nodes\n     *\n     * @example Dom.find(\"div\").getNodeChilds(1)\n     *\n     * @param {number} [type] Node type\n     * @param {any} [fallback] Fallback value\n     * @returns {Array<Element>} Child nodes\n     */\n    getNodeChilds(type = -1, fallback = [])\n    {\n        if ( ! this.el ) {\n            return fallback;\n        }\n\n        let childs = Mix.nodes(this.el.childNodes);\n\n        if ( type === -1 ) {\n            return childs;\n        }\n\n        return Arr.filter(childs, (el) => {\n            return el.nodeType === type;\n        });\n    }\n\n    /**\n     * Filter instances nodes\n     *\n     * @example Dom.find(\"div\").sanatize(1)\n     *\n     * @param {number} [filter] Node type\n     * @returns {PicoDom} Current instance\n     */\n    sanatize(filter = 1)\n    {\n        this.els = Dom.filterNodes(this.els, filter);\n\n        return this;\n    }\n\n    /**\n     * Filter elements by selector\n     *\n     * @example Dom.find(\"div\").filter(\".active\")\n     *\n     * @param {any} selector Filter selector\n     * @returns {Array<Element>} Filtered nodes\n     */\n    filter(selector)\n    {\n        if ( typeof selector !== 'function' ) {\n            selector = (el) => Dom.find(el).is(selector);\n        }\n\n        return Arr.filter(this.els, selector);\n    }\n\n    /**\n     * Exclude elements by selector\n     *\n     * @example Dom.find(\"div\").except(\".active\")\n     *\n     * @param {any} selector Exclude selector\n     * @returns {Array<Element>} Filtered nodes\n     */\n    except(selector)\n    {\n        if ( typeof selector !== 'function' ) {\n            selector = (el) => ! Dom.find(el).is(selector);\n        }\n\n        return Arr.filter(this.els, selector);\n    }\n\n    /**\n     * Find elements in instance\n     *\n     * @example Dom.find(\"div\").find(\".item\")\n     *\n     * @param {any} selector Search selector\n     * @returns {PicoDom} Dom instance\n     */\n    find(selector)\n    {\n        if ( this.el == null ) {\n            return Dom.find(null);\n        }\n\n        let el = this.el;\n\n        if ( el instanceof Window ) {\n            el = document.body;\n        }\n\n        let nodes = selector;\n\n        if ( Mix.isStr(nodes) ) {\n            nodes = el.querySelectorAll(selector);\n        }\n\n        return Dom.find(nodes);\n    }\n\n    /**\n     * Get element by index\n     *\n     * @example Dom.find(\"div\").get(0) // => Element\n     *\n     * @param {number} [index] Node index\n     * @returns {any} Found element\n     */\n    get(index = - 1)\n    {\n        let nodes = this.els;\n\n        if ( index === - 1 ) {\n            return nodes;\n        }\n\n        return Arr.get(nodes, index);\n    }\n\n    /**\n     * Get first element\n     *\n     * @example Dom.find(\"div\").first() // => Element\n     *\n     * @param {number} [offset] Node offset\n     * @returns {any} Found element\n     */\n    first(offset = 0)\n    {\n        return this.get(offset);\n    }\n\n    /**\n     * Get last element\n     *\n     * @example Dom.find(\"div\").last() // => Element\n     *\n     * @param {number} [offset] Node offset\n     * @returns {any} Found element\n     */\n    last(offset = 1)\n    {\n        return Arr.get(this.els, this.els.length - offset);\n    }\n\n    /**\n     * Iterate over elements\n     *\n     * @example Dom.find(\"div\").each((el) => console.log(el))\n     *\n     * @param {function} cb Callback fn\n     * @returns {PicoDom} Current instance\n     */\n    each(cb)\n    {\n        return (this, Arr.each(this.els, cb));\n    }\n\n    /**\n     * Loop through parent nodes\n     *\n     * @example Dom.find(\"div\").loopParent((el) => console.log(el))\n     *\n     * @param {function} cb Callback fn\n     * @param {any} [boundry] Loop limit\n     * @returns {PicoDom} Current instance\n     */\n    loopParent(cb, boundry = null)\n    {\n        if ( boundry == null ) {\n            boundry = Dom.win();\n        }\n\n        for ( let el = this.el; el && el !== boundry; el = el.parentNode ) {\n            cb.call({}, el);\n        }\n\n        return this;\n    }\n\n    /**\n     * Get parent instance\n     *\n     * @example Dom.find(\"div\").parent() // => PicoDom\n     *\n     * @returns {PicoDom} Parent instance\n     */\n    parent()\n    {\n        let parent = this.getNodeParent();\n\n        if ( parent == null ) {\n            return Dom.find(null);\n        }\n\n        return parent;\n    }\n\n    /**\n     * Get first child match\n     *\n     * @example Dom.find(\"div\").child(\".item\")\n     *\n     * @param {any} selector Child selector\n     * @param {number} [filter] Node type\n     * @returns {PicoDom} Child instance\n     */\n    child(selector = null, filter = 1)\n    {\n        for ( let el of this.childs(selector, filter) ) {\n            return Dom.find(el);\n        }\n\n        return Dom.find(null);\n    }\n\n    /**\n     * Get child elements\n     *\n     * @example Dom.find(\"div\").childs(\".item\")\n     *\n     * @param {any} [selector] Child selector\n     * @param {number} [filter] Node type\n     * @returns {Array<Element>} Child elements\n     */\n    childs(selector = null, filter = 1)\n    {\n        let childs = this.getNodeChilds(filter);\n\n        if ( selector == null ) {\n            return childs;\n        }\n\n        return Arr.filter(childs, (el) => {\n            return Dom.find(el).is(selector);\n        });\n    }\n\n    /**\n     * Get closest element\n     *\n     * @example Dom.find(\"div\").closest(\".container\")\n     *\n     * @param {any} selector Target selector\n     * @returns {Element} Found element\n     */\n    closest(selector)\n    {\n        if ( this.el === selector ) {\n            return this.el;\n        }\n\n        for ( let el = this; el.el != null; el = el.getNodeParent() ) {\n            if ( el.is(selector) ) return el.el;\n        }\n\n        return null;\n    }\n\n    upnode(selector)\n    {\n        return Dom.find(...[\n            this.closest(selector)\n        ]);\n    }\n\n    /**\n     * Get previous element\n     *\n     * @example Dom.find(\"div\").prev() // => PicoDom\n     *\n     * @param {number} [type] Node type\n     * @returns {PicoDom} Prev instance\n     */\n    prev(type = 1)\n    {\n        let el = this.getNodePrev();\n\n        for ( el; el != null; el = el.getNodePrev() ) {\n            if ( el.getNodeType() === type ) return Dom.find(el);\n        }\n\n        return Dom.find(null);\n    }\n\n    /**\n     * Get next element\n     *\n     * @example Dom.find(\"div\").next() // => PicoDom\n     *\n     * @param {number} [type] Node type\n     * @returns {PicoDom} Next instance\n     */\n    next(type = 1)\n    {\n        let el = this.getNodeNext();\n\n        for ( el; el != null; el = el.getNodeNext() ) {\n            if ( el.getNodeType() === type ) return Dom.find(el);\n        }\n\n        return Dom.find(null);\n    }\n\n    /**\n     * Get number of elements\n     *\n     * @example Dom.find(\"div\").length() // => 1\n     *\n     * @returns {number} Count value\n     */\n    length()\n    {\n        return this.els.length;\n    }\n\n    /**\n     * Check if element matches\n     *\n     * @example Dom.find(\"div\").is(\".active\") // => true\n     *\n     * @param {any} selector Test selector\n     * @param {boolean} [empty] Test selector\n     * @returns {boolean} True if matches\n     */\n    is(selector, empty = false)\n    {\n        if ( this.el === selector ) {\n            return true;\n        }\n\n        if ( this.el == null ) {\n            return empty;\n        }\n\n        for ( let el of this.parent().find(selector).get() ) {\n            if ( el === this.el ) return true;\n        }\n\n        return false;\n    }\n\n    /**\n     * Check if contains match\n     *\n     * @example Dom.find(\"div\").matches(\".active\")\n     *\n     * @param {any} selector Test selector\n     * @returns {boolean} True if matches\n     */\n    matches(selector)\n    {\n        if ( this.el === selector ) {\n            return true;\n        }\n\n        if ( this.el == null ) {\n            return false;\n        }\n\n        for ( let el of this.find(selector).get() ) {\n            if ( el === this.el ) return true;\n        }\n\n        return false;\n    }\n\n    /**\n     * Check if instance is empty\n     *\n     * @example Dom.find(\".none\").empty() // => true\n     *\n     * @returns {boolean} True if empty\n     */\n    empty()\n    {\n        return this.length() < 1 || this.el == null;\n    }\n\n    /**\n     * Check if element is visible\n     *\n     * @example Dom.find(\"div\").visible() // => true\n     *\n     * @returns {boolean} True if visible\n     */\n    visible()\n    {\n        if ( this.el == null ) {\n            return false;\n        }\n\n        return this.el.is(':visible');\n    }\n\n    /**\n     * Check if parent matches\n     *\n     * @example Dom.find(\"div\").above(\".container\")\n     *\n     * @param {any} selector Parent selector\n     * @returns {boolean} True if matches\n     */\n    above(selector)\n    {\n        // Parent is exacly selector\n        return this.parent().is(selector);\n    }\n\n    /**\n     * Check if inside match\n     *\n     * @example Dom.find(\"div\").inside(\".container\")\n     *\n     * @param {any} selector Target selector\n     * @returns {boolean} True if inside\n     */\n    inside(selector)\n    {\n        // Has parent of selector\n        return this.closest(selector) != null;\n    }\n\n    /**\n     * Check if contains match\n     *\n     * @example Dom.find(\"div\").contains(\".item\")\n     *\n     * @param {any} selector Target selector\n     * @returns {boolean} True if contains\n     */\n    contains(selector)\n    {\n        // Has child of selector\n        return this.el.contains(selector);\n    }\n\n}\n\n/**\n * @see PicoDom.above\n */\nPicoDomFinderInstance.prototype.isParent = function (...args) {\n    console.warn('Dom.isParent() is deprecated, use Dom.above() instead.');\n    return this.above(...args);\n};\n\n/**\n * @see PicoDom.prev\n */\nPicoDomFinderInstance.prototype.previous = function () {\n    console.warn('Dom.previous() is deprecated, use Dom.prev() instead.');\n    return this.prev();\n};\n\n/**\n * @see PicoDom.filter\n */\nPicoDomFinderInstance.prototype.where = function (...args) {\n    console.warn('Dom.where() is deprecated, use Dom.filter() instead.');\n    return this.filter(...args);\n};\n\n/**\n * @see PicoDom.except\n */\nPicoDomFinderInstance.prototype.not = function (...args) {\n    console.warn('Dom.not() is deprecated, use Dom.except() instead.');\n    return this.except(...args);\n};\n\nPicoDomFinderInstance.prototype.getNot = () => {\n    console.error('Dom.getNot() is not implemented anymore.');\n};\n\n/**\n * @param {typeof PicoDom} self\n * @returns {typeof PicoDom}\n */\nexport const PicoDomFinderPlugin = function (self) {\n\n    Obj.each(Mix.class(PicoDomFinderStatic), (fn, id) => {\n        self[id] = fn;\n    });\n\n    Obj.each(Mix.proto(PicoDomFinderInstance), (fn, id) => {\n        self.prototype[id] = fn;\n    });\n\n    self.init.push(PicoDomFinderInstance._constructFinder);\n\n    return self;\n}","import { Mix, Obj } from \"../index.esm.js\";\nimport { PicoDom } from \"../utils/Dom.js\";\n\n/**\n * @memberof PicoDom\n */\nexport class PicoDomFormStatic\n{\n\n}\n\n/**\n * @memberof PicoDom\n * @extends {PicoDom}\n */\nexport class PicoDomFormInstance\n{\n\n    /**\n     * Get or set input value\n     *\n     * @example Dom.find(\"input\").value(\"hello\")\n     *\n     * @param {any} [value] Input value\n     * @returns {any|PicoDom} Value or instance\n     */\n    value(value = undefined)\n    {\n        if ( value === undefined ) {\n            return this.el.value;\n        }\n\n        this.each((el) => {\n            el.value = value;\n        });\n\n        return this;\n    }\n\n}\n\n/**\n * @param {typeof PicoDom} self\n * @returns {typeof PicoDom}\n */\nexport const PicoDomFormPlugin = function (self) {\n\n    Obj.each(Mix.class(PicoDomFormStatic), (fn, id) => {\n        self[id] = fn;\n    });\n\n    Obj.each(Mix.proto(PicoDomFormInstance), (fn, id) => {\n        self.prototype[id] = fn;\n    });\n\n    // self.init.push(PicoDomFormInstance.constructor);\n\n    return self;\n}","import { Arr, Hash, Mix, Obj, Dom, Run } from \"../index.esm.js\";\nimport { PicoDom } from \"../utils/Dom.js\";\n\n/**\n * @memberof PicoDom\n */\nexport class PicoDomEventStatic\n{\n    static $events = [];\n}\n\n/**\n * @memberof PicoDom\n * @extends {PicoDom}\n */\nexport class PicoDomEventInstance\n{\n\n    /**\n     * Bind event listener\n     *\n     * @example Dom.bind(el, \"click\", cb)\n     *\n     * @param {Element} el Target element\n     * @param {string} event Event name\n     * @param {function} cb Callback fn\n     * @param {string} [selector] Event selector\n     * @param {boolean} [pause] Pause listener\n     * @param {any} [options] Listener options\n     * @returns {PicoDom} Current instance\n     */\n    bind(el, event, cb, selector = null, pause = false, options = {})\n    {\n        if ( Mix.isPrim(options) ) {\n            options = { id: options };\n        }\n\n        Dom.$events = Arr.append(Dom.$events, {\n            el, event, cb, selector, pause, options\n        });\n\n        el.addEventListener(event, cb, options);\n\n        return this;\n    }\n\n    /**\n     * Unbind event listener\n     *\n     * @example Dom.unbind(el, \"click\")\n     *\n     * @param {Element} el Target element\n     * @param {string} event Event name\n     * @param {string} [selector] Event selector\n     * @param {any} [options] Listener options\n     * @returns {PicoDom} Current instance\n     */\n    unbind(el, event, selector = null, options = {})\n    {\n        if ( Mix.isPrim(options) ) {\n            options = { id: options };\n        }\n\n        let indexes = Arr.filterIndex(Dom.$events, {\n            el, event, selector, options\n        });\n\n        if ( indexes.length === 0 ) {\n            return;\n        }\n\n        let args = (val) => {\n            return [event, val.cb, val.options];\n        };\n\n        Arr.each(indexes.reverse(), (index) => {\n            el.removeEventListener(...args(Dom.$events[index]));\n        });\n\n        Arr.splices(Dom.$events, indexes);\n\n        return this;\n    }\n\n    /**\n     * Listen to event\n     *\n     * @example Dom.find(\"div\").on(\"click\", cb)\n     *\n     * @param {any} event Event name\n     * @param {function} cb Callback fn\n     * @param {any} [options] Listener options\n     * @param {boolean} [pause] Pause listener\n     * @param {string} [selector] Event selector\n     * @returns {PicoDom} Current instance\n     */\n    on(event, cb, options = {}, pause = false, selector = null)\n    {\n        if ( Mix.isPrim(options) ) {\n            options = { id: options };\n        }\n\n        // geht so nicht\n        // if ( Mix.isArr(event) ) {\n        //     return (Arr.each(event, (e) => this.on(e, cb, options, pause, selector)), this);\n        // }\n\n        let fn = (e) => {\n            cb.call(e.target, e, e.target);\n        };\n\n        this.each((el) => {\n            this.bind(el, event, fn, selector, pause, options);\n        });\n\n        return this;\n    }\n\n    /**\n     * Stop listening to event\n     *\n     * @example Dom.find(\"div\").off(\"click\")\n     *\n     * @param {any} event Event name\n     * @param {string} [selector] Event selector\n     * @param {any} [options] Listener options\n     * @returns {PicoDom} Current instance\n     */\n    off(event, selector = null, options = {})\n    {\n        if ( Mix.isPrim(options) ) {\n            options = { id: options };\n        }\n\n        // geht so nicht\n        // if ( Mix.isArr(event) ) {\n        //     return (Arr.each(event, (e) => this.off(e, ...arguments)), this);\n        // }\n\n        if ( Mix.isObj(selector) ) {\n            (options = selector, selector = null);\n        }\n\n        this.each((el) => {\n            this.unbind(el, event, selector, options);\n        });\n\n        return this;\n    }\n\n    /**\n     * Stop listening to event with specific options\n     *\n     * @example Dom.find(\"div\").optoff({ id: \"my-id\" })\n     *\n     * @param {any} [options] Listener options\n     * @returns {PicoDom} Current instance\n     */\n    optoff(options = {})\n    {\n        Run.async(() => {\n            Arr.filterRemove(Dom.$events, { options });\n        });\n\n        this.each((el) => {\n            el && el.removeAllListeners();\n        });\n\n        return this;\n    }\n\n    /**\n     * Listen to event once\n     *\n     * @example Dom.find(\"div\").once(\"click\", cb)\n     *\n     * @param {any} event Event name\n     * @param {function} cb Callback fn\n     * @param {any} [options] Listener options\n     * @returns {PicoDom} Current instance\n     */\n    once(event, cb, options = {})\n    {\n        options.id = Hash.make(24);\n\n        this.on(event, (e) => {\n            cb(e); this.off(event, options);\n        }, options);\n\n        return this;\n    }\n\n    /**\n     * Listen to live event\n     *\n     * @example Dom.find(\"div\").live(\"click\", \"span\", cb)\n     *\n     * @param {any} event Event name\n     * @param {string} selector Event selector\n     * @param {function} cb Callback fn\n     * @param {any} [options] Listener options\n     * @param {boolean} [pause] Pause listener\n     * @returns {PicoDom} Current instance\n     */\n    live(event, selector, cb, options = {}, pause = false)\n    {\n        let fn = function (event) {\n\n            let target = Dom.getNodeEvent(selector, event);\n\n            if ( target == null ) {\n                return;\n            }\n\n            cb.call({}, event, target);\n        };\n\n        this.on(event, fn, options, pause, selector);\n\n        return this;\n    }\n\n    /**\n     * Fire event on element\n     *\n     * @example Dom.find(\"div\").fire(\"click\")\n     *\n     * @param {string} event Event name\n     * @param {object} [detail] Event detail\n     * @returns {PicoDom} Current instance\n     */\n    fire(event, detail = {})\n    {\n        let callback = new CustomEvent(event, { detail });\n\n        this.each((el) => {\n            el.dispatchEvent(callback);\n        });\n\n        return this;\n    }\n\n    pointerdown(button = 1)\n    {\n        const rect = this.rect();\n\n        const [x, y] = [\n            rect.left + rect.width / 2,\n            rect.top + rect.height / 2,\n        ];\n\n        const event = new PointerEvent('pointerdown', {\n            view: window,\n            bubbles: true,\n            cancelable: true,\n            buttons: 1,\n            clientX: x, clientY: y\n        });\n\n        this.each((el) => {\n            el.dispatchEvent(event);\n        });\n\n        return this;\n    }\n\n}\n\n/**\n * @see PicoDom.once\n */\nPicoDomEventInstance.prototype.one = function (...args) {\n    console.warn('Dom.one() is deprecated, use Dom.once() instead.');\n    return this.once(...args);\n};\n\n\nPicoDomEventInstance.prototype.delayed = function () {\n    console.error('Dom.delayed() is not implemented anymore.');\n};\n\nPicoDomEventInstance.prototype.pause = function () {\n    console.error('Dom.pause() is not implemented anymore.');\n};\n\nPicoDomEventInstance.prototype.unpause = function () {\n    console.error('Dom.unpause() is not implemented anymore.');\n};\n\n/**\n * @param {typeof PicoDom} self\n * @returns {typeof PicoDom}\n */\nexport const PicoDomEventPlugin = function (self) {\n\n    Obj.each(Mix.class(PicoDomEventStatic), (fn, id) => {\n        self[id] = fn;\n    });\n\n    Obj.each(Mix.proto(PicoDomEventInstance), (fn, id) => {\n        self.prototype[id] = fn;\n    });\n\n    // self.init.push(PicoDomEventInstance.constructor);\n\n    return self;\n}","import { Arr, Dom, Mix, Obj } from \"../index.esm.js\";\nimport { PicoDom } from \"../utils/Dom.js\";\n\n/**\n * @memberof PicoDom\n */\nexport class PicoDomBuilderStatic\n{\n    /**\n     * Create element from tag\n     *\n     * @example Dom.make(\"div\", { class: \"active\" })\n     *\n     * @param {any} el Tag or element\n     * @param {any} [options] Attr options\n     * @returns {PicoDom} Dom instance\n     */\n    static make(el, options = {})\n    {\n        if ( el instanceof Dom ) {\n            el = el.el;\n        }\n\n        if ( Mix.isStr(el) ) {\n            el = document.createElement(el);\n        }\n\n        el = Obj.assign(el, options);\n\n        let ini = new Dom(el);\n\n        if ( options.class ) {\n            ini.class(options.class);\n        }\n\n        if ( options.html ) {\n            ini.html(options.html);\n        }\n\n        return ini;\n    }\n}\n\n/**\n * @memberof PicoDom\n * @extends {PicoDom}\n */\nexport class PicoDomBuilderInstance\n{\n    /**\n     * Prepend value to element\n     *\n     * @example Dom.find(\"div\").prepend(\"<span></span>\")\n     *\n     * @param {any} value Prepend value\n     * @returns {PicoDom} Current instance\n     */\n    prepend(value)\n    {\n        this.each((el) => {\n            if ( el.prepend != null ) el.prepend(value);\n        });\n\n        return this;\n    }\n\n    /**\n     * Prepend element to value\n     *\n     * @example Dom.find(\"span\").prependTo(\"div\")\n     *\n     * @param {any} value Target element\n     * @returns {PicoDom} Current instance\n     */\n    prependTo(value)\n    {\n        Dom.find(value).each((el) => {\n            if ( el.prepend != null ) el.prepend(this.el);\n        });\n\n        return this;\n    }\n\n    /**\n     * Append value to element\n     *\n     * @example Dom.find(\"div\").append(\"<span></span>\")\n     *\n     * @param {any} value Append value\n     * @returns {PicoDom} Current instance\n     */\n    append(value)\n    {\n        this.each((el) => {\n            if ( el.append != null ) el.append(value);\n        });\n\n        return this;\n    }\n\n    /**\n     * Append element to value\n     *\n     * @example Dom.find(\"span\").appendTo(\"div\")\n     *\n     * @param {any} value Target element\n     * @returns {PicoDom} Current instance\n     */\n    appendTo(value)\n    {\n        Dom.find(value).each((el) => {\n            if ( el.append != null ) el.append(this.el);\n        });\n\n        return this;\n    }\n\n    /**\n     * Replace element with value\n     *\n     * @example Dom.find(\"div\").replace(\"<span></span>\")\n     *\n     * @param {any} value Replacement value\n     * @returns {PicoDom} Current instance\n     */\n    replace(value)\n    {\n        this.parent().each(el, (el) => {\n            (el.insertBefore(value, el), el.removeChild(el));\n        });\n\n        return this;\n    }\n\n}\n\n/**\n * @param {typeof PicoDom} self\n * @returns {typeof PicoDom}\n */\nexport const PicoDomBuilderPlugin = function (self) {\n\n    Obj.each(Mix.class(PicoDomBuilderStatic), (fn, id) => {\n        self[id] = fn;\n    });\n\n    Obj.each(Mix.proto(PicoDomBuilderInstance), (fn, id) => {\n        self.prototype[id] = fn;\n    });\n\n    // self.init.push(PicoDomBuilderInstance.constructor);\n\n    return self;\n}","import { Run, Mix, Obj, Dom, Hash } from \"../index.esm.js\";\nimport { PicoDom } from \"../utils/Dom.js\";\n\n/**\n * @memberof PicoDom\n */\nexport class PicoDomGlobalStatic\n{\n    /**\n     * Get document ready state\n     *\n     * @example Dom.getDomState() // => \"complete\"\n     *\n     * @returns {string} State string\n     */\n    static getDomState()\n    {\n        return document.readyState;\n    }\n\n    /**\n     * Check if DOM is ready\n     *\n     * @example Dom.isDomReady() // => true\n     *\n     * @returns {boolean} True if ready\n     */\n    static isDomReady()\n    {\n        return Dom.getDomState() === 'complete';\n    }\n\n    /**\n     * Check if DOM is complete\n     *\n     * @example Dom.isDomComplete() // => true\n     *\n     * @returns {boolean} True if complete\n     */\n    static isDomComplete()\n    {\n        let state = Dom.getDomState();\n\n        if ( state === 'complete' ) {\n            return true;\n        }\n\n        return state === 'interactive';\n    }\n\n    /**\n     * Run callback when ready\n     *\n     * @example Dom.ready(cb)\n     *\n     * @param {function} cb Callback fn\n     * @param {number} [delay] Execution delay\n     * @param {number} [limit] Wait limit\n     * @returns {PicoDom} Static class\n     */\n    static ready(cb, delay = 0, limit = 6000)\n    {\n        let [id, el, event] = [\n            Hash.make(), Dom.find(document), 'DOMContentLoaded'\n        ];\n\n        let fn = () => {\n            (Run.delay(cb, delay), el.off(event, null, { id }));\n        };\n\n        let ready = Dom.isDomReady;\n\n        if ( ! ready() ) {\n            return (el.on(event, fn, { id }), this);\n        }\n\n        Run.wait(() => {\n            if ( ready() ) return (fn(), true);\n        }, 10, limit);\n\n        return this;\n    }\n\n    /**\n     * Run callback when complete\n     *\n     * @example Dom.complete(cb)\n     *\n     * @param {function} cb Callback fn\n     * @param {number} [delay] Execution delay\n     * @param {number} [limit] Wait limit\n     * @returns {PicoDom} Static class\n     */\n    static complete(cb, delay = 0, limit = 6000)\n    {\n        let fn = () => {\n            Run.delay(cb, delay);\n        };\n\n        let [el, event] = [\n            Dom.find(document), 'load'\n        ];\n\n        let ready = Dom.isDomComplete;\n\n        if ( ! ready() ) {\n            return (el.on(event, fn), this);\n        }\n\n        Run.wait(() => {\n            if ( ready() ) return (fn(), true);\n        }, 10, limit);\n\n        return this;\n    }\n\n}\n\nPicoDomGlobalStatic.required = () => {\n    console.error('Dom.required() is not implemented anymore.');\n}\n\n/**\n * @memberof PicoDom\n * @extends {PicoDom}\n */\nexport class PicoDomGlobalInstance\n{\n    /**\n     * Check if node is complete\n     *\n     * @example Dom.find(\"img\").isNodeComplete() // => true\n     *\n     * @returns {boolean} True if complete\n     */\n    isNodeComplete()\n    {\n        if ( this.el == null ) {\n            return false;\n        }\n\n        if ( this.el.naturalWidth ) {\n            return true;\n        }\n\n        if ( this.el.naturalHeight ) {\n            return true;\n        }\n\n        return !! this.el.complete;\n    }\n\n    /**\n     * Run callback when loaded\n     *\n     * @example Dom.find(\"img\").loaded(cb)\n     *\n     * @param {function} cb Callback fn\n     * @param {number} [limit] Wait limit\n     * @returns {PicoDom} Current instance\n     */\n    loaded(cb, limit = 6000)\n    {\n        if ( ! this.el ) {\n            return this;\n        }\n\n        let ready = this.isNodeComplete;\n\n        Run.wait(() => {\n            if ( ready.call(this) ) return (cb(), true);\n        }, 10, limit);\n\n        return this;\n    }\n}\n\n/**\n * @param {typeof PicoDom} self\n * @returns {typeof PicoDom}\n */\nexport const PicoDomGlobalPlugin = function (self) {\n\n    Obj.each(Mix.class(PicoDomGlobalStatic), (fn, id) => {\n        self[id] = fn;\n    });\n\n    Obj.each(Mix.proto(PicoDomGlobalInstance), (fn, id) => {\n        self.prototype[id] = fn;\n    });\n\n    // self.init.push(PicoDomGlobalInstance.constructor);\n\n    return self;\n}","import { Arr, Dom, Mix, Obj } from \"../index.esm.js\";\nimport { PicoDom } from \"../utils/Dom.js\";\n\n/**\n * @memberof PicoDom\n */\nexport class PicoDomRectangleStatic\n{\n    /**\n     * Cast value to number\n     *\n     * @example Dom.num(\"10px\") // => 10\n     *\n     * @param {any} value Input value\n     * @returns {number} Number value\n     */\n    static num(value)\n    {\n        if ( typeof value === 'string' ) {\n            value = value.replace(/(^\\s+|\\s$|px)/g, '');\n        }\n\n        return Mix.num(value, 0);\n    }\n}\n\n/**\n * @memberof PicoDom\n * @extends {PicoDom}\n */\nexport class PicoDomRectangleInstance\n{\n    rect(fallback = { left: 0, top: 0, width: 0, height: 0 })\n    {\n        if ( ! this.el.getBoundingClientRect ) {\n            return fallback;\n        }\n\n        const rect = this.el.getBoundingClientRect();\n\n        if ( rect == null ) {\n            return fallback;\n        }\n        \n        return rect.toJSON();\n    }\n\n    /**\n     * Get margin values\n     *\n     * @example Dom.find(\"div\").margin()\n     *\n     * @param {string} [key] Margin key\n     * @param {number} [fallback] Fallback value\n     * @returns {any} Margin values\n     */\n    margin(key = null, fallback = 0)\n    {\n        let computed = this.computed();\n\n        let result = {\n            top: Dom.num(computed.marginTop),\n            right: Dom.num(computed.marginRight),\n            bottom: Dom.num(computed.marginBottom),\n            left: Dom.num(computed.marginLeft)\n        };\n\n        if ( key == null ) {\n            return result;\n        }\n\n        return Obj.get(result, key, fallback);\n    }\n\n    /**\n     * Get padding values\n     *\n     * @example Dom.find(\"div\").padding()\n     *\n     * @param {string} [key] Padding key\n     * @param {number} [fallback] Fallback value\n     * @returns {any} Padding values\n     */\n    padding(key = null, fallback = 0)\n    {\n        let computed = this.computed();\n\n        let result = {\n            top: Dom.num(computed.paddingTop),\n            right: Dom.num(computed.paddingRight),\n            bottom: Dom.num(computed.paddingBottom),\n            left: Dom.num(computed.paddingLeft)\n        };\n\n        if ( key == null ) {\n            return result;\n        }\n\n        return Obj.get(result, key, fallback);\n    }\n\n    /**\n     * Get element height\n     *\n     * @example Dom.find(\"div\").height() // => 100\n     *\n     * @returns {number} Height value\n     */\n    height()\n    {\n        if ( this.el == null ) {\n            return 0;\n        }\n\n        if ( this.el instanceof Window ) {\n            return this.el.innerHeight;\n        }\n\n        return this.el.offsetHeight;\n    }\n\n    /**\n     * Get client height\n     *\n     * @example Dom.find(\"div\").clientHeight()\n     *\n     * @returns {number} Height value\n     */\n    clientHeight()\n    {\n        if ( this.el == null ) {\n            return 0;\n        }\n\n        return Dom.num(this.computed('height', 0));\n    }\n\n    /**\n     * Get scroll height\n     *\n     * @example Dom.find(\"div\").scrollHeight()\n     *\n     * @returns {number} Height value\n     */\n    scrollHeight()\n    {\n        if ( this.el == null ) {\n            return 0;\n        }\n\n        return this.el.scrollHeight;\n    }\n\n    /**\n     * Get inner height\n     *\n     * @example Dom.find(\"div\").innerHeight()\n     *\n     * @returns {number} Height value\n     */\n    innerHeight()\n    {\n        if ( this.el == null ) {\n            return 0;\n        }\n\n        if ( this.el instanceof Window ) {\n            return this.el.innerHeight;\n        }\n\n        let pad = this.padding();\n\n        return this.el.offsetHeight - pad.top - pad.bottom;\n    }\n\n    /**\n     * Get real height\n     *\n     * @example Dom.find(\"div\").realHeight({ display: \"block\" })\n     *\n     * @param {any} [style] Temp style\n     * @returns {number} Height value\n     */\n    realHeight(style = {})\n    {\n        let height = 'auto';\n\n        this.actual(() => {\n            return height = this.height();\n        }, style);\n\n        return height;\n    }\n\n    /**\n     * Evaluate target height\n     *\n     * @example Dom.find(\"div\").evaluateHeight(\".container\")\n     *\n     * @param {any} [target] Target element\n     * @param {boolean} [apply] Apply style\n     * @returns {number} Height value\n     */\n    evaluateHeight(target = null, apply = true)\n    {\n        target = Dom.find(target);\n\n        if ( target === null ) {\n            target = this.parent();\n        }\n\n        let height = 'auto';\n\n        this.actual(() => {\n            height = target.innerHeight();\n        }, { display: 'none' });\n\n        if ( apply === true ) {\n            this.style({ height: height + 'px' });\n        }\n\n        return height;\n    }\n\n    /**\n     * Get element width\n     *\n     * @example Dom.find(\"div\").width() // => 100\n     *\n     * @returns {number} Width value\n     */\n    width()\n    {\n        if ( this.el == null ) {\n            return 0;\n        }\n\n        if ( this.el instanceof Window ) {\n            return this.el.innerWidth;\n        }\n\n        return this.el.offsetWidth;\n    }\n\n    /**\n     * Get client width\n     *\n     * @example Dom.find(\"div\").clientWidth()\n     *\n     * @returns {number} Width value\n     */\n    clientWidth()\n    {\n        if ( this.el == null ) {\n            return 0;\n        }\n\n        return Dom.num(this.computed('width', 0));\n    }\n\n    /**\n     * Get scroll width\n     *\n     * @example Dom.find(\"div\").scrollWidth()\n     *\n     * @returns {number} Width value\n     */\n    scrollWidth()\n    {\n        if ( this.el == null ) {\n            return 0;\n        }\n\n        return this.el.scrollWidth;\n    }\n\n    /**\n     * Get inner width\n     *\n     * @example Dom.find(\"div\").innerWidth()\n     *\n     * @returns {number} Width value\n     */\n    innerWidth()\n    {\n        if ( this.el == null ) {\n            return 0;\n        }\n\n        if ( this.el instanceof Window ) {\n            return this.el.innerWidth;\n        }\n\n        let pad = this.padding();\n\n        return this.el.offsetWidth - pad.left - pad.right;\n    }\n\n    /**\n     * Get real width\n     *\n     * @example Dom.find(\"div\").realWidth({ display: \"block\" })\n     *\n     * @param {any} [style] Temp style\n     * @returns {number} Width value\n     */\n    realWidth(style = {})\n    {\n        let width = 'auto';\n\n        this.actual(() => {\n            return width = this.width();\n        }, style);\n\n        return width;\n    }\n\n    /**\n     * Evaluate target width\n     *\n     * @example Dom.find(\"div\").evaluateWidth(\".container\")\n     *\n     * @param {any} [target] Target element\n     * @param {boolean} [apply] Apply style\n     * @returns {number} Width value\n     */\n    evaluateWidth(target = null, apply = true)\n    {\n        target = Dom.find(target);\n\n        if ( target === null ) {\n            target = this.parent();\n        }\n\n        let width = 'auto';\n\n        this.actual(() => {\n            width = target.innerWidth();\n        }, { display: 'none' });\n\n        if ( apply === true ) {\n            this.style({ width: width + 'px' });\n        }\n\n        return width;\n    }\n\n    /**\n     * Get element offset\n     *\n     * @example Dom.find(\"div\").offset()\n     *\n     * @param {string} [key] Offset key\n     * @param {any} [boundry] View boundry\n     * @returns {any} Offset values\n     */\n    offset(key = null, boundry = null)\n    {\n        let offset = this.getOffset(boundry);\n\n        if ( key == null ) {\n            return offset;\n        }\n\n        return Obj.get(offset, key, 0);\n    }\n\n    /**\n     * Get top offset\n     *\n     * @example Dom.find(\"div\").offsetTop()\n     *\n     * @param {any} [boundry] View boundry\n     * @returns {number} Top offset\n     */\n    offsetTop(boundry = null)\n    {\n        return this.offset('top', boundry);\n    }\n\n    /**\n     * Get bottom offset\n     *\n     * @example Dom.find(\"div\").offsetBottom()\n     *\n     * @param {any} [boundry] View boundry\n     * @returns {number} Bottom offset\n     */\n    offsetBottom(boundry = null)\n    {\n        return this.offset('bottom', boundry);\n    }\n\n    /**\n     * Get left offset\n     *\n     * @example Dom.find(\"div\").offsetLeft()\n     *\n     * @param {any} [boundry] View boundry\n     * @returns {number} Left offset\n     */\n    offsetLeft(boundry = null)\n    {\n        return this.offset('left', boundry);\n    }\n\n    /**\n     * Get right offset\n     *\n     * @example Dom.find(\"div\").offsetRight()\n     *\n     * @param {any} [boundry] View boundry\n     * @returns {number} Right offset\n     */\n    offsetRight(boundry = null)\n    {\n        return this.offset('right', boundry);\n    }\n\n    /**\n     * Loop through offset parents\n     *\n     * @example Dom.find(\"div\").loopOffset((el) => console.log(el))\n     *\n     * @param {function} cb Callback fn\n     * @param {any} [boundry] Loop limit\n     * @returns {PicoDom} Current instance\n     */\n    loopOffset(cb, boundry = null)\n    {\n        if ( boundry == null ) {\n            boundry = Dom.body();\n        }\n\n        for ( let el = this.el; el && el !== boundry; el = el.offsetParent ) {\n            cb.call({}, el);\n        }\n\n        return this;\n    }\n\n    /**\n     * Calculate relative offset\n     *\n     * @example Dom.calcOffset(offset, 100, 100)\n     *\n     * @param {any} offset Base offset\n     * @param {number} width Element width\n     * @param {number} height Element height\n     * @returns {any} Calculated offset\n     */\n    calcOffset(offset, width, height)\n    {\n        let size = {\n            right: Dom.body().scrollWidth - offset.left - width,\n            bottom: Dom.body().scrollHeight - offset.top - height,\n        };\n\n        return { ...offset, ...size };\n    }\n\n    /**\n     * Get relative offset\n     *\n     * @example Dom.find(\"div\").getOffset()\n     *\n     * @param {any} [boundry] View boundry\n     * @returns {any} Offset values\n     */\n    getOffset(boundry = null)\n    {\n        if ( boundry == null ) {\n            boundry = Dom.body();\n        }\n\n        let cb, source = {\n            top: 0, left: 0, bottom: 0, right: 0\n        };\n\n        if ( this.el == null ) {\n            return source;\n        }\n\n        cb = (el) => {\n            source.top += Dom.num(el.offsetTop, 0);\n            source.left += Dom.num(el.offsetLeft, 0);\n        };\n\n        this.loopOffset(cb);\n\n        source = this.calcOffset(...[\n            source, this.width(), this.height()\n        ]);\n\n        let body = Dom.find(boundry);\n\n        let target = {\n            top: 0, left: 0, bottom: 0, right: 0\n        };\n\n        cb = (el) => {\n            target.top += Dom.num(el.offsetTop, 0);\n            target.left += Dom.num(el.offsetLeft, 0);\n        };\n\n        body.loopOffset(cb);\n\n        target = this.calcOffset(...[\n            target, body.scrollWidth(), body.scrollHeight()\n        ]);\n\n        return {\n            top: source.top - target.top,\n            bottom: source.bottom - target.bottom,\n            left: source.left - target.left,\n            right: source.right - target.right\n        };\n    }\n\n    /**\n     * Get element scroll\n     *\n     * @example Dom.find(\"div\").scroll()\n     *\n     * @param {any} [key] Scroll key\n     * @param {any} [boundry] View boundry\n     * @returns {any} Scroll values\n     */\n    scroll(key = null, boundry = null)\n    {\n        let scroll = this.getScroll(boundry);\n\n        if ( key == null ) {\n            return scroll;\n        }\n\n        return Obj.get(scroll, key, 0);\n    }\n\n    /**\n     * Get or set scroll top\n     *\n     * @example Dom.find(\"div\").scrollTop(100)\n     *\n     * @param {any} [value] Scroll value\n     * @param {any} [boundry] View boundry\n     * @returns {number|PicoDom} Value or instance\n     */\n    scrollTop(value = null, boundry = null)\n    {\n        if ( value == null ) {\n            return this.scroll('top', boundry);\n        }\n\n        this.each((el) => {\n            el.scrollTop = value;\n        });\n\n        return this;\n    }\n\n    /**\n     * Get or set scroll left\n     *\n     * @example Dom.find(\"div\").scrollLeft(100)\n     *\n     * @param {any} [value] Scroll value\n     * @param {any} [boundry] View boundry\n     * @returns {number|PicoDom} Value or instance\n     */\n    scrollLeft(value = null, boundry = null)\n    {\n        if ( value == null ) {\n            return this.scroll('left', boundry);\n        }\n\n        this.each((el) => {\n            el.scrollLeft = value;\n        });\n\n        return this.scroll('left', boundry);\n    }\n\n    /**\n     * Get relative scroll\n     *\n     * @example Dom.find(\"div\").getScroll()\n     *\n     * @param {any} [boundry] View boundry\n     * @returns {any} Scroll values\n     */\n    getScroll(boundry = null)\n    {\n        if ( boundry == null ) {\n            boundry = Dom.win();\n        }\n\n        let cb, source = {\n            top: 0, left: 0\n        };\n\n        if ( this.el == null ) {\n            return source;\n        }\n\n        cb = (el) => {\n            source.top += Dom.num(el.scrollTop || el.pageYOffset || 0);\n            source.left += Dom.num(el.scrollLeft || el.pageXOffset || 0);\n        }\n\n        this.loopParent(cb);\n\n        let target = {\n            top: 0, left: 0\n        };\n\n        cb = (el) => {\n            target.top += Dom.num(el.scrollTop || el.pageYOffset || 0);\n            target.left += Dom.num(el.scrollLeft || el.pageXOffset || 0);\n        };\n\n        Dom.find(boundry).loopParent(cb);\n\n        return {\n            top: source.top - target.top,\n            left: source.left - target.left\n        };\n    }\n\n}\n\n/**\n * @see PicoDom.loopOffsetParent\n */\nPicoDomRectangleInstance.prototype.loopOffsetParent = function (...args) {\n    console.warn('Dom.loopOffsetParent() is deprecated, use Dom.loopOffset() instead.');\n    return this.loopOffset(...args);\n};\n\n/**\n * @see PicoDom.scrollTopGlobal\n */\nPicoDomRectangleInstance.prototype.scrollTopGlobal = function () {\n    console.warn('Dom.scrollTopGlobal() is deprecated, use Dom.scroll(\\'top\\') instead.');\n    return this.scroll('top', null);\n};\n\n/**\n * @see PicoDom.scrollLeftGlobal\n */\nPicoDomRectangleInstance.prototype.scrollLeftGlobal = function () {\n    console.warn('Dom.scrollLeftGlobal() is deprecated, use Dom.scroll(\\'left\\') instead.');\n    return this.scroll('left', null);\n};\n\n/**\n * @param {typeof PicoDom} self\n * @returns {typeof PicoDom}\n */\nexport const PicoDomRectanglePlugin = function (self) {\n\n    Obj.each(Mix.class(PicoDomRectangleStatic), (fn, id) => {\n        self[id] = fn;\n    });\n\n    Obj.each(Mix.proto(PicoDomRectangleInstance), (fn, id) => {\n        self.prototype[id] = fn;\n    });\n\n    // self.init.push(PicoDomRectangleInstance.constructor);\n\n    return self;\n}","import { Arr, Dom, For, Mix, Obj } from \"../index.esm.js\";\nimport { PicoDom } from \"../utils/Dom.js\";\n\n/**\n * @memberof PicoDom\n */\nexport class PicoDomAttributeStatic\n{\n    //\n}\n\n/**\n * @memberof PicoDom\n * @extends {PicoDom}\n */\nexport class PicoDomAttributeInstance\n{\n    /**\n     * Get or set attribute\n     *\n     * @example Dom.find(\"div\").attr(\"id\")\n     *\n     * @param {string} key Attr key\n     * @param {any} [value] Attr value\n     * @param {any} [fallback] Fallback value\n     * @returns {any|PicoDom} Attr value or instance\n     */\n    attr(key, value = undefined, fallback = null)\n    {\n        if ( this.el == null ) {\n            return value ? this : fallback;\n        }\n\n        let attr = this.el.getAttribute(key);\n\n        if ( Mix.isUndef(value) ) {\n            return attr || fallback;\n        }\n\n        if ( value === null ) {\n            return (this.el.removeAttribute(key), attr);\n        }\n\n        if ( Mix.isArr(value) ) {\n            value = value.join(' ');\n        }\n\n        if ( Mix.isObj(value) ) {\n            value = For.castOptions(value);\n        }\n\n        this.el.setAttribute(key, value);\n\n        return this;\n    }\n\n    /**\n     * Get or set data attribute\n     *\n     * @example Dom.find(\"div\").data(\"id\")\n     *\n     * @param {string} key Data key\n     * @param {any} [value] Data value\n     * @param {any} [fallback] Fallback value\n     * @returns {any|PicoDom} Data value or instance\n     */\n    data(key, value = undefined, fallback = null)\n    {\n        return this.attr('data-' + key, value, fallback);\n    }\n\n    /**\n     * Get computed style\n     *\n     * @example Dom.find(\"div\").computed(\"width\")\n     *\n     * @param {any} [key] Style key\n     * @param {any} [fallback] Fallback value\n     * @returns {any} Computed style\n     */\n    computed(key = null, fallback = null)\n    {\n        if ( this.el == null ) {\n            return fallback;\n        }\n\n        if ( this.getNodeType() !== 1 ) {\n            return fallback;\n        }\n\n        let computed = getComputedStyle(this.el);\n\n        if ( key == null ) {\n            return computed;\n        }\n\n        return Obj.get(computed, key, fallback);\n    }\n\n    /**\n     * Get or set style\n     *\n     * @example Dom.find(\"div\").style({ color: \"red\" })\n     *\n     * @param {any} [value] Style value\n     * @param {boolean} [combine] Combine style\n     * @returns {any|PicoDom} Style or instance\n     */\n    style(value = undefined, combine = true)\n    {\n        if ( this.el == null ) {\n            return this;\n        }\n\n        if ( value === null ) {\n            return this.attr('style', null);\n        }\n\n        let styles = this.attr('style', undefined, {});\n\n        if ( Mix.isStr(styles) ) {\n            styles = For.parseOptions(styles);\n        }\n\n        if ( Mix.isUndef(value) ) {\n            return styles;\n        }\n\n        if ( combine ) {\n            value = { ...styles, ...value };\n        }\n\n        if ( value.translate ) {\n            value.transform = `translate3d(${value.translate.join(',')}, 0)`;\n        }\n\n        delete value.translate;\n\n        if ( Mix.isNum(value.top) ) {\n            value.top += 'px';\n        }\n\n        if ( Mix.isNum(value.left) ) {\n            value.left += 'px';\n        }\n\n        if ( Mix.isNum(value.width) ) {\n            value.width += 'px';\n        }\n\n        if ( Mix.isNum(value.height) ) {\n            value.height += 'px';\n        }\n\n        this.attr('style', value);\n\n        return this;\n    }\n\n    /**\n     * Get or set classes\n     *\n     * @example Dom.find(\"div\").class([\"active\"])\n     *\n     * @param {any} [value] Class value\n     * @param {boolean} [combine] Combine classes\n     * @returns {any|PicoDom} Classes or instance\n     */\n    class(value = undefined, combine = false)\n    {\n        if ( this.el == null ) {\n            return this;\n        }\n\n        if ( value === null ) {\n            return this.attr('class', '');\n        }\n\n        let classes = this.attr('class', undefined, []);\n\n        if ( Mix.isStr(classes) ) {\n            classes = classes.split(' ');\n        }\n\n        if ( Mix.isUndef(value) ) {\n            return classes;\n        }\n\n        if ( combine ) {\n            value = [...classes, ...value];\n        }\n\n        this.attr('class', value);\n\n        return this;\n    }\n\n    /**\n     * Get or set inner HTML\n     *\n     * @example Dom.find(\"div\").html(\"<span></span>\")\n     *\n     * @param {any} [html] HTML content\n     * @returns {string|PicoDom} HTML or instance\n     */\n    html(html = undefined)\n    {\n        if ( html === undefined ) {\n            return this.el.innerHTML;\n        }\n\n        this.each((el) => {\n            el.innerHTML = html;\n        });\n\n        return this;\n    }\n\n    /**\n     * Get actual style value\n     *\n     * @example Dom.find(\"div\").actual((el) => el.offsetWidth, { display: \"block\" })\n     *\n     * @param {function} cb Callback fn\n     * @param {any} [style] Temp style\n     * @returns {any} Callback result\n     */\n    actual(cb, style = null)\n    {\n        let backup = this.attr('style');\n\n        this.style(style);\n\n        let result = cb(this.el, this.el);\n\n        this.attr('style', backup);\n\n        return result;\n    }\n\n    /**\n     * Check if has class\n     *\n     * @example Dom.find(\"div\").hasClass(\"active\") // => true\n     *\n     * @param {any} cls Class name\n     * @returns {boolean} True if has class\n     */\n    hasClass(cls)\n    {\n        if ( ! Mix.isArr(cls) ) {\n            cls = [cls];\n        }\n\n        return Arr.isect(this.class(), cls).length > 0;\n    }\n\n    /**\n     * Add class to element\n     *\n     * @example Dom.find(\"div\").addClass(\"active\")\n     *\n     * @param {any} cls Class name\n     * @returns {PicoDom} Current instance\n     */\n    addClass(cls)\n    {\n        if ( this.el == null ) {\n            return this;\n        }\n\n        if ( this.els.length > 1 ) {\n            return this.each((el) => Dom.find(el).addClass(cls));\n        }\n\n        let result = this.el.className.split(' ');\n\n        if ( Mix.isStr(cls) ) {\n            cls = cls.split(' ');\n        }\n\n        result = Arr.append(result, ...cls);\n\n        this.el.className = Arr.unique(result).join(' ');\n\n        return this;\n    }\n\n    /**\n     * Remove class from element\n     *\n     * @example Dom.find(\"div\").remClass(\"active\")\n     *\n     * @param {any} cls Class name\n     * @returns {PicoDom} Current instance\n     */\n    remClass(cls)\n    {\n        if ( this.el == null ) {\n            return this;\n        }\n\n        if ( this.els.length > 1 ) {\n            return this.each((el) => Dom.find(el).remClass(cls));\n        }\n\n        let result = this.el.className.split(' ');\n\n        if ( Mix.isStr(cls) ) {\n            cls = cls.split(' ');\n        }\n\n        result = Arr.diff(result, cls);\n\n        this.el.className = Arr.unique(result).join(' ');\n\n        return this;\n    }\n\n    /**\n     * Toggle class on element\n     *\n     * @example Dom.find(\"div\").toggleClass(\"active\")\n     *\n     * @param {any} cls Class name\n     * @returns {PicoDom} Current instance\n     */\n    toggleClass(cls)\n    {\n        if ( this.els.length > 1 ) {\n            return this.each((el) => Dom.find(el).toggleClass(cls));\n        }\n\n        if ( this.hasClass(cls) ) {\n            return this.remClass(cls);\n        }\n\n        return this.addClass(cls);\n    }\n\n    /**\n     * Set class by state\n     *\n     * @example Dom.find(\"div\").stateClass(\"active\", true)\n     *\n     * @param {any} cls Class name\n     * @param {boolean} [state] Target state\n     * @returns {PicoDom} Current instance\n     */\n    stateClass(cls, state = true)\n    {\n        if ( this.els.length > 1 ) {\n            return this.each((el) => Dom.find(el).stateClass(cls));\n        }\n\n        if ( ! state ) {\n            return this.remClass(cls);\n        }\n\n        return this.addClass(cls);\n    }\n\n}\n\n/**\n * @see PicoDom.style\n */\nPicoDomAttributeInstance.prototype.css = function (...args) {\n    console.warn('Dom.css() is deprecated, use Dom.style() instead.');\n    return this.style(...args);\n};\n\n/**\n * @see PicoDom.remClass\n */\nPicoDomAttributeInstance.prototype.removeClass = function (...args) {\n    console.warn('Dom.removeClass() is deprecated, use Dom.remClass() instead.');\n    return this.remClass(...args);\n};\n\n/**\n * @param {typeof PicoDom} self\n * @returns {typeof PicoDom}\n */\nexport const PicoDomAttributePlugin = function (self) {\n\n    Obj.each(Mix.class(PicoDomAttributeStatic), (fn, id) => {\n        self[id] = fn;\n    });\n\n    Obj.each(Mix.proto(PicoDomAttributeInstance), (fn, id) => {\n        self.prototype[id] = fn;\n    });\n\n    // self.init.push(PicoDomAttributeInstance.constructor);\n\n    return self;\n}","import { Arr, Dom, Mix, Obj } from \"../index.esm.js\";\nimport { PicoDom } from \"../utils/Dom.js\";\n\n/**\n * @memberof PicoDom\n */\nexport class PicoDomInviewStatic\n{\n\n    /**\n     * Get first inview element Y\n     *\n     * @example Dom.inviewMaxY(\".item\")\n     *\n     * @param {any} options Find options\n     * @param {function} [cb] Success callback\n     * @returns {any} Found element\n     */\n    static inviewMaxY(options, cb = null)\n    {\n        let defaults = {\n            boundry: null, multiple: false, threshold: 0, mode: 'ratio'\n        };\n\n        if ( Mix.isString(options) ) {\n            options = { el: options };\n        }\n\n        options = {\n            ...defaults, ...options\n        };\n\n        if ( ! options.el ) {\n            throw new Error('Dom.inviewY() requires an element.');\n        }\n\n        let args = [\n            options.threshold, options.mode, options.boundry\n        ];\n\n        let fn = (el) => {\n            return Dom.find(el).isInviewY(...args);\n        };\n\n        let els = [];\n\n        Dom.find(options.el).each((el) => {\n            if ( fn(el) ) (cb ? cb(el) : null, els.push(el));\n        });\n\n        if ( options.multiple ) {\n            return els;\n        }\n\n        return Arr.first(els);\n    }\n\n    /**\n     * Get first inview element X\n     *\n     * @example Dom.inviewMaxX(\".item\")\n     *\n     * @param {any} options Find options\n     * @param {function} [cb] Success callback\n     * @returns {any} Found element\n     */\n    static inviewMaxX(options, cb = null)\n    {\n        let defaults = {\n            boundry: null, multiple: false, threshold: 0, mode: 'ratio'\n        };\n\n        if ( Mix.isString(options) ) {\n            options = { el: options };\n        }\n\n        options = {\n            ...defaults, ...options\n        };\n\n        if ( ! options.el ) {\n            throw new Error('Dom.inviewX() requires an element.');\n        }\n\n        let args = [\n            options.threshold, options.mode, options.boundry\n        ];\n\n        let fn = (el) => {\n            return Dom.find(el).isInviewX(...args);\n        };\n\n        let els = [];\n\n        Dom.find(options.el).each((el) => {\n            if ( fn(el) ) (cb ? cb(el) : null, els.push(el));\n        });\n\n        if ( options.multiple ) {\n            return els;\n        }\n\n        return Arr.first(els);\n    }\n\n}\n\n/**\n * @memberof PicoDom\n * @extends {PicoDom}\n */\nexport class PicoDomInviewInstance\n{\n    /**\n     * Get X view offset\n     *\n     * @example Dom.find(\"div\").viewoffX()\n     *\n     * @returns {any} Offset object\n     */\n    viewoffX()\n    {\n        if ( this.el == null ) {\n            return { top: 0, bot: 0 };\n        }\n\n        let [viewport, width] = [\n            Dom.win().innerWidth, this.width()\n        ];\n\n        let [offset, scroll] = [\n            this.offset('left'), this.parent().scroll('left')\n        ];\n\n        let left = Math.max(...[\n            0, offset - scroll\n        ]);\n\n        let right = Math.max(...[\n            0, viewport - (offset + width - scroll)\n        ]);\n\n        return { left, right };\n    }\n\n    /**\n     * Get X inview pixels\n     *\n     * @example Dom.find(\"div\").inviewX()\n     *\n     * @param {any} [boundry] View boundry\n     * @returns {number} Inview pixels\n     */\n    inviewX(boundry = null)\n    {\n        let { left, right } = Dom.find(boundry).viewoffY();\n\n        let [viewport, height] = [\n            Dom.win().innerHeight - right - left, this.height()\n        ];\n\n        let [offset, scroll] = [\n            this.offset('left') + left, this.scroll('left') + left\n        ];\n\n        let inview = Math.max(0, scroll + viewport - offset + left);\n\n        if ( inview > height ) {\n            inview = Math.min(height, viewport + height - inview);\n        }\n\n        return Math.max(0, inview);\n    }\n\n    /**\n     * Get X inview ratio\n     *\n     * @example Dom.find(\"div\").inratioX()\n     *\n     * @param {any} [boundry] View boundry\n     * @returns {number} Inview ratio\n     */\n    inratioX(boundry = null)\n    {\n        return 1 / this.width() * this.inviewX(boundry);\n    }\n\n    /**\n     * Check if is inview X\n     *\n     * @example Dom.find(\"div\").isInviewX(0.5)\n     *\n     * @param {number} [threshold] View threshold\n     * @param {string} [mode] View mode\n     * @param {any} [boundry] View boundry\n     * @returns {boolean} True if inview\n     */\n    isInviewX(threshold = 0.1, mode = 'ratio', boundry = null)\n    {\n        if ( mode === 'pixel' ) {\n            return this.inviewX(boundry) > threshold;\n        }\n\n        return this.inratioX(boundry) > threshold;\n    }\n\n    /**\n     * Get Y view offset\n     *\n     * @example Dom.find(\"div\").viewoffY()\n     *\n     * @returns {any} Offset object\n     */\n    viewoffY()\n    {\n        if ( this.el == null ) {\n            return { top: 0, bottom: 0 };\n        }\n\n        let [viewport, height] = [\n            Dom.win().innerHeight, this.height()\n        ];\n\n        let [offset, scroll] = [\n            this.offset('top'), this.parent().scroll('top')\n        ];\n\n        let top = Math.max(...[\n            0, offset - scroll\n        ]);\n\n        let bottom = Math.max(...[\n            0, viewport - (offset + height - scroll)\n        ]);\n\n        return { top, bottom };\n    }\n\n    /**\n     * Get Y inview pixels\n     *\n     * @example Dom.find(\"div\").inviewY()\n     *\n     * @param {any} [boundry] View boundry\n     * @returns {number} Inview pixels\n     */\n    inviewY(boundry = null)\n    {\n        let { top, bottom } = Dom.find(boundry).viewoffY();\n\n        let [viewport, height] = [\n            Dom.win().innerHeight - bottom - top, this.height()\n        ];\n\n        let [offset, scroll] = [\n            this.offset('top') + top, this.scroll('top') + top\n        ];\n\n        let inview = Math.max(0, scroll + viewport - offset + top);\n\n        if ( inview > height ) {\n            inview = Math.min(height, viewport + height - inview);\n        }\n\n        return Math.min(Math.max(0, inview), viewport);\n    }\n\n    /**\n     * Get Y inview ratio\n     *\n     * @example Dom.find(\"div\").inratioY()\n     *\n     * @param {any} [boundry] View boundry\n     * @returns {number} Inview ratio\n     */\n    inratioY(boundry = null)\n    {\n        return 1 / this.height() * this.inviewY(boundry);\n    }\n\n    /**\n     * Check if is inview Y\n     *\n     * @example Dom.find(\"div\").isInviewY(0.5)\n     *\n     * @param {number} [threshold] View threshold\n     * @param {string} [mode] View mode\n     * @param {any} [boundry] View boundry\n     * @returns {boolean} True if inview\n     */\n    isInviewY(threshold = 0.1, mode = 'ratio', boundry = null)\n    {\n        if ( mode === 'pixel' ) {\n            return this.inviewY(boundry) > threshold;\n        }\n\n        return this.inratioY(boundry) > threshold;\n    }\n}\n\n/**\n * @see PicoDom.inviewY\n */\nPicoDomInviewInstance.prototype.inviewHeight = function (...args) {\n    console.warn('Dom.inviewHeight() is deprecated, use Dom.inviewY() instead.');\n    return this.inviewY(...args);\n}\n\n/**\n * @see PicoDom.inviewX\n */\nPicoDomInviewInstance.prototype.inviewWidth = function (...args) {\n    console.warn('Dom.inviewWidth() is deprecated, use Dom.inviewX() instead.');\n    return this.inviewX(...args);\n}\n\n/**\n * @param {typeof PicoDom} self\n * @returns {typeof PicoDom}\n */\nexport const PicoDomInviewPlugin = function (self) {\n\n    Obj.each(Mix.class(PicoDomInviewStatic), (fn, id) => {\n        self[id] = fn;\n    });\n\n    Obj.each(Mix.proto(PicoDomInviewInstance), (fn, id) => {\n        self.prototype[id] = fn;\n    });\n\n    // self.init.push(PicoDomInviewInstance.constructor);\n\n    return self;\n}","import { Arr, Mix, Obj, Dom, Locale } from \"../index.esm.js\";\nimport { PicoDom } from \"../utils/Dom.js\";\n\n/**\n * @memberof PicoDom\n */\nexport class PicoDomMetaStatic\n{\n    static $meta = {};\n\n    /**\n     * Set document title\n     *\n     * @example Dom.setMetaTitle(\"Home\")\n     *\n     * @param {string} value New title\n     * @param {string} [glue] Title glue\n     * @returns {PicoDom} Static class\n     */\n    static setMetaTitle(value, glue = ':value - :title')\n    {\n        if ( ! this.$meta.title ) {\n            this.$meta.title = Dom.doc().title;\n        }\n\n        document.title = Locale.replace(glue, {\n            value, title: this.$meta.title\n        });\n\n        return this;\n    }\n}\n\n/**\n * @see PicoDom.setMetaTitle\n */\nPicoDomMetaStatic.title = (value) => {\n    console.warn('Dom.title() is deprecated, use Dom.setMetaTitle() instead.');\n    return Dom.setMetaTitle(value);\n};\n\n/**\n * @memberof PicoDom\n * @extends {PicoDom}\n */\nexport class PicoDomMetaInstance\n{\n\n}\n\n/**\n * @param {typeof PicoDom} self\n * @returns {typeof PicoDom}\n */\nexport const PicoDomMetaPlugin = function (self) {\n\n    Obj.each(Mix.class(PicoDomMetaStatic), (fn, id) => {\n        self[id] = fn;\n    });\n\n    Obj.each(Mix.proto(PicoDomMetaInstance), (fn, id) => {\n        self.prototype[id] = fn;\n    });\n\n    // self.init.push(PicoDomMetaInstance.constructor);\n\n    return self;\n}","import { Arr, Mix, Obj, Dom } from \"../index.esm.js\";\nimport { PicoDom } from \"../utils/Dom.js\";\n\n/**\n * @memberof PicoDom\n */\nexport class PicoDomObserverStatic\n{\n\n}\n\n/**\n * @memberof PicoDom\n * @extends {PicoDom}\n */\nexport class PicoDomObserverInstance\n{\n    //\n}\n\n/**\n * @param {typeof PicoDom} self\n * @returns {typeof PicoDom}\n */\nexport const PicoDomObserverPlugin = function (self) {\n\n    Obj.each(Mix.class(PicoDomObserverStatic), (fn, id) => {\n        self[id] = fn;\n    });\n\n    Obj.each(Mix.proto(PicoDomObserverInstance), (fn, id) => {\n        self.prototype[id] = fn;\n    });\n\n    // self.init.push(PicoDomObserverInstance.constructor);\n\n    return self;\n}","import { Arr, Mix, Obj, Dom } from \"../index.esm.js\";\nimport { PicoDom } from \"../utils/Dom.js\";\n\n/**\n * @memberof PicoDom\n */\nexport class PicoDomPopoverStatic\n{\n    //\n}\n\n/**\n * @memberof PicoDom\n * @extends {PicoDom}\n */\nexport class PicoDomPopoverInstance\n{\n\n    popover(target, position = 'botttom-center', options = {})\n    {\n        if ( /^(top|bottom)-/.test(position) ) {\n            return this.popoverY(target, position, options);\n        }\n\n        if ( /^(left|right)-/.test(position) ) {\n            return this.popoverX(target, position, options);\n        }\n    }\n\n    popoverY(target, position = 'bottom-center', options = {})\n    {\n        target = Dom.find(target);\n\n        let [rect, self] = [\n            target.rect(), this.rect()\n        ];\n\n        if ( options.x ) {\n            rect = {...rect, left: options.x, width: 1 };\n        }\n\n        if ( options.y ) {\n            rect = {...rect, top: options.y, height: 1 };\n        }\n\n        if ( ! options.width ) {\n            // self.width = rect.width;\n        }\n\n        let [offset, recto] = [\n            { x: 0, y: 0 }, rect.width - self.width\n        ];\n\n        if ( /^top-/.test(position) ) {\n            offset.y = rect.top - self.height;\n        }\n\n        if ( /^bottom-/.test(position) ) {\n            offset.y = rect.top + rect.height;\n        }\n\n        if ( /-start$/.test(position) ) {\n            offset.x = rect.left;\n        }\n\n        if ( /-center$/.test(position) ) {\n            offset.x = rect.left + (recto * 0.5);\n        }\n\n        if ( /-end$/.test(position) ) {\n            offset.x = rect.left + recto;\n        }\n\n        let inverse = position;\n\n        if ( /^top-/.test(position) ) {\n            inverse = inverse.replace(/^top-/, 'bottom-');\n        }\n\n        if ( /^bottom-/.test(position) ) {\n            inverse = inverse.replace(/^bottom-/, 'top-');\n        }\n\n        let win = {\n            x: window.innerWidth, y: window.innerHeight\n        };\n\n        let broken = offset.y + self.height > win.y || offset.y < 0;\n\n        if ( offset.y < 0 ) {\n            broken = true;\n        }\n\n        const rebound = {\n            ...options, offset\n        };\n\n        if ( broken && ! options.offset ) {\n            return this.popoverY(target, inverse, rebound);\n        }\n\n        if ( broken && options.offset ) {\n            offset = options.offset;\n        }\n\n        if ( offset.y < 0 ) {\n            offset.y = 0;\n        }\n\n        if ( offset.y + self.height > win.height ) {\n            offset.y = win.height - self.height;\n        }\n\n        let result = this.popoverNormalize(...[\n            offset, self, rect, win\n        ]);\n\n        if ( broken ) {\n            position = 'auto';\n        }\n\n        return { ...result, position };\n    }\n\n    popoverX(target, position = 'left-center', options = {})\n    {\n        target = Dom.find(target);\n\n        let [rect, self] = [\n            target.rect(), this.rect()\n        ];\n\n        if ( ! options.height ) {\n            // self.height = rect.height;\n        }\n\n        let [offset, recto] = [\n            { x: 0, y: 0 }, rect.height - self.height\n        ];\n\n        if ( /^left-/.test(position) ) {\n            offset.x = rect.left - self.width;\n        }\n\n        if ( /^right-/.test(position) ) {\n            offset.x = rect.left + rect.width;\n        }\n\n        if ( /-start$/.test(position) ) {\n            offset.y = rect.top;\n        }\n\n        if ( /-center/.test(position) ) {\n            offset.y = rect.top + (recto * 0.5);\n        }\n\n        if ( /-end/.test(position) ) {\n            offset.y = rect.top + recto;\n        }\n\n        let inverse = position;\n\n        if ( /^left-/.test(position) ) {\n            inverse = inverse.replace(/^left-/, 'right-');\n        }\n\n        if ( /^right-/.test(position) ) {\n            inverse = inverse.replace(/^right-/, 'left-');\n        }\n\n        let win = {\n            x: window.innerWidth, y: window.innerHeight\n        };\n\n        let broken = offset.y + self.height > win.y;\n\n        if ( offset.y < 0 ) {\n            broken = true;\n        }\n\n        const rebound = {\n            ...options, offset\n        };\n\n        if ( broken && ! options.offset ) {\n            return this.popoverX(target, inverse, rebound);\n        }\n\n        if ( broken && options.offset ) {\n            offset = options.offset;\n        }\n\n        let result = this.popoverNormalize(...[\n            offset, self, rect, win\n        ]);\n\n        if ( broken ) {\n            position = 'auto';\n        }\n\n        return { ...result, position };\n    }\n\n    popoverNormalize(offset, self, rect, win)\n    {\n        const scroll = Dom.find(document.body).scroll();\n\n        if ( offset.y < 0 ) {\n            offset.y = 0;\n        }\n\n        if ( offset.y + self.height > win.y ) {\n            offset.y = win.y - self.height;\n        }\n\n        if ( offset.x < 0 ) {\n            offset.x = 0;\n        }\n\n        const dw = document.body.clientWidth;\n\n        if ( offset.x + self.width > win.x ) {\n            offset.x = win.x - self.width - (win.x - dw);\n        }\n\n        offset = {\n            x: offset.x + scroll.left, y: offset.y + scroll.top\n        }\n\n        Obj.each(offset, (v, k) => {\n            offset[k] = Math.round(v);\n        });\n\n        offset.self = {\n            width: self.width, height: self.height\n        };\n\n        offset.rect = {\n            width: rect.width, height: rect.height\n        };\n\n        return offset;\n    }\n\n}\n\n/**\n * @param {typeof PicoDom} self\n * @returns {typeof PicoDom}\n */\nexport const PicoDomPopoverPlugin = function (self) {\n\n    Obj.each(Mix.class(PicoDomPopoverStatic), (fn, id) => {\n        self[id] = fn;\n    });\n\n    Obj.each(Mix.proto(PicoDomPopoverInstance), (fn, id) => {\n        self.prototype[id] = fn;\n    });\n\n    // self.init.push(PicoDomPopoverInstance.constructor);\n\n    return self;\n}","import { Arr, Mix, Dom } from \"../index.esm.js\";\nimport { PicoDomFinderPlugin } from \"../dom/DomFinder.js\";\nimport { PicoDomFormPlugin } from \"../dom/DomForm.js\";\nimport { PicoDomEventPlugin } from \"../dom/DomEvent.js\";\nimport { PicoDomBuilderPlugin } from \"../dom/DomBuilder.js\";\nimport { PicoDomGlobalPlugin } from \"../dom/DomGlobal.js\";\nimport { PicoDomRectanglePlugin } from \"../dom/DomRectangle.js\";\nimport { PicoDomAttributePlugin } from \"../dom/DomAttribute.js\";\nimport { PicoDomInviewPlugin } from \"../dom/DomInview.js\";\nimport { PicoDomMetaPlugin } from \"../dom/DomMeta.js\";\nimport { PicoDomObserverPlugin } from \"../dom/DomObserver.js\";\nimport { PicoDomPopoverPlugin } from \"../dom/DomPopover.js\";\n\nexport const PicoDomPlugins = [\n    PicoDomFinderPlugin,\n    PicoDomGlobalPlugin,\n    PicoDomFormPlugin,\n    PicoDomEventPlugin,\n    PicoDomBuilderPlugin,\n    PicoDomRectanglePlugin,\n    PicoDomAttributePlugin,\n    PicoDomInviewPlugin,\n    PicoDomMetaPlugin,\n    PicoDomObserverPlugin,\n    PicoDomPopoverPlugin,\n];\n\n/**\n * @class PicoDom\n *\n * @typedef {import('../dom/DomFinder.js').PicoDomFinderInstance} PicoDomFinderInstance\n * @typedef {import('../dom/DomGlobal.js').PicoDomGlobalStatic} PicoDomGlobalStatic\n * @typedef {import('../dom/DomGlobal.js').PicoDomGlobalInstance} PicoDomGlobalInstance\n * @typedef {import('../dom/DomEvent.js').PicoDomEventStatic} PicoDomEventStatic\n * @typedef {import('../dom/DomEvent.js').PicoDomEventInstance} PicoDomEventInstance\n * @typedef {import('../dom/DomBuilder.js').PicoDomBuilderStatic} PicoDomBuilderStatic\n * @typedef {import('../dom/DomBuilder.js').PicoDomBuilderInstance} PicoDomBuilderInstance\n * @typedef {import('../dom/DomRectangle.js').PicoDomRectangleStatic} PicoDomRectangleStatic\n * @typedef {import('../dom/DomRectangle.js').PicoDomRectangleInstance} PicoDomRectangleInstance\n * @typedef {import('../dom/DomAttribute.js').PicoDomAttributeStatic} PicoDomAttributeStatic\n * @typedef {import('../dom/DomAttribute.js').PicoDomAttributeInstance} PicoDomAttributeInstance\n * @typedef {import('../dom/DomInview.js').PicoDomInviewStatic} PicoDomInviewStatic\n * @typedef {import('../dom/DomInview.js').PicoDomInviewInstance} PicoDomInviewInstance\n * @typedef {import('../dom/DomMeta.js').PicoDomMetaStatic} PicoDomMetaStatic\n * @typedef {import('../dom/DomMeta.js').PicoDomMetaInstance} PicoDomMetaInstance\n * @typedef {import('../dom/DomObserver.js').PicoDomObserverStatic} PicoDomObserverStatic\n * @typedef {import('../dom/DomObserver.js').PicoDomObserverInstance} PicoDomObserverInstance\n * @typedef {import('../dom/DomPopover.js').PicoDomPopoverStatic} PicoDomPopoverStatic\n * @typedef {import('../dom/DomPopover.js').PicoDomPopoverInstance} PicoDomPopoverInstance\n *\n * @mixes PicoDomFinderStatic\n * @mixes PicoDomGlobalStatic\n * @mixes PicoDomFormStatic\n * @mixes PicoDomEventStatic\n * @mixes PicoDomBuilderStatic\n * @mixes PicoDomRectangleStatic\n * @mixes PicoDomAttributeStatic\n * @mixes PicoDomInviewStatic\n * @mixes PicoDomMetaStatic\n * @mixes PicoDomObserverStatic\n * @mixes PicoDomPopoverStatic\n *\n * @extends PicoDomFinderInstance\n * @extends PicoDomGlobalInstance\n * @extends PicoDomFormInstance\n * @extends PicoDomEventInstance\n * @extends PicoDomBuilderInstance\n * @extends PicoDomRectangleInstance\n * @extends PicoDomAttributeInstance\n * @extends PicoDomInviewInstance\n * @extends PicoDomMetaInstance\n * @extends PicoDomObserverInstance\n * @extends PicoDomPopoverInstance\n */\nexport class PicoDom {\n\n    /**\n     * Init hooks for constructor\n     *\n     * @type {Array<function>}\n     */\n    static init = [];\n\n    /**\n     * First selected element\n     *\n     * @type {HTMLElement}\n     */\n    el = null;\n\n    /**\n     * All selected elements\n     *\n     * @type {Array<HTMLElement>}\n     */\n    els = [];\n\n    /**\n     * Create Dom wrapper from input\n     *\n     * @example new Dom(\"body\").get(0) // => HTMLElement\n     *\n     * @param {any} el Element or selector\n     * @param {...any} args Plugin args\n     */\n    constructor(el, ...args)\n    {\n        Arr.each(Dom.init, (fn) => {\n            el = fn.call(this, el, ...args);\n        });\n\n        if ( el instanceof Dom ) {\n            el = el.el;\n        }\n\n        if ( ! Mix.isArr(el) ) {\n            el = [el];\n        }\n\n        (this.el = el[0], this.els = el);\n    }\n\n    /**\n     * Create new Dom wrapper\n     *\n     * @example Dom.find(\"body\") // => Dom\n     *\n     * @param {any} el Element or selector\n     * @param {...any} args Plugin args\n     * @returns {PicoDom} Dom wrapper\n     */\n    static find(el, ...args)\n    {\n        return new Dom(el, ...args);\n    }\n\n    /**\n     * Extend Dom with a plugin\n     *\n     * @example Dom.extend(fn)\n     *\n     * @param {function} plugin Plugin function\n     * @returns {void} No return value\n     */\n    static extend(plugin)\n    {\n        plugin.call({}, this);\n    }\n\n    /**\n     * Get window or empty object\n     *\n     * @example Dom.win().innerWidth // => number|undefined\n     *\n     * @returns {any} Window or {}\n     */\n    static win()\n    {\n        if ( globalThis.window == null ) {\n            return {};\n        }\n\n        return window;\n    }\n\n    /**\n     * Get document or empty object\n     *\n     * @example Dom.doc().body // => HTMLElement|undefined\n     *\n     * @returns {any} Document or {}\n     */\n    static doc()\n    {\n        if ( globalThis.document == null ) {\n            return {};\n        }\n\n        return document;\n    }\n\n    /**\n     * Get document.body or empty\n     *\n     * @example Dom.body().nodeType // => 1|undefined\n     *\n     * @returns {any} Body or {}\n     */\n    static body()\n    {\n        if ( ! this.doc().body ) {\n            return {};\n        }\n\n        return this.doc().body;\n    }\n\n}\n\n/**\n * @returns {typeof PicoDom}\n */\nexport function PicoDomBuilder() {\n\n    let cls = PicoDom;\n\n    for ( const plugin of PicoDomPlugins ) {\n        cls = plugin.call(cls, cls);\n    }\n\n    return cls;\n}\n\nexport default PicoDomBuilder;","import { Arr, Mix, Now, Num, Obj, Str } from \"../index.esm.js\";\nimport { PicoNow } from \"../utils/Now.js\";\n\nexport const NOW_MODIFY = {\n    'second': /([+-])([0-9]+)\\s?seconds?/i,\n    'minute': /([+-])([0-9]+)\\s?minutes?/i,\n    'hour': /([+-])([0-9]+)\\s?hours?/i,\n    'date': /([+-])([0-9]+)\\s?days?/i,\n    'month': /([+-])([0-9]+)\\s?months?/i,\n    'year': /([+-])([0-9]+)\\s?years?/i\n};\n\n/**\n * @memberof PicoNow\n * @extends {PicoNow}\n */\nexport class PicoNowDefaultInstance\n{\n\n    /**\n     * Get value by scope\n     *\n     * @example Now.get(\"year\") // => 2026\n     *\n     * @param {string} scope Value scope\n     * @returns {number|PicoNow} Scope value\n     */\n    get(scope)\n    {\n        if ( scope === 'time' ) {\n            return this.value.getTime();\n        }\n\n        if ( /^seconds?$/i.test(scope) ) {\n            return this.value.getSeconds();\n        }\n\n        if ( /^minutes?$/i.test(scope) ) {\n            return this.value.getMinutes();\n        }\n\n        if ( /^hours?$/i.test(scope) ) {\n            return this.value.getHours();\n        }\n\n        if ( /^days?$/i.test(scope) ) {\n            return this.value.getDay();\n        }\n\n        if ( /^dates?$/i.test(scope) ) {\n            return this.value.getDate();\n        }\n\n        if ( /^months?$/i.test(scope) ) {\n            return this.value.getMonth() + 1;\n        }\n\n        if ( /^years?$/i.test(scope) ) {\n            return this.value.getFullYear();\n        }\n\n        return this;\n    }\n\n    /**\n     * Set value by scope\n     *\n     * @example Now.set(2026, \"year\")\n     *\n     * @param {any} value New value\n     * @param {string} scope Value scope\n     * @returns {PicoNow} Current instance\n     */\n    set(value, scope)\n    {\n        if ( !Mix.isNum(value) ) {\n            value = Mix.int(value);\n        }\n\n        let day = this.value.getDay();\n\n        if ( scope === 'day' ) {\n            value = value + 1 - (day || 7);\n        }\n\n        if ( scope === 'time' ) {\n            this.value.setTime(value);\n        }\n\n        if ( /^seconds?$/i.test(scope) ) {\n            this.value.setSeconds(value);\n        }\n\n        if ( /^minutes?$/i.test(scope) ) {\n            this.value.setMinutes(value);\n        }\n\n        if ( /^hours?$/i.test(scope) ) {\n            this.value.setHours(value);\n        }\n\n        if ( /^days?$/i.test(scope) ) {\n            this.add(value, 'date');\n        }\n\n        if ( /^dates?$/i.test(scope) ) {\n            this.value.setDate(value);\n        }\n\n        if ( /^months?$/i.test(scope) ) {\n            this.value.setMonth(value - 1);\n        }\n\n        if ( /^years?$/i.test(scope) ) {\n            this.value.setFullYear(value);\n        }\n\n        return this;\n    }\n\n    /**\n     * Get or set timestamp\n     *\n     * @example Now.time() // => 1739334660000\n     *\n     * @param {any} [value] New timestamp\n     * @returns {number|PicoNow} Timestamp or instance\n     */\n    time(value = null)\n    {\n        if ( value == null ) {\n            return this.get('time');\n        }\n\n        return this.set(value, 'time');\n    }\n\n    /**\n     * Get or set seconds\n     *\n     * @example Now.second() // => 45\n     *\n     * @param {any} [value] New seconds\n     * @returns {number|PicoNow} Seconds or instance\n     */\n    second(value = null)\n    {\n        if ( value == null ) {\n            return this.get('second');\n        }\n\n        return this.set(value, 'second');\n    }\n\n    /**\n     * Get or set minutes\n     *\n     * @example Now.minute() // => 30\n     *\n     * @param {any} [value] New minutes\n     * @returns {number|PicoNow} Minutes or instance\n     */\n    minute(value = null)\n    {\n        if ( value == null ) {\n            return this.get('minute');\n        }\n\n        return this.set(value, 'minute');\n    }\n\n    /**\n     * Get or set hours\n     *\n     * @example Now.hour() // => 12\n     *\n     * @param {any} [value] New hours\n     * @returns {number|PicoNow} Hours or instance\n     */\n    hour(value = null)\n    {\n        if ( value == null ) {\n            return this.get('hour');\n        }\n\n        return this.set(value, 'hour');\n    }\n\n    /**\n     * Get or set day of week\n     *\n     * @example Now.day() // => 1\n     *\n     * @param {any} [value] New day\n     * @returns {number|PicoNow} Day or instance\n     */\n    day(value = null)\n    {\n        if ( value == null ) {\n            return this.get('day');\n        }\n\n        return this.set(value, 'day');\n    }\n\n    /**\n     * Get or set date of month\n     *\n     * @example Now.date() // => 12\n     *\n     * @param {any} [value] New date\n     * @returns {number|PicoNow} Date or instance\n     */\n    date(value = null)\n    {\n        if ( value == null ) {\n            return this.get('date');\n        }\n\n        return this.set(value, 'date');\n    }\n\n    /**\n     * Get or set month\n     *\n     * @example Now.month() // => 2\n     *\n     * @param {any} [value] New month\n     * @returns {number|PicoNow} Month or instance\n     */\n    month(value = null)\n    {\n        if ( value == null ) {\n            return this.get('month');\n        }\n\n        return this.set(value, 'month');\n    }\n\n    /**\n     * Get or set year\n     *\n     * @example Now.year() // => 2026\n     *\n     * @param {any} [value] New year\n     * @returns {number|PicoNow} Year or instance\n     */\n    year(value = null)\n    {\n        if ( value == null ) {\n            return this.get('year');\n        }\n\n        return this.set(value, 'year');\n    }\n\n    /**\n     * Get short year\n     *\n     * @example Now.shortyear() // => \"26\"\n     *\n     * @returns {string} Short year\n     */\n    shortyear()\n    {\n        return this.get('year').toString().slice(- 2);\n    }\n\n    /**\n     * Add value to scope\n     *\n     * @example Now.add(1, \"day\")\n     *\n     * @param {number} value Add value\n     * @param {string} [scope] Target scope\n     * @returns {PicoNow} Current instance\n     */\n    add(value, scope = 'day')\n    {\n        if ( /^days?$/i.test(scope) ) {\n            scope = 'date';\n        }\n\n        this.set(this.get(scope) + Mix.int(value), scope);\n\n        return this;\n    }\n\n    /**\n     * Subtract value from scope\n     *\n     * @example Now.sub(1, \"day\")\n     *\n     * @param {number} value Sub value\n     * @param {string} [scope] Target scope\n     * @returns {PicoNow} Current instance\n     */\n    sub(value, scope = 'day')\n    {\n        if ( /^days?$/i.test(scope) ) {\n            scope = 'date';\n        }\n\n        this.set(this.get(scope) - Mix.int(value), scope);\n\n        return this;\n    }\n\n    /**\n     * Check if string is modifiable\n     *\n     * @example Now.isModifible(\"+1 day\") // => true\n     *\n     * @param {string} value Test value\n     * @returns {boolean} Is modifiable\n     */\n    isModifible(value)\n    {\n        return /^(\\s*[+-][0-9]+\\s?[a-z]+\\s*)+$/i.test(value);\n    }\n\n    /**\n     * Modify date by string\n     *\n     * @example Now.modify(\"+1 day\")\n     *\n     * @param {string} value Modify string\n     * @returns {PicoNow} Current instance\n     */\n    modify(value)\n    {\n        if ( Mix.isEmpty(value) ) {\n            return this;\n        }\n\n        Obj.each(NOW_MODIFY, (val, key) => {\n            Str.match(value, val, ([f, o, c]) => {\n                o === '+' ? this.add(c, key) : this.sub(c, key);\n            });\n        });\n\n        return this;\n    }\n\n    /**\n     * Apply values from other date\n     *\n     * @example Now.apply(\"2026-01-01\", \"YYYY-MM-DD\", [\"year\"])\n     *\n     * @param {any} value Source value\n     * @param {string} [format] Source format\n     * @param {Array<string>} [keys] Scope keys\n     * @returns {PicoNow} Current instance\n     */\n    apply(value, format = 'YYYY-MM-DD HH:mm:ss', keys = [])\n    {\n        value = Now.make(value, format);\n\n        for ( const key of keys ) {\n            this.set(value.get(key), key);\n        }\n\n        return this;\n    }\n\n    /**\n     * Apply date from other value\n     *\n     * @example Now.applyDate(\"2026-01-01\")\n     *\n     * @param {any} value Source value\n     * @param {string} [format] Source format\n     * @returns {PicoNow} Current instance\n     */\n    applyDate(value, format = 'YYYY-MM-DD HH:mm:ss')\n    {\n        return this.apply(value, format, ['date', 'month', 'year']);\n    }\n\n    /**\n     * Apply time from other value\n     *\n     * @example Now.applyTime(\"12:00:00\")\n     *\n     * @param {any} value Source value\n     * @param {string} [format] Source format\n     * @returns {PicoNow} Current instance\n     */\n    applyTime(value, format = 'YYYY-MM-DD HH:mm:ss')\n    {\n        return this.apply(value, format, ['hour', 'minute', 'second']);\n    }\n\n}\n\n/**\n * @see PicoNow.add\n */\nPicoNowDefaultInstance.prototype.addSecond = function (value) {\n    console.warn('Now.addSecond() is deprecated, use Now.add(value, \\'second\\') instead.');\n    return this.add(value, 'second');\n}\n\n/**\n * @see PicoNow.sub\n */\nPicoNowDefaultInstance.prototype.subSecond = function (value) {\n    console.warn('Now.subSecond() is deprecated, use Now.sub(value, \\'second\\') instead.');\n    return this.sub(value, 'second');\n}\n\n/**\n * @see PicoNow.add\n */\nPicoNowDefaultInstance.prototype.addMinute = function (value) {\n    console.warn('Now.addMinute() is deprecated, use Now.add(value, \\'minute\\') instead.');\n    return this.add(value, 'minute');\n}\n\n/**\n * @see PicoNow.sub\n */\nPicoNowDefaultInstance.prototype.subMinute = function (value) {\n    console.warn('Now.subMinute() is deprecated, use Now.sub(value, \\'minute\\') instead.');\n    return this.sub(value, 'minute');\n}\n\n/**\n * @see PicoNow.add\n */\nPicoNowDefaultInstance.prototype.addHour = function (value) {\n    console.warn('Now.addHour() is deprecated, use Now.add(value, \\'hour\\') instead.');\n    return this.add(value, 'hour');\n}\n\n/**\n * @see PicoNow.sub\n */\nPicoNowDefaultInstance.prototype.subHour = function (value) {\n    console.warn('Now.subHour() is deprecated, use Now.sub(value, \\'hour\\') instead.');\n    return this.sub(value, 'hour');\n}\n\n/**\n * @see PicoNow.add\n */\nPicoNowDefaultInstance.prototype.addDates = function (value) {\n    console.warn('Now.addDates() is deprecated, use Now.add(value, \\'date\\') instead.');\n    return this.add(value, 'date');\n}\n\n/**\n * @see PicoNow.sub\n */\nPicoNowDefaultInstance.prototype.subDates = function (value) {\n    console.warn('Now.subDates() is deprecated, use Now.sub(value, \\'date\\') instead.');\n    return this.sub(value, 'date');\n}\n\n/**\n * @see PicoNow.add\n */\nPicoNowDefaultInstance.prototype.addMonths = function (value) {\n    console.warn('Now.addMonths() is deprecated, use Now.add(value, \\'month\\') instead.');\n    return this.add(value, 'month');\n}\n\n/**\n * @see PicoNow.sub\n */\nPicoNowDefaultInstance.prototype.subMonths = function (value) {\n    console.warn('Now.subMonths() is deprecated, use Now.sub(value, \\'month\\') instead.');\n    return this.sub(value, 'month');\n}\n\n/**\n * @see PicoNow.add\n */\nPicoNowDefaultInstance.prototype.addYears = function (value) {\n    console.warn('Now.addYears() is deprecated, use Now.add(value, \\'year\\') instead.');\n    return this.add(value, 'year');\n}\n\n/**\n * @see PicoNow.sub\n */\nPicoNowDefaultInstance.prototype.subYears = function (value) {\n    console.warn('Now.subYears() is deprecated, use Now.sub(value, \\'year\\') instead.');\n    return this.sub(value, 'year');\n}\n\n/**\n * @see PicoNow.add\n */\nPicoNowDefaultInstance.prototype.addDecades = function (value) {\n    console.warn('Now.addDecades() is deprecated, use Now.grid(10 * value, \\'year\\') instead.');\n    return this.add(10 * value, 'year');\n}\n\n/**\n * @see PicoNow.sub\n */\nPicoNowDefaultInstance.prototype.subDecades = function (value) {\n    console.warn('Now.subDecades() is deprecated, use Now.grid(10 * value, \\'year\\') instead.');\n    return this.sub(10 * value, 'year');\n}\n\n/**\n * @see PicoNow.day\n */\nPicoNowDefaultInstance.prototype.humanDay = function () {\n    console.warn('Now.humanDay() is deprecated, use Now.day() instead.');\n    return this.day();\n}\n\n/**\n * @see PicoNow.month\n */\nPicoNowDefaultInstance.prototype.humanMonth = function () {\n    console.warn('Now.humanMonth() is deprecated, use Now.month() instead.');\n    return this.month();\n}\n\n/**\n * @param {typeof PicoNow} self\n * @returns {typeof PicoNow}\n */\nexport const PicoNowDefaultPlugin = function (self) {\n\n    Obj.each(Mix.proto(PicoNowDefaultInstance), (fn, id) => {\n        self.prototype[id] = fn;\n    });\n\n    return self;\n}","import { Arr, Locale, Mix, Num, Obj, Str } from \"../index.esm.js\";\nimport { PicoNow } from \"../utils/Now.js\";\n\nexport const NOW_FORMAT = {\n    'L': 'DD/MM/YYYY',\n    'LL': 'MMMM DD, YYYY',\n    'LLL': 'MMMM DD, YYYY HH:mm',\n    'LLLL': 'dddd, MMMM DD, YYYY HH:mm',\n    'LT': 'HH:mm',\n    'LTS': 'HH:mm:ss',\n    'LTSD': 'DD/MM/YYYY HH:mm:ss',\n}\n\nexport const NOW_PARSE = {\n    'second': 'ss',\n    'minute': 'mm',\n    'hour': 'HH',\n    'date': 'DD',\n    'month': 'MM',\n    'year': 'YYYY'\n};\n\n/**\n * @memberof PicoNow\n * @extends {PicoNow}\n */\nexport class PicoNowFormatInstance\n{\n\n    /**\n     * Check if value matches format\n     *\n     * @example Now.isParsable(\"2026-01-01\") // => true\n     *\n     * @param {string} value Test value\n     * @param {string} [format] Date format\n     * @returns {boolean} Is parsable\n     */\n    isParsable(value, format = 'YYYY-MM-DD HH:mm:ss')\n    {\n        for ( const key in NOW_PARSE ) {\n            value = Str.replace(value, NOW_PARSE[key], format);\n        }\n\n        return value === format;\n    }\n\n    /**\n     * Parse date from string\n     *\n     * @example Now.parse(\"2026-01-01\") // => Now\n     *\n     * @param {any} value Input value\n     * @param {string} [format] Input format\n     * @returns {PicoNow} Current instance\n     */\n    parse(value, format = 'YYYY-MM-DD HH:mm:ss')\n    {\n        if ( Mix.isTime(value) ) {\n            format = 'HH:mm:ss';\n        }\n\n        if ( Mix.isDate(value) ) {\n            format = 'YYYY-MM-DD';\n        }\n\n        if ( this.isModifible(value) ) {\n            return this.modify(value);\n        }\n\n        if ( ! Mix.isIsoDate(value) ) {\n            return this.parseFormat(value, format);\n        }\n\n        this.value = new Date(value);\n\n        return this;\n    }\n\n    /**\n     * Parse date using format\n     *\n     * @example Now.parseFormat(\"01/01/2026\", \"DD/MM/YYYY\")\n     *\n     * @param {string} value Input value\n     * @param {string} format Input format\n     * @returns {PicoNow} Current instance\n     */\n    parseFormat(value, format)\n    {\n        if ( !this.isParsable(value, format) ) {\n            return (this.value = new Date(NaN), this);\n        }\n\n        for ( const key in NOW_PARSE ) {\n            this.set(Str.extract(value, NOW_PARSE[key], format), key);\n        }\n\n        return this;\n    }\n\n    /**\n     * Format date to string\n     *\n     * @example Now.format(\"YYYY-MM-DD\") // => \"2026-02-12\"\n     *\n     * @param {string} [format] Output format\n     * @returns {string} Formatted string\n     */\n    format(format = 'YYYY-MM-DD HH:mm:ss')\n    {\n        if ( Obj.has(NOW_FORMAT, format) ) {\n            format = Locale.$text[format] ?? NOW_FORMAT[format];\n        }\n\n        format = format.replace('dddd', () => {\n            return this.human('day');\n        });\n\n        format = format.replace('ddd', () => {\n            return this.human('day', 3);\n        });\n\n        format = format.replace('dd', () => {\n            return this.human('day', 2);\n        });\n\n        format = format.replace('MMMM', () => {\n            return this.human('month');\n        });\n\n        format = format.replace('MMM', () => {\n            return this.human('month', 3);\n        });\n\n        format = format.replace('YYYY', () => {\n            return Str.integer(this.year(), 4);\n        });\n\n        format = format.replace('MM', () => {\n            return Str.integer(this.month(), 2);\n        });\n\n        format = format.replace('DD', () => {\n            return Str.integer(this.date(), 2);\n        });\n\n        format = format.replace('HH', () => {\n            return Str.integer(this.hour(), 2);\n        });\n\n        format = format.replace('mm', () => {\n            return Str.integer(this.minute(), 2);\n        });\n\n        format = format.replace('ss', () => {\n            return Str.integer(this.second(), 2);\n        });\n\n        format = format.replace('YY', () => {\n            return Str.integer(this.shortyear(), 2);\n        });\n\n        format = format.replace('X', () => {\n            return Str.integer(this.time());\n        });\n\n        format = format.replace('x', () => {\n            return Str.integer(this.time() / 1000);\n        });\n\n        return format;\n    }\n\n    /**\n     * Format date as integer\n     *\n     * @example Now.code(\"YYYYMMDD\") // => 20260212\n     *\n     * @param {string} [format] Output format\n     * @returns {number} Formatted integer\n     */\n    code(format = 'X')\n    {\n        return Mix.int(this.format(format));\n    }\n\n}\n\n/**\n * @param {typeof PicoNow} self\n * @returns {typeof PicoNow}\n */\nexport const PicoNowFormatPlugin = function (self) {\n\n    Obj.each(Mix.proto(PicoNowFormatInstance), (fn, id) => {\n        self.prototype[id] = fn;\n    });\n\n    return self;\n}","import { Mix, Now, Obj } from \"../index.esm.js\";\nimport { PicoNow } from \"../utils/Now.js\";\n\n/**\n * @memberof PicoNow\n * @extends {PicoNow}\n */\nexport class PicoNowMatchInstance\n{\n\n    /**\n     * Check if date is before value\n     *\n     * @example Now.make(\"2026-01-01\").before(\"2026-02-12\") // => true\n     *\n     * @param {any} [value] Compare value\n     * @param {string} [format] Compare format\n     * @returns {boolean} True if before\n     */\n    before(value = null, format = 'x')\n    {\n        return this.code(format) < Now.make(value).code(format);\n    }\n\n    /**\n     * Check if date is before value date\n     *\n     * @example Now.make(\"2026-01-01\").beforeDate(\"2026-02-12\")\n     *\n     * @param {any} [value] Compare value\n     * @param {string} [format] Compare format\n     * @returns {boolean} True if before\n     */\n    beforeDate(value = null, format = 'YYYYMMDD')\n    {\n        return this.before(value, format);\n    }\n\n    /**\n     * Check if date is before value time\n     *\n     * @example Now.make(\"10:00:00\").beforeTime(\"12:00:00\")\n     *\n     * @param {any} [value] Compare value\n     * @param {string} [format] Compare format\n     * @returns {boolean} True if before\n     */\n    beforeTime(value = null, format = 'HHmmss')\n    {\n        return this.before(value, format);\n    }\n\n    /**\n     * Check if date is after value\n     *\n     * @example Now.make(\"2026-02-12\").after(\"2026-01-01\") // => true\n     *\n     * @param {any} [value] Compare value\n     * @param {string} [format] Compare format\n     * @returns {boolean} True if after\n     */\n    after(value = null, format = 'x')\n    {\n        return this.code(format) > Now.make(value).code(format);\n    }\n\n    /**\n     * Check if date is after value date\n     *\n     * @example Now.make(\"2026-02-12\").afterDate(\"2026-01-01\")\n     *\n     * @param {any} [value] Compare value\n     * @param {string} [format] Compare format\n     * @returns {boolean} True if after\n     */\n    afterDate(value = null, format = 'YYYYMMDD')\n    {\n        return this.after(value, format);\n    }\n\n    /**\n     * Check if date is after value time\n     *\n     * @example Now.make(\"12:00:00\").afterTime(\"10:00:00\")\n     *\n     * @param {any} [value] Compare value\n     * @param {string} [format] Compare format\n     * @returns {boolean} True if after\n     */\n    afterTime(value = null, format = 'HHmmss')\n    {\n        return this.after(value, format);\n    }\n\n    /**\n     * Check if date equals value\n     *\n     * @example Now.make(\"2026-01-01\").equal(\"2026-01-01\") // => true\n     *\n     * @param {any} [value] Compare value\n     * @param {string} [format] Compare format\n     * @returns {boolean} True if equal\n     */\n    equal(value = null, format = 'x')\n    {\n        if ( ! (value instanceof Now) ) {\n            value = Now.make(value);\n        }\n\n        return this.code(format) === value.clone().code(format);\n    }\n\n    /**\n     * Check if date equals value date\n     *\n     * @example Now.make(\"2026-01-01\").equalDate(\"2026-01-01\")\n     *\n     * @param {any} [value] Compare value\n     * @param {string} [format] Compare format\n     * @returns {boolean} True if equal\n     */\n    equalDate(value = null, format = 'YYYYMMDD')\n    {\n        return this.equal(value, format);\n    }\n\n    /**\n     * Check if date equals value time\n     *\n     * @example Now.make(\"12:00:00\").equalTime(\"12:00:00\")\n     *\n     * @param {any} [value] Compare value\n     * @param {string} [format] Compare format\n     * @returns {boolean} True if equal\n     */\n    equalTime(value = null, format = 'HHmmss')\n    {\n        return this.equal(value, format);\n    }\n\n    /**\n     * Check if date is between values\n     *\n     * @example Now.make(\"2026-01-15\").between(\"2026-01-01\", \"2026-01-31\")\n     *\n     * @param {any} [start] Start value\n     * @param {any} [end] End value\n     * @param {string} [format] Compare format\n     * @returns {boolean} True if between\n     */\n    between(start = null, end = null, format = 'YYYYMMDD')\n    {\n        let dates = [\n            Now.make(start), Now.make(end)\n        ];\n\n        if ( dates[0].after(dates[1], format) ) {\n            dates = dates.reverse();\n        }\n\n        return this.after(dates[0], format) && this.before(dates[1], format);\n    }\n\n}\n\n/**\n * @param {typeof PicoNow} self\n * @returns {typeof PicoNow}\n */\nexport const PicoNowMatchPlugin = function (self) {\n\n    Obj.each(Mix.proto(PicoNowMatchInstance), (fn, id) => {\n        self.prototype[id] = fn;\n    });\n\n    return self;\n}","import { Arr, Mix, Num, Obj, Str } from \"../index.esm.js\";\nimport { PicoNow } from \"../utils/Now.js\";\n\n/**\n * @memberof PicoNow\n * @extends {PicoNow}\n */\nexport class PicoNowGridInstance\n{\n    /**\n     * Get grid of dates by scope\n     *\n     * @example Now.grid(\"month\") // => [Now, Now, ...]\n     *\n     * @param {string} [scope] Grid scope\n     * @returns {Array<PicoNow>} Array of dates\n     */\n    grid(scope = 'day')\n    {\n        if ( /^seconds?$/i.test(scope) ) {\n            return this.getSecondsGrid();\n        }\n\n        if ( /^minutes?$/i.test(scope) ) {\n            return this.getMinutesGrid();\n        }\n\n        if ( /^hours?$/i.test(scope) ) {\n            return this.getHoursGrid();\n        }\n\n        if ( /^days?$/i.test(scope) ) {\n            return this.getDaysGrid();\n        }\n\n        if ( /^dates?$/i.test(scope) ) {\n            return this.getDatesGrid();\n        }\n\n        if ( /^months?$/i.test(scope) ) {\n            return this.getMonthsGrid();\n        }\n\n        if ( /^years?$/i.test(scope) ) {\n            return this.getYearsGrid();\n        }\n\n        if ( /^decades?$/i.test(scope) ) {\n            return this.getDecadesGrid();\n        }\n\n        throw new Error(`Invalid grid scope type \"${scope}\".`);\n    }\n\n    /**\n     * Get seconds grid\n     *\n     * @example Now.getSecondsGrid(10)\n     *\n     * @param {number} [interval] Step interval\n     * @returns {Array<PicoNow>} Array of dates\n     */\n    getSecondsGrid(interval = 1)\n    {\n        if ( interval == null ) {\n            interval = 1;\n        }\n\n        return Arr.make(60 / interval, (i) => {\n            return this.clone().second(i * interval);\n        });\n    }\n\n    /**\n     * Get minutes grid\n     *\n     * @example Now.getMinutesGrid(10)\n     *\n     * @param {number} [interval] Step interval\n     * @returns {Array<PicoNow>} Array of dates\n     */\n    getMinutesGrid(interval = 1)\n    {\n        if ( interval == null ) {\n            interval = 1;\n        }\n\n        return Arr.make(60 / interval, (i) => {\n            return this.clone().minute(i * interval);\n        });\n    }\n\n    /**\n     * Get hours grid\n     *\n     * @example Now.getHoursGrid(2)\n     *\n     * @param {number} [interval] Step interval\n     * @returns {Array<PicoNow>} Array of dates\n     */\n    getHoursGrid(interval = 1)\n    {\n        if ( interval == null ) {\n            interval = 1;\n        }\n\n        return Arr.make(24 / interval, (i) => {\n            return this.clone().hour(i * interval);\n        });\n    }\n\n    /**\n     * Get days grid\n     *\n     * @example Now.getDaysGrid()\n     *\n     * @returns {Array<PicoNow>} Array of dates\n     */\n    getDaysGrid()\n    {\n        let dates = [\n            this.first('date').first('day'), this.last('date').last('day')\n        ];\n\n        return dates[0].range(dates[1], 'date');\n    }\n\n    /**\n     * Get dates grid\n     *\n     * @example Now.getDatesGrid()\n     *\n     * @returns {Array<PicoNow>} Array of dates\n     */\n    getDatesGrid()\n    {\n        let dates = [\n            this.first('date'), this.last('date')\n        ];\n\n        return dates[0].range(dates[1], 'date');\n    }\n\n    /**\n     * Get months grid\n     *\n     * @example Now.getMonthsGrid()\n     *\n     * @returns {Array<PicoNow>} Array of dates\n     */\n    getMonthsGrid()\n    {\n        let dates = [\n            this.first('month'), this.last('month')\n        ];\n\n        return dates[0].range(dates[1], 'month');\n    }\n\n    /**\n     * Get years grid\n     *\n     * @example Now.getYearsGrid()\n     *\n     * @returns {Array<PicoNow>} Array of dates\n     */\n    getYearsGrid()\n    {\n        let dates = [\n            this.first('year'), this.clone().last('year')\n        ];\n\n        return dates[0].range(dates[1], 'year');\n    }\n\n    /**\n     * Get decades grid\n     *\n     * @example Now.getDecadesGrid()\n     *\n     * @returns {Array<PicoNow>} Array of dates\n     */\n    getDecadesGrid()\n    {\n        let dates = [\n            this.first('decade'), this.clone().last('decade')\n        ];\n\n        return dates[0].range(dates[1], 'decade');\n    }\n\n}\n\n/**\n * @see PicoNow.grid\n */\nPicoNowGridInstance.prototype.getYears = function () {\n    console.warn('Now.getYears() is deprecated, use Now.grid(\\'years\\') instead.');\n    return this.grid('years');\n}\n\n/**\n * @see PicoNow.grid\n */\nPicoNowGridInstance.prototype.getMonths = function () {\n    console.warn('Now.getMonths() is deprecated, use Now.grid(\\'months\\') instead.');\n    return this.grid('months');\n}\n\n/**\n * @see PicoNow.grid\n */\nPicoNowGridInstance.prototype.getDates = function () {\n    console.warn('Now.getDates() is deprecated, use Now.grid(\\'dates\\') instead.');\n    return this.grid('dates');\n}\n\n/**\n * @see PicoNow.grid\n */\nPicoNowGridInstance.prototype.getHours = function () {\n    console.warn('Now.getHours() is deprecated, use Now.grid(\\'hours\\') instead.');\n    return this.grid('hours');\n}\n\n/**\n * @see PicoNow.grid\n */\nPicoNowGridInstance.prototype.getMinutes = function () {\n    console.warn('Now.getMinutes() is deprecated, use Now.grid(\\'minutes\\') instead.');\n    return this.grid('minutes');\n}\n\n/**\n * @see PicoNow.grid\n */\nPicoNowGridInstance.prototype.getSeconds = function () {\n    console.warn('Now.getSeconds() is deprecated, use Now.grid(\\'seconds\\') instead.');\n    return this.grid('seconds');\n}\n\n/**\n * @param {typeof PicoNow} self\n * @returns {typeof PicoNow}\n */\nexport const PicoNowGridPlugin = function (self) {\n\n    Obj.each(Mix.proto(PicoNowGridInstance), (fn, id) => {\n        self.prototype[id] = fn;\n    });\n\n    return self;\n}","import { Mix, Now, Obj } from \"../index.esm.js\";\nimport { PicoNow } from \"../utils/Now.js\";\n\n/**\n * @memberof PicoNow\n * @extends {PicoNow}\n */\nexport class PicoNowWalkerInstance\n{\n\n    /**\n     * Get previous date by scope\n     *\n     * @example Now.prev(\"day\") // => Now\n     *\n     * @param {string} [scope] Target scope\n     * @returns {PicoNow} New instance\n     */\n    prev(scope = 'date')\n    {\n        if ( /^days?$/i.test(scope) ) {\n            scope = 'date';\n        }\n\n        if ( /^decades?$/i.test(scope) ) {\n            return this.clone().sub(10, 'year');\n        }\n\n        return this.clone().sub(1, scope);\n    }\n\n    /**\n     * Get next date by scope\n     *\n     * @example Now.next(\"day\") // => Now\n     *\n     * @param {string} [scope] Target scope\n     * @returns {PicoNow} New instance\n     */\n    next(scope = 'day')\n    {\n        if ( /^days?$/i.test(scope) ) {\n            scope = 'date';\n        }\n\n        if ( /^decades?$/i.test(scope) ) {\n            return this.clone().add(10, 'year');\n        }\n\n        return this.clone().add(1, scope);\n    }\n\n    /**\n     * Get previous second\n     *\n     * @example Now.prevSecond()\n     *\n     * @returns {PicoNow} New instance\n     */\n    prevSecond()\n    {\n        return this.prev('second');\n    }\n\n    /**\n     * Get next second\n     *\n     * @example Now.nextSecond()\n     *\n     * @returns {PicoNow} New instance\n     */\n    nextSecond()\n    {\n        return this.next('second');\n    }\n\n    /**\n     * Get previous minute\n     *\n     * @example Now.prevMinute()\n     *\n     * @returns {PicoNow} New instance\n     */\n    prevMinute()\n    {\n        return this.prev('minute');\n    }\n\n    /**\n     * Get next minute\n     *\n     * @example Now.nextMinute()\n     *\n     * @returns {PicoNow} New instance\n     */\n    nextMinute()\n    {\n        return this.next('minute');\n    }\n\n    /**\n     * Get previous hour\n     *\n     * @example Now.prevHour()\n     *\n     * @returns {PicoNow} New instance\n     */\n    prevHour()\n    {\n        return this.prev('hour');\n    }\n\n    /**\n     * Get next hour\n     *\n     * @example Now.nextHour()\n     *\n     * @returns {PicoNow} New instance\n     */\n    nextHour()\n    {\n        return this.next('hour');\n    }\n\n    /**\n     * Get previous date\n     *\n     * @example Now.prevDate()\n     *\n     * @returns {PicoNow} New instance\n     */\n    prevDate()\n    {\n        return this.prev('date');\n    }\n\n    /**\n     * Get next date\n     *\n     * @example Now.nextDate()\n     *\n     * @returns {PicoNow} New instance\n     */\n    nextDate()\n    {\n        return this.next('date');\n    }\n\n    /**\n     * Get previous month\n     *\n     * @example Now.prevMonth()\n     *\n     * @returns {PicoNow} New instance\n     */\n    prevMonth()\n    {\n        return this.prev('month');\n    }\n\n    /**\n     * Get next month\n     *\n     * @example Now.nextMonth()\n     *\n     * @returns {PicoNow} New instance\n     */\n    nextMonth()\n    {\n        return this.next('month');\n    }\n\n    /**\n     * Get previous year\n     *\n     * @example Now.prevYear()\n     *\n     * @returns {PicoNow} New instance\n     */\n    prevYear()\n    {\n        return this.prev('year');\n    }\n\n    /**\n     * Get next year\n     *\n     * @example Now.nextYear()\n     *\n     * @returns {PicoNow} New instance\n     */\n    nextYear()\n    {\n        return this.next('year');\n    }\n\n    /**\n     * Get previous decade\n     *\n     * @example Now.prevDecade()\n     *\n     * @returns {PicoNow} New instance\n     */\n    prevDecade()\n    {\n        return this.prev('decade');\n    }\n\n    /**\n     * Get next decade\n     *\n     * @example Now.nextDecade()\n     *\n     * @returns {PicoNow} New instance\n     */\n    nextDecade()\n    {\n        return this.next('decade');\n    }\n\n    /**\n     * Get start of scope\n     *\n     * @example Now.first(\"month\")\n     *\n     * @param {string} [scope] Target scope\n     * @returns {PicoNow} New instance\n     */\n    first(scope = 'date')\n    {\n        if ( /^seconds?$/i.test(scope) ) {\n            return this.firstSecond();\n        }\n\n        if ( /^minutes?$/i.test(scope) ) {\n            return this.firstMinute();\n        }\n\n        if ( /^hours?$/i.test(scope) ) {\n            return this.firstHour();\n        }\n\n        if ( /^days?$/i.test(scope) ) {\n            return this.firstDay();\n        }\n\n        if ( /^dates?$/i.test(scope) ) {\n            return this.firstDate();\n        }\n\n        if ( /^months?$/i.test(scope) ) {\n            return this.firstMonth();\n        }\n\n        if ( /^years?$/i.test(scope) ) {\n            return this.firstYear();\n        }\n\n        if ( /^decades?$/i.test(scope) ) {\n            return this.firstDecade();\n        }\n\n        throw new Error(`Invalid first scope type \"${scope}\".`);\n    }\n\n    /**\n     * Get end of scope\n     *\n     * @example Now.last(\"month\")\n     *\n     * @param {string} [scope] Target scope\n     * @returns {PicoNow} New instance\n     */\n    last(scope = 'date')\n    {\n        if ( /^seconds?$/i.test(scope) ) {\n            return this.lastSecond();\n        }\n\n        if ( /^minutes?$/i.test(scope) ) {\n            return this.lastMinute();\n        }\n\n        if ( /^hours?$/i.test(scope) ) {\n            return this.lastHour();\n        }\n\n        if ( /^days?$/i.test(scope) ) {\n            return this.lastDay();\n        }\n\n        if ( /^dates?$/i.test(scope) ) {\n            return this.lastDate();\n        }\n\n        if ( /^months?$/i.test(scope) ) {\n            return this.lastMonth();\n        }\n\n        if ( /^years?$/i.test(scope) ) {\n            return this.lastYear();\n        }\n\n        if ( /^decades?$/i.test(scope) ) {\n            return this.lastDecade();\n        }\n\n        throw new Error(`Invalid last scope type \"${scope}\".`);\n    }\n\n    /**\n     * Get start of second\n     *\n     * @example Now.firstSecond()\n     *\n     * @returns {PicoNow} New instance\n     */\n    firstSecond()\n    {\n        return this.clone().set(0, 'second');\n    }\n\n    /**\n     * Get end of second\n     *\n     * @example Now.lastSecond()\n     *\n     * @returns {PicoNow} New instance\n     */\n    lastSecond()\n    {\n        return this.clone().set(59, 'second');\n    }\n\n    /**\n     * Get start of minute\n     *\n     * @example Now.firstMinute()\n     *\n     * @returns {PicoNow} New instance\n     */\n    firstMinute()\n    {\n        return this.clone().set(0, 'minute');\n    }\n\n    /**\n     * Get end of minute\n     *\n     * @example Now.lastMinute()\n     *\n     * @returns {PicoNow} New instance\n     */\n    lastMinute()\n    {\n        return this.clone().set(59, 'minute');\n    }\n\n    /**\n     * Get start of hour\n     *\n     * @example Now.firstHour()\n     *\n     * @returns {PicoNow} New instance\n     */\n    firstHour()\n    {\n        return this.clone().set(0, 'hour');\n    }\n\n    /**\n     * Get end of hour\n     *\n     * @example Now.lastHour()\n     *\n     * @returns {PicoNow} New instance\n     */\n    lastHour()\n    {\n        return this.clone().set(23, 'hour');\n    }\n\n    /**\n     * Get start of day\n     *\n     * @example Now.firstDay()\n     *\n     * @returns {PicoNow} New instance\n     */\n    firstDay()\n    {\n        return this.clone().set(0, 'day');\n    }\n\n    /**\n     * Get end of day\n     *\n     * @example Now.lastDay()\n     *\n     * @returns {PicoNow} New instance\n     */\n    lastDay()\n    {\n        return this.clone().set(6, 'day');\n    }\n\n    /**\n     * Get start of month date\n     *\n     * @example Now.firstDate()\n     *\n     * @returns {PicoNow} New instance\n     */\n    firstDate()\n    {\n        return this.clone().set(1, 'date');\n    }\n\n    /**\n     * Get end of month date\n     *\n     * @example Now.lastDate()\n     *\n     * @returns {PicoNow} New instance\n     */\n    lastDate()\n    {\n        return this.clone().next('month').set(0, 'date');\n    }\n\n    /**\n     * Get start of year month\n     *\n     * @example Now.firstMonth()\n     *\n     * @returns {PicoNow} New instance\n     */\n    firstMonth()\n    {\n        return this.clone().set(1, 'month');\n    }\n\n    /**\n     * Get end of year month\n     *\n     * @example Now.lastMonth()\n     *\n     * @returns {PicoNow} New instance\n     */\n    lastMonth()\n    {\n        return this.clone().set(12, 'month');\n    }\n\n    /**\n     * Get nth year of decade\n     *\n     * @example Now.nthYear(5)\n     *\n     * @param {number} [n] Year index\n     * @returns {PicoNow} New instance\n     */\n    nthYear(n = 0)\n    {\n        let year = Math.floor(this.year() / 10) * 10;\n\n        return this.clone().set(year + n, 'year');\n    }\n\n    /**\n     * Get first year of decade\n     *\n     * @example Now.firstYear()\n     *\n     * @returns {PicoNow} New instance\n     */\n    firstYear()\n    {\n        return this.nthYear(0);\n    }\n\n    /**\n     * Get last year of decade\n     *\n     * @example Now.lastYear()\n     *\n     * @returns {PicoNow} New instance\n     */\n    lastYear()\n    {\n        return this.nthYear(9);\n    }\n\n    /**\n     * Get nth decade of century\n     *\n     * @example Now.nthDecade(5)\n     *\n     * @param {number} [n] Decade index\n     * @returns {PicoNow} New instance\n     */\n    nthDecade(n = 0)\n    {\n        let year = Math.floor(this.year() / 100) * 100;\n\n        return this.clone().set(year + (n * 10), 'year');\n    }\n\n    /**\n     * Get first decade of century\n     *\n     * @example Now.firstDecade()\n     *\n     * @returns {PicoNow} New instance\n     */\n    firstDecade()\n    {\n        return this.nthDecade(0);\n    }\n\n    /**\n     * Get last decade of century\n     *\n     * @example Now.lastDecade()\n     *\n     * @returns {PicoNow} New instance\n     */\n    lastDecade()\n    {\n        return this.nthDecade(9);\n    }\n\n}\n\n/**\n * @param {typeof PicoNow} self\n * @returns {typeof PicoNow}\n */\nexport const PicoNowWalkerPlugin = function (self) {\n\n    Obj.each(Mix.proto(PicoNowWalkerInstance), (fn, id) => {\n        self.prototype[id] = fn;\n    });\n\n    return self;\n}","import { Mix, Now, Obj, Arr } from \"../index.esm.js\";\nimport { PicoNow } from \"../utils/Now.js\";\n\n/**\n * @memberof PicoNow\n * @extends {PicoNow}\n */\nexport class PicoNowRangeInstance\n{\n\n    /**\n     * Get range of dates\n     *\n     * @example Now.range(\"2026-01-31\", \"day\") // => [Now, Now, ...]\n     *\n     * @param {any} [value] End date\n     * @param {string} [scope] Range scope\n     * @returns {Array<PicoNow>} Array of dates\n     */\n    range(value = null, scope = 'date')\n    {\n        let format = 'YYYYMMDD';\n\n        if ( /^months?$/.test(scope) ) {\n            format = 'YYYYMM';\n        }\n\n        if ( /^years?$/.test(scope) ) {\n            format = 'YYYY';\n        }\n\n        let range = [];\n\n        let dates = [\n            this.clone(), Now.make(value)\n        ];\n\n        if ( dates[0].afterDate(dates[1]) ) {\n            dates = dates.reverse();\n        }\n\n        dates[1].add(1, scope);\n\n        for ( let day = dates[0]; ! day.equal(dates[1], format); day = day.next(scope) ) {\n            Arr.append(range, day);\n        }\n\n        return range;\n    }\n\n}\n\n/**\n * @see PicoNow.range\n */\nPicoNowRangeInstance.prototype.getDatesRange = function (...args) {\n    console.warn('NowRange.getDatesRange() is deprecated, use NowRange.range() instead.');\n    return this.range(...args);\n}\n\n/**\n * @param {typeof PicoNow} self\n * @returns {typeof PicoNow}\n */\nexport const PicoNowRangePlugin = function (self) {\n\n    Obj.each(Mix.proto(PicoNowRangeInstance), (fn, id) => {\n        self.prototype[id] = fn;\n    });\n\n    return self;\n}","import { Arr, Locale, Mix, Num, Obj, Str } from \"../index.esm.js\";\nimport { PicoNow } from \"../utils/Now.js\";\n\nexport const NOW_HUMAN_DAYS = [\n    'Sunday',\n    'Monday',\n    'Tuesday',\n    'Wednesday',\n    'Thursday',\n    'Friday',\n    'Saturday'\n];\n\nexport const NOW_HUMAN_MONTHS = [\n    'January',\n    'February',\n    'March',\n    'April',\n    'May',\n    'June',\n    'July',\n    'August',\n    'September',\n    'October',\n    'November',\n    'December'\n];\n\n/**\n * @memberof PicoNow\n * @extends {PicoNow}\n */\nexport class PicoNowHumanInstance\n{\n    /**\n     * Get human readable value\n     *\n     * @example Now.human(\"day\") // => \"Monday\"\n     *\n     * @param {string} [scope] Value scope\n     * @param {number} [substr] Substring length\n     * @returns {string|number} Human value\n     */\n    human(scope = 'day', substr = null)\n    {\n        if ( /^days?$/i.test(scope) ) {\n            return this.getHumanDay(substr);\n        }\n\n        if ( /^months?$/i.test(scope) ) {\n            return this.getHumanMonth(substr);\n        }\n\n        return this.get(scope);\n    }\n\n    /**\n     * Get human readable day\n     *\n     * @example Now.getHumanDay(3) // => \"Mon\"\n     *\n     * @param {number} [substr] Substring length\n     * @returns {string} Day name\n     */\n    getHumanDay(substr = null)\n    {\n        let day = this.day() - 1;\n\n        if ( ! NOW_HUMAN_DAYS[day] ) {\n            throw new Error(`Invalid day number \"${day}\".`);\n        }\n\n        let value = Locale.trans(NOW_HUMAN_DAYS[day]);\n\n        if ( substr != null ) {\n            value = value.substring(0, substr);\n        }\n\n        return value;\n    }\n\n    /**\n     * Get human readable month\n     *\n     * @example Now.getHumanMonth(3) // => \"Jan\"\n     *\n     * @param {number} [substr] Substring length\n     * @returns {string} Month name\n     */\n    getHumanMonth(substr = null)\n    {\n        let month = this.day() - 1;\n\n        if ( ! NOW_HUMAN_MONTHS[month] ) {\n            throw new Error(`Invalid month number \"${month}\".`);\n        }\n\n        let value = Locale.trans(NOW_HUMAN_MONTHS[month]);\n\n        if ( substr != null ) {\n            value = value.substring(0, substr);\n        }\n\n        return value;\n    }\n\n}\n\n/**\n * @param {typeof PicoNow} self\n * @returns {typeof PicoNow}\n */\nexport const PicoNowHumanPlugin = function (self) {\n\n    Obj.each(Mix.proto(PicoNowHumanInstance), (fn, id) => {\n        self.prototype[id] = fn;\n    });\n\n    return self;\n}","import { Arr, Dom, Mix, Now, Num } from \"../index.esm.js\";\nimport { PicoNowDefaultPlugin } from \"../now/NowDefault.js\";\nimport { PicoNowFormatPlugin } from \"../now/NowFormat.js\";\nimport { PicoNowMatchPlugin } from \"../now/NowMatch.js\";\nimport { PicoNowGridPlugin } from \"../now/NowGrid.js\";\nimport { PicoNowWalkerPlugin } from \"../now/NowWalker.js\";\nimport { PicoNowRangePlugin } from \"../now/NowRange.js\";\nimport { PicoNowHumanPlugin } from \"../now/NowHuman.js\";\n\nexport const PicoNowPlugins = [\n    PicoNowDefaultPlugin,\n    PicoNowFormatPlugin,\n    PicoNowMatchPlugin,\n    PicoNowGridPlugin,\n    PicoNowWalkerPlugin,\n    PicoNowRangePlugin,\n    PicoNowHumanPlugin,\n];\n\n/**\n * @class PicoNow\n *\n * @typedef {import('../now/NowMatch.js').PicoNowMatchInstance} PicoNowMatchInstance\n * @typedef {import('../now/NowFormat.js').PicoNowFormatInstance} PicoNowFormatInstance\n * @typedef {import('../now/NowMatch.js').PicoNowMatchInstance} PicoNowMatchInstance\n * @typedef {import('../now/NowGrid.js').PicoNowGridInstance} PicoNowGridInstance\n * @typedef {import('../now/NowWalker.js').PicoNowWalkerInstance} PicoNowWalkerInstance\n * @typedef {import('../now/NowRange.js').PicoNowRangeInstance} PicoNowRangeInstance\n * @typedef {import('../now/NowHuman.js').PicoNowHumanInstance} PicoNowHumanInstance\n *\n * @extends PicoNowDefaultInstance\n * @extends PicoNowFormatInstance\n * @extends PicoNowMatchInstance\n * @extends PicoNowGridInstance\n * @extends PicoNowWalkerInstance\n * @extends PicoNowRangeInstance\n * @extends PicoNowHumanInstance\n */\nexport class PicoNow\n{\n    /**\n     * Init hooks for instance\n     *\n     * @type {Array<function>}\n     */\n    static init = [];\n\n    /**\n     * Original input value\n     *\n     * @type {any}\n     */\n    input = null;\n\n    /**\n     * Current Date instance\n     *\n     * @type {Date}\n     */\n    value = null;\n\n    /**\n     * Create Now instance from input\n     *\n     * @example new Now().toUTC() // => string\n     *\n     * @param {any} [value] Date input\n     * @param {string} [format] Input format\n     */\n    constructor(value = null, format = 'YYYY-MM-DD HH:mm:ss')\n    {\n        if ( value === 'now' ) {\n            value = null;\n        }\n\n        let input = value;\n\n        if ( value && value.toDate ) {\n            value = value.toDate();\n        }\n\n        if ( ! (value instanceof Date) ) {\n            value = new Date();\n        }\n\n        this.input = value;\n\n        if ( Mix.isNix(input) ) {\n            this.input = input;\n        }\n\n        this.value = value;\n\n        if ( Mix.isStr(input) ) {\n            this.parse(input, format);\n        }\n\n        Arr.each(Now.init, (fn) => {\n            el = fn.call(this, el, format);\n        });\n\n        return this;\n    }\n\n    /**\n     * Extend Now with a plugin\n     *\n     * @example Now.extend(fn)\n     *\n     * @param {function} plugin Plugin function\n     * @returns {void} No return value\n     */\n    static extend(plugin)\n    {\n        plugin.call({}, this);\n    }\n\n    /**\n     * Create Now instance helper\n     *\n     * @example Now.make(\"now\") // => Now\n     *\n     * @param {any} [value] Date input\n     * @param {string} [format] Input format\n     * @returns {PicoNow} Now instance\n     */\n    static make(value = null, format = 'YYYY-MM-DD HH:mm:ss')\n    {\n        return new Now(value, format);\n    }\n\n    /**\n     * Reset date parts to start\n     *\n     * @example Now.make().reset() // => Now\n     *\n     * @param {any} [config] Reset flags\n     * @returns {PicoNow} Now instance\n     */\n    reset(config = null)\n    {\n        if ( config == null ) {\n            config = { month: true, day: true, time: true };\n        }\n\n        if ( config.month ) {\n            this.value.setMonth(0);\n        }\n\n        if ( config.day ) {\n            this.value.setDate(1);\n        }\n\n        if ( config.time ) {\n            this.value.setHours(0, 0, 0);\n        }\n\n        return this;\n    }\n\n    /**\n     * Clone Now instance\n     *\n     * @example Now.make().clone() // => Now\n     *\n     * @param {boolean} [reset] Reset clone\n     * @returns {PicoNow} New instance\n     */\n    clone(reset = false)\n    {\n        return new Now(new Date(this.value), null, reset);\n    }\n\n    /**\n     * Check if input is valid date\n     *\n     * @example Now.make(\"x\").valid() // => false\n     *\n     * @returns {boolean} True if valid\n     */\n    valid()\n    {\n        return ! isNaN(this.input);\n    }\n\n    /**\n     * Get Date instance\n     *\n     * @example Now.make().toDate() // => Date\n     *\n     * @returns {Date} Date instance\n     */\n    toDate()\n    {\n        return this.value;\n    }\n\n    /**\n     * Get UTC string\n     *\n     * @example Now.make().toUTC() // => string\n     *\n     * @returns {string} UTC string\n     */\n    toUTC()\n    {\n        return this.value.toUTCString();\n    }\n\n}\n\n/**\n * @see PicoNow.reset\n */\nPicoNow.prototype.resetTime = function () {\n    console.warn('Now.resetTime() is deprecated, use Now.reset({ time: true }) instead.');\n    return this.reset({ time: true });\n}\n\n/**\n * @returns {typeof PicoNow}\n */\nexport function PicoNowBuilder() {\n\n    let cls = PicoNow;\n\n    for ( const plugin of PicoNowPlugins ) {\n        cls = plugin.call(cls, cls);\n    }\n\n    return cls;\n}\n\nexport default PicoNowBuilder;","import { Mix, Obj } from \"../index.esm.js\";\nimport { PicoFormat } from \"../utils/Format.js\";\n\nexport const TYPE_PARSERS = [\n    { // null\n        match: (val) => {\n            return /^(null|undefined)$/i.test(val);\n        },\n        parse: (val) => {\n            return Mix.null(val);\n        }\n    },\n    { // boolean\n        match: (val) => {\n            return /^(true|false|yes|no)$/i.test(val);\n        },\n        parse: (val) => {\n            return Mix.bool(val);\n        }\n    },\n    { // integer\n        match: (val) => {\n            return /^-?[0-9]+$/.test(val);\n        },\n        parse: (val) => {\n            return Mix.int(val);\n        }\n    },\n    { // number\n        match: (val) => {\n            return /^-?[0-9]+\\.[0-9]+$/.test(val);\n        },\n        parse: (val) => {\n            return Mix.num(val);\n        }\n    },\n    { // array\n        match: (val) => {\n            return /^[{\\[].*?[}\\]]$/.test(val);\n        },\n        parse: (val) => {\n            return JSON.parse(val);\n        }\n    },\n];\n\nexport const TYPE_CASTERS = [\n    { // array\n        match: (val) => {\n            return Mix.isArr(val);\n        },\n        parse: (val) => {\n            return JSON.stringify(val);\n        }\n    }\n];\n\n/**\n * @memberof PicoFormat\n */\nexport class PicoFormatParserStatic\n{\n\n    /**\n     * Convert key path format\n     *\n     * @example Format.keyed(\"a[b]\") // => \"a.b\"\n     *\n     * @param {any} value Input key\n     * @param {any} [fallback] Fallback value\n     * @returns {string} Keyed string\n     */\n    static keyed(value, fallback = null)\n    {\n        if ( ! Mix.isStr(value) ) {\n            return fallback;\n        }\n\n        if ( value.indexOf('[') === -1 ) {\n            return value;\n        }\n\n        return value.replace(/\\[([^\\]]+)\\]/g, '.$1');\n    }\n\n    /**\n     * Parse value by type\n     *\n     * @example Format.parsed(\"true\") // => true\n     *\n     * @param {any} value Input value\n     * @param {any} [fallback] Fallback value\n     * @param {Array<any>} [parsers] Custom parsers\n     * @returns {any} Parsed value\n     */\n    static parsed(value, fallback = null, parsers = [])\n    {\n        if ( ! Mix.isStr(value) ) {\n            return fallback;\n        }\n\n        value = value.replace(/(^\"|^'|'$|\"$)/g, '');\n\n        for ( let type of parsers ) {\n            if ( type.match(value) ) return type.parse(value);\n        }\n\n        for ( let type of TYPE_PARSERS ) {\n            if ( type.match(value) ) return type.parse(value);\n        }\n\n        return value;\n    }\n\n    /**\n     * Cast value to string\n     *\n     * @example Format.casted(true) // => \"true\"\n     *\n     * @param {any} value Input value\n     * @param {boolean} [encode] Encode value\n     * @param {Array<any>} [casters] Custom casters\n     * @returns {string} Casted string\n     */\n    static casted(value, encode = false, casters = [])\n    {\n        if ( encode ) {\n            value = encodeURI(value);\n        }\n\n        if ( Mix.isStr(value) ) {\n            return value;\n        }\n\n        for ( let type of casters ) {\n            if ( type.match(value) ) return type.parse(value);\n        }\n\n        for ( let type of TYPE_CASTERS ) {\n            if ( type.match(value) ) return type.parse(value);\n        }\n\n        return Mix.str(value);\n    }\n}\n\n/**\n * @param {typeof PicoFormat} self\n * @returns {typeof PicoFormat}\n */\nexport const PicoFormatParserPlugin = function (self) {\n\n    Obj.each(Mix.class(PicoFormatParserStatic), (fn, id) => {\n        self[id] = fn;\n    });\n\n    return self;\n}","import { Arr, Mix, Obj, For } from \"../index.esm.js\";\nimport { PicoFormat } from \"../utils/Format.js\";\n\nexport const PARAM_REGEX = {\n    entry: /(?<=^|&|\\?)(\\s*(?<key>.*?)\\s*=\\s*(?<val>\".*?\"|'.*?'|.*?)\\s*)(?=&|$)/g\n};\n\n/**\n * @memberof PicoFormat\n * @extends {PicoFormat}\n */\nexport class PicoFormatParamStatic\n{\n\n    /**\n     * Cast object to params string\n     *\n     * @example Format.castParams({ a: 1 }) // => \"a=1\"\n     *\n     * @param {any} [params] Input params\n     * @returns {string} Params string\n     */\n    static castParams(params = {})\n    {\n        if ( Mix.isEmpty(params) ) {\n            return '';\n        }\n\n        let result = Arr.each(params, (val, key) => {\n            return this.castParam(key, val);\n        });\n\n        return result.join('&');\n    }\n\n    /**\n     * Cast single param to string\n     *\n     * @example Format.castParam(\"a\", 1) // => \"a=1\"\n     *\n     * @param {string} key Param key\n     * @param {any} value Param value\n     * @param {string} [path] Key path\n     * @returns {string} Param string\n     */\n    static castParam(key, value, path = null)\n    {\n        if ( path != null ) {\n            key = path + '[' + key + ']';\n        }\n\n        if ( !Mix.isRef(value) ) {\n            return Mix.str(key) + '=' + For.casted(value, true);\n        }\n\n        let result = Arr.each(value, (v, k) => {\n            return this.castParam(Mix.isArr(value) ? '' : k, v, key);\n        });\n\n        return result.join('&');\n    }\n\n    /**\n     * Parse params string\n     *\n     * @example Format.parseParams(\"a=1\") // => { a: 1 }\n     *\n     * @param {string} value Params string\n     * @returns {any} Params object\n     */\n    static parseParams(value)\n    {\n        if ( Mix.isEmpty(value) ) {\n            return {};\n        }\n\n        value = decodeURIComponent(value);\n\n        let matches = value.matchAll(...[\n            PARAM_REGEX.entry\n        ]);\n\n        if ( matches == null ) {\n            return {};\n        }\n\n        const [key, val] = [\n            For.keyed, For.parsed\n        ];\n\n        return Arr.reduce(Array.from(matches), (result, { groups }) => {\n            return Obj.set(result, key(groups.key), val(groups.val));\n        }, {});\n    }\n\n}\n\n/**\n * @param {typeof PicoFormat} self\n * @returns {typeof PicoFormat}\n */\nexport const PicoFormatParamPlugin = function (self) {\n\n    Obj.each(Mix.class(PicoFormatParamStatic), (fn, id) => {\n        self[id] = fn;\n    });\n\n    return self;\n}","import { Arr, For, Mix, Obj } from \"../index.esm.js\";\nimport { PicoFormat } from \"../utils/Format.js\";\n\nexport const OPTION_REGEX = {\n    entry: /(^|;)(\\s*(?<key>.*?)\\s*:\\s*(?<val>\".*?\"|'.*?'|.*?)\\s*)(?=;|$)/g\n};\n\n/**\n * @memberof PicoFormat\n */\nexport class PicoFormatOptionStatic\n{\n\n    /**\n     * Cast object to options string\n     *\n     * @example Format.castOptions({ a: 1 }) // => \"a: 1;\"\n     *\n     * @param {any} [options] Input options\n     * @param {boolean} [space] Add space\n     * @returns {string} Options string\n     */\n    static castOptions(options = {}, space = true)\n    {\n        if ( Mix.isEmpty(options) ) {\n            return '';\n        }\n\n        let result = Arr.each(options, (val, key) => {\n            return this.castOption(key, val, null, space);\n        });\n\n        return result.join(space ? '; ' : ';') + ';';\n    }\n\n    /**\n     * Cast single option to string\n     *\n     * @example Format.castOption(\"a\", 1) // => \"a: 1\"\n     *\n     * @param {string} key Option key\n     * @param {any} value Option value\n     * @param {string} [path] Key path\n     * @param {boolean} [space] Add space\n     * @returns {string} Option string\n     */\n    static castOption(key, value, path = null, space = true)\n    {\n        if ( path != null ) {\n            key = path + '.' + key;\n        }\n\n        let div = space ? ': ' : ':';\n\n        if ( !Mix.isObj(value) ) {\n            return Mix.str(key) + div + For.casted(value, false);\n        }\n\n        let result = Arr.map(value, (v, k) => {\n            return this.castOption(k, v, key, space);\n        });\n\n        return result.join(space ? '; ' : ';');\n    }\n\n    /**\n     * Parse options string\n     *\n     * @example Format.parseOptions(\"a: 1;\") // => { a: 1 }\n     *\n     * @param {string} value Options string\n     * @returns {any} Options object\n     */\n    static parseOptions(value)\n    {\n        if ( Mix.isEmpty(value) ) {\n            return {};\n        }\n\n        let matches = value.matchAll(...[\n            OPTION_REGEX.entry\n        ]);\n\n        if ( matches == null ) {\n            return {};\n        }\n\n        const [key, val] = [\n            For.keyed, For.parsed\n        ];\n\n        return Arr.reduce(Array.from(matches), (result, { groups }) => {\n            return Obj.set(result, key(groups.key), val(groups.val));\n        }, {});\n    }\n\n}\n\n/**\n * @param {typeof PicoFormat} self\n * @returns {typeof PicoFormat}\n */\nexport const PicoFormatOptionPlugin = function (self) {\n\n    Obj.each(Mix.class(PicoFormatOptionStatic), (fn, id) => {\n        self[id] = fn;\n    });\n\n    return self;\n}","import { Arr, Mix, Obj } from \"../index.esm.js\";\nimport { PicoFormat } from \"../utils/Format.js\";\n\nexport const SLUG_CONVERT = [\n    ['', 'a'],\n    ['', 'a'],\n    ['', 'a'],\n    ['', 'e'],\n    ['', 'e'],\n    ['', 'e'],\n    ['', 'i'],\n    ['', 'i'],\n    ['', 'i'],\n    ['', 'i'],\n    ['', 'o'],\n    ['', 'o'],\n    ['', 'o'],\n    ['', 'u'],\n    ['', 'u'],\n    ['', 'u'],\n    ['', 'n'],\n    ['', 'c'],\n    ['.', '-'],\n    ['', '-'],\n    ['/', '-'],\n    ['_', '-'],\n    [',', '-'],\n    [':', '-'],\n    [';', '-'],\n    ['', 'ae'],\n    ['', 'oe'],\n    ['', 'ue'],\n    ['', 'ss'],\n];\n\n/**\n * @memberof PicoFormat\n * @extends {PicoFormat}\n */\nexport class PicoFormatUrlStatic\n{\n\n    /**\n     * Create slug from string\n     *\n     * @example Format.slugify(\"Hello World\") // => \"hello-world\"\n     *\n     * @param {any} value Input string\n     * @returns {string} Slug string\n     */\n    static slugify(value)\n    {\n        value = String(value).replace(/(^\\s+|\\s+$)/g, '')\n            .toLowerCase();\n\n        Arr.each(SLUG_CONVERT, (v) => {\n            value = value.replaceAll(v[0], v[1]);\n        });\n\n        return value.replace(/[^a-z0-9-\\s]+/g, '')\n            .replace(/\\s+/g, '-').replace(/-+/g, '-');\n    }\n\n}\n\n/**\n * @param {typeof PicoFormat} self\n * @returns {typeof PicoFormat}\n */\nexport const PicoFormatUrlPlugin = function (self) {\n\n    Obj.each(Mix.class(PicoFormatUrlStatic), (fn, id) => {\n        self[id] = fn;\n    });\n\n    return self;\n}","import { Mix, Obj, Num } from \"../index.esm.js\";\nimport { PicoFormat } from \"../utils/Format.js\";\n\nexport const FILE_UNITS = [\n    'B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'\n];\n\n/**\n * @memberof PicoFormat\n * @extends {PicoFormat}\n */\nexport class PicoFormatFileStatic\n{\n\n    /**\n     * Format file size\n     *\n     * @example Format.filesize(1000) // => \"1.0 KB\"\n     *\n     * @param {any} value Bytes value\n     * @param {number} [decimals] Decimal points\n     * @returns {string} Formatted size\n     */\n    static filesize(value, decimals = 1)\n    {\n        if ( ! Mix.isNum(value) ) {\n            value = Mix.num(value, 0);\n        }\n\n        let fn = (i) => {\n            return Num.fixed(value / Math.pow(1000, i), decimals);\n        }\n\n        for ( let i = 0; i < FILE_UNITS.length; i++ ) {\n            if ( value <= Math.pow(1000, i+1) ) {\n                return fn(i) + ' ' + FILE_UNITS[i]\n            }\n        }\n\n        return fn(FILE_UNITS.length);\n    }\n\n}\n\n/**\n * @param {typeof PicoFormat} self\n * @returns {typeof PicoFormat}\n */\nexport const PicoFormatFilePlugin = function (self) {\n\n    Obj.each(Mix.class(PicoFormatFileStatic), (fn, id) => {\n        self[id] = fn;\n    });\n\n    return self;\n}","import { PicoFormatParserPlugin } from \"../format/FormatParser.js\";\nimport { PicoFormatParamPlugin } from \"../format/FormatParam.js\";\nimport { PicoFormatOptionPlugin } from \"../format/FormatOption.js\";\nimport { PicoFormatUrlPlugin } from \"../format/FormatUrl.js\";\nimport { PicoFormatFilePlugin } from \"../format/FormatFile.js\";\n\nexport const PicoFormatPlugins = [\n    PicoFormatParserPlugin,\n    PicoFormatParamPlugin,\n    PicoFormatOptionPlugin,\n    PicoFormatUrlPlugin,\n    PicoFormatFilePlugin,\n];\n\n/**\n * @class PicoFormat\n *\n * @typedef {import('../format/FormatParser.js').PicoFormatParserStatic} PicoFormatParserStatic\n * @typedef {import('../format/FormatParam.js').PicoFormatParamStatic} PicoFormatParamStatic\n * @typedef {import('../format/FormatOption.js').PicoFormatOptionStatic} PicoFormatOptionStatic\n * @typedef {import('../format/FormatUrl.js').PicoFormatUrlStatic} PicoFormatUrlStatic\n * @typedef {import('../format/FormatFile.js').PicoFormatFileStatic} PicoFormatFileStatic\n *\n * @mixes PicoFormatParserStatic\n * @mixes PicoFormatParamStatic\n * @mixes PicoFormatOptionStatic\n * @mixes PicoFormatUrlStatic\n * @mixes PicoFormatFileStatic\n */\nexport class PicoFormat\n{\n\n    /**\n     * Extend format with a plugin\n     *\n     * @example For.extend(fn)\n     *\n     * @param {function} plugin Plugin function\n     * @returns {void} No return value\n     */\n    static extend(plugin)\n    {\n        plugin.call({}, this);\n    }\n\n}\n\n/**\n * @returns {typeof PicoFormat}\n */\nexport function PicoFormatBuilder() {\n\n    let cls = PicoFormat;\n\n    for ( const plugin of PicoFormatPlugins ) {\n        cls = plugin.call(cls, cls);\n    }\n\n    return cls;\n}\n\nexport default PicoFormatBuilder;","/**\n * Get global runtime scope\n *\n * @example go().Math // => Math\n *\n * @returns {any} Global scope obj\n */\nexport function go() {\n\n    if ( typeof globalThis !== 'undefined' ) {\n        return globalThis;\n    }\n\n    if ( typeof window !== 'undefined' ) {\n        return window;\n    }\n\n    if ( typeof global !== 'undefined' ) {\n        return global;\n    }\n\n    return {};\n}\n\n/**\n * Detect browser from userAgent\n *\n * @example browser() // sets global flags\n *\n * @returns {void} No return value\n */\nexport function browser() {\n\n    const scope = go();\n\n    if ( ! scope.navigator ) {\n        return;\n    }\n\n    let [agent, result] = [\n        scope.navigator.userAgent, {}\n    ]\n\n    if ( result.safari == null ) {\n        result.safari = /Safari\\//.test(agent);\n    }\n\n    if ( result.firefox == null ) {\n        result.firefox = /Firefox\\//.test(agent);\n    }\n\n    if ( result.edge == null ) {\n        result.edge = /Edge\\//.test(agent);\n    }\n\n    if ( result.chrome == null ) {\n        result.chrome = /Chrome\\//.test(agent);\n    }\n\n    scope.piuag = result;\n}\n\n/**\n * Detect device OS from userAgent\n *\n * @example device() // sets global flags\n *\n * @returns {void} No return value\n */\nexport function device() {\n\n    const scope = go();\n\n    if ( ! scope.navigator ) {\n        return;\n    }\n\n    let [agent, result] = [\n        scope.navigator.userAgent, {}\n    ]\n\n    if ( result.win == null ) {\n        result.win = /Windows/.test(agent);\n    }\n\n    if ( result.osx == null ) {\n        result.osx = /Macintosh|Mac OS X/.test(agent);\n    }\n\n    if ( result.gnu == null ) {\n        result.gnu = /Linux/.test(agent);\n    }\n\n    if ( result.ios == null ) {\n        result.ios = /iPhone|iPad|iPod/.test(agent);\n    }\n\n    if ( result.oid == null ) {\n        result.oid = /Android/.test(agent);\n    }\n\n    scope.piudv = result;\n}","import { Arr, Num, Event, Mix, Obj } from \"../index.esm.js\";\n\nexport class PicoData\n{\n    /**\n     * In-memory data store\n     *\n     * @type {Record<string, any>}\n     */\n    static $data = {};\n\n    /**\n     * Check if store key exists\n     *\n     * @example Data.has([\"x\"]) // => true|false\n     *\n     * @param {any} input Store key input\n     * @returns {boolean} True if exists\n     */\n    static has(input)\n    {\n        return Obj.has(this.$data, ...[\n            Arr.first(input)\n        ]);\n    }\n\n    /**\n     * Set store key and fire event\n     *\n     * @example Data.set([\"x\"], 1)\n     * @example Data.set([\"x\"], {a:1})\n     *\n     * @param {any} input Store key input\n     * @param {any} value Value to set\n     * @returns {void} No return value\n     */\n    static set(input, value)\n    {\n        let [stored, key] = [\n            null, Arr.first(input)\n        ];\n\n        if ( Obj.has(this.$data, key) ) {\n            stored = Obj.get(this.$data, key);\n        }\n\n        if ( Mix.isEqual(stored, value) ) {\n            return;\n        }\n\n        Obj.set(...[\n            this.$data, key, value\n        ]);\n\n        Event.fire('store:' + key, value, key);\n    }\n\n    /**\n     * Remove store key\n     *\n     * @example Data.unset([\"x\"])\n     *\n     * @param {any} input Store key input\n     * @returns {void} No return value\n     */\n    static unset(input)\n    {\n        Obj.unset(this.$data, [\n            ...Arr.first(input)\n        ]);\n    }\n\n    /**\n     * Get stored value (cloned)\n     *\n     * @example Data.get([\"x\"], null) // => value\n     * @example Data.get([\"x\"], 1, true) // set+get\n     *\n     * @param {any} input Store key input\n     * @param {any} [fallback] Fallback value\n     * @param {boolean} [forceSet] Set if missing\n     * @returns {any} Stored value\n     */\n    static get(input, fallback = null, forceSet = false)\n    {\n        let key = Arr.first(input);\n\n        if ( !Obj.has(this.$data, key) && !forceSet ) {\n            return fallback;\n        }\n\n        if ( Obj.has(this.$data, key) && forceSet ) {\n            Obj.set(this.$data, key, fallback);\n        }\n\n        let value = Obj.get(this.$data, key, fallback);\n\n        if ( !Mix.isObj(value) ) {\n            return value;\n        }\n\n        return Obj.clone(value);\n    }\n\n    /**\n     * Find item by id in array store\n     *\n     * @example Data.find([\"list\"], {id:1})\n     *\n     * @param {any} input Store key input\n     * @param {any} value Search value\n     * @param {any} [fallback] Fallback value\n     * @returns {any} Found item\n     */\n    static find(input, value, fallback = null)\n    {\n        let key = Arr.first(input);\n\n        if ( Obj.has(this.$data, key) === false ) {\n            return fallback;\n        }\n\n        if ( Obj.has(value, 'id') === false ) {\n            return fallback;\n        }\n\n        let index = Arr.findIndex(this.get(key), {\n            id: value.id\n        });\n\n        if ( index === - 1 ) {\n            return fallback;\n        }\n\n        return this.get(key + '.' + index);\n    }\n\n    /**\n     * Replace item by id in array store\n     *\n     * @example Data.replace([\"list\"], {id:1})\n     *\n     * @param {any} input Store key input\n     * @param {any} value Item to replace\n     * @returns {void} No return value\n     */\n    static replace(input, value)\n    {\n        let key = Arr.first(input);\n\n        if ( Obj.has(this.$data, key) === false ) {\n            return;\n        }\n\n        if ( Obj.has(value, 'id') === false ) {\n            return;\n        }\n\n        let index = Arr.findIndex(this.get(key), {\n            id: Num.int(value.id)\n        });\n\n        if ( index === - 1 ) {\n            return;\n        }\n\n        this.set(key + '.' + index, value);\n    }\n\n    /**\n     * Add items to array store\n     *\n     * @example Data.add([\"list\"], 1, 2)\n     *\n     * @param {any} input Store key input\n     * @param {...any} args Items to add\n     * @returns {void} No return value\n     */\n    static add(input, ...args)\n    {\n        this.set(input, Arr.concat(this.get(input, []), args));\n    }\n\n    /**\n     * Remove items from array store\n     *\n     * @example Data.remove([\"list\"], 1)\n     *\n     * @param {any} input Store key input\n     * @param {...any} args Items to remove\n     * @returns {void} No return value\n     */\n    static remove(input, ...args)\n    {\n        this.set(input, Arr.diff(this.get(input, []), args));\n    }\n\n}\n\nexport default PicoData;","import { Arr, For, Locale, Mix, Obj } from \"../index.esm.js\";\n\nexport class PicoRoute\n{\n\n    static $routes = {};\n\n    /**\n     * Store route template by key\n     *\n     * @example Route.set(\"home\", \"/\") // stores\n     *\n     * @param {string} key Route key\n     * @param {string} value Route template\n     * @returns {void} No return value\n     */\n    static set(key, value)\n    {\n        this.$routes[key] = value;\n    }\n\n    /**\n     * Build route URL from template\n     *\n     * @example Route.get(\"home\") // => \"/\"\n     * @example Route.get(\"/u/:id\", {id:1}) // => \"/u/1\"\n     *\n     * @param {string} key Route key or url\n     * @param {any} [values] Token values\n     * @param {any} [query] Query params\n     * @returns {string} Built url\n     */\n    static get(key, values = null, query = null)\n    {\n        let route = key;\n\n        if ( ! /^https?:\\/\\//.test(route) ) {\n            route = this.$routes[key] || key\n        }\n\n        Obj.each(values, (val, key) => {\n            route = route.replace(new RegExp('{' + key + '}', 'g'), val);\n        });\n\n        if ( ! Mix.isEmpty(query) ) {\n            route += '?' + For.castParams(query);\n        }\n\n        return route;\n    }\n\n    /**\n     * Navigate to built route URL\n     *\n     * @example Route.goto(\"home\")\n     *\n     * @param {string} key Route key or url\n     * @param {any} [values] Token values\n     * @param {any} [params] Query params\n     * @returns {void} No return value\n     */\n    static goto(key, values = null, params = null)\n    {\n        window.location.href = this.get(key, values, params);\n    }\n\n}\n\nexport default PicoRoute;","import { go, Obj, Arr, Mix, Dom, Event, Hash } from \"#src/index.esm.js\";\n\n/**\n * @const {object} google\n */\n\nexport class PicoMap\n{\n    map = null;\n\n    static mapStyle = [];\n\n    markers = {};\n\n    static markerStyles = {};\n\n    cluster = null;\n\n    clusterFilter = null;\n\n    clusterOptions = {};\n\n    static hideMarkers = true;\n\n    static closeInfoWindows = true;\n\n    /**\n     * Create map instance\n     *\n     * @example new Map(\"#map\", { lat: 0, lng: 0 })\n     *\n     * @param {any} el Target element\n     * @param {any} [options] Map options\n     */\n    constructor(el, options = {})\n    {\n        if ( ! globalThis.google ) {\n            throw new Error('Google Maps is required for pi.Map');\n        }\n\n        let center = Obj.only(options, ['lat', 'lng']);\n\n        if ( ! Obj.has(options, 'styles') ) {\n            options.styles = Map.mapStyle;\n        }\n\n        options = Obj.assign({ gestureHandling: 'cooperative', scrollwheel: null, zoom: 12, center },\n            Obj.except(options, ['lat', 'lng']));\n\n        this.map = new globalThis.google.maps.Map(Dom.find(el).get(0), options)\n    }\n\n    /**\n     * Set global map style\n     *\n     * @example Map.setMapStyle(style)\n     *\n     * @param {Array<any>} [style] Style array\n     * @returns {PicoMap} Current class\n     */\n    static setMapStyle(style = [])\n    {\n        Map.mapStyle = style;\n\n        return this;\n    }\n\n    /**\n     * Set marker style\n     *\n     * @example Map.setMarkerStyle(\"default\", { default: \"icon.png\" })\n     *\n     * @param {string} key Style key\n     * @param {any} [style] Style options\n     * @param {any} [extra] Extra options\n     * @returns {PicoMap} Current class\n     */\n    static setMarkerStyle(key, style = {}, extra = {})\n    {\n        if ( ! globalThis.google ) {\n            throw new Error('Google Maps is required for pi.Map');\n        }\n\n        if ( ! Obj.has(style, 'default') ) {\n            return console.error('Marker style requires default property')\n        }\n\n        if ( ! Obj.has(style, 'width') ) {\n            style.width = 45;\n        }\n\n        if ( ! Obj.has(style, 'height') ) {\n            style.height = 45;\n        }\n\n        let final = {};\n\n        // Marker size\n        let size = new globalThis.google.maps.Size(style.width, style.height);\n\n        // Point position\n        let origin = new globalThis.google.maps.Point(0, 0);\n\n        // Point position\n        let anchor = new globalThis.google.maps.Point(style.width / 2, style.height);\n\n        final.default = {\n            url: style.default, size: size, origin: origin, anchor: anchor, scaledSize: size\n        };\n\n        if ( Obj.has(style, 'hover') ) {\n            final.hover = Obj.assign({}, final.default, { url: style.hover });\n        }\n\n        if ( ! Obj.has(final, 'hover') ) {\n            final.hover = final.default;\n        }\n\n        if ( Obj.has(style, 'active') ) {\n            final.active = Obj.assign({}, final.default, { url: style.active });\n        }\n\n        if ( ! Obj.has(final, 'active') ) {\n            final.active = final.default;\n        }\n\n        Obj.each(extra, (value, prop) => {\n            final[prop] = Obj.assign({}, final.default, { url: value });\n        });\n\n        Obj.set(Map.markerStyles, key, final);\n\n        return this;\n    }\n\n    /**\n     * Cluster map markers\n     *\n     * @example map.clusterMarkers()\n     *\n     * @param {any} [options] Cluster options\n     * @param {any} [filter] Marker filter\n     * @param {boolean} [allowCreate] Create cluster\n     * @returns {void} No return value\n     */\n    clusterMarkers(options = {}, filter = null, allowCreate = true)\n    {\n        if ( ! this.cluster && ! allowCreate ) {\n            return;\n        }\n\n        if ( typeof globalThis.MarkerClusterer === \"undefined\" ) {\n            return console.error('Google Maps Cluster library not laoded!');\n        }\n\n        if ( ! Obj.has(options, 'imagePath') && ! Obj.has(options, 'styles') ) {\n            options.imagePath = '//developers.google.com/maps/documentation/javascript/examples/markerclusterer/m';\n        }\n\n        if ( this.cluster ) {\n            this.cluster.clearMarkers();\n        }\n\n        if ( Mix.isFunction(filter) ) {\n            this.clusterFilter = filter;\n        }\n\n        let markers = Arr.filter(this.markers, (item) => {\n\n            let visible = this.getMarkerVisibility(item.key);\n\n            if ( ! Mix.isFunction(this.clusterFilter) ) {\n                return visible;\n            }\n\n            return visible && this.clusterFilter.call(this, item);\n        });\n\n        this.cluster = new globalThis.MarkerClusterer(this.map, Arr.each(markers, (item) => item.marker),\n            this.clusterOptions = options);\n    }\n\n    /**\n     * Apply style to marker\n     *\n     * @example map.styleMarker(\"m1\", \"hover\")\n     *\n     * @param {string} key Marker key\n     * @param {any} [type] Style type\n     * @returns {void} No return value\n     */\n    styleMarker(key, type = null)\n    {\n        let item = Obj.get(this.markers, key);\n\n        if ( Mix.isEmpty(item) ) {\n            return console.error(`Marker \"${key}\" not found`);\n        }\n\n        if ( Mix.isEmpty(type) ) {\n            type = this.getInfoVisibility(key) ? 'active' : 'default';\n        }\n\n        if ( ! Obj.has(Map.markerStyles, [item.style, type]) ) {\n            return;\n        }\n\n        item.marker.setIcon(Obj.get(Map.markerStyles, [item.style, type]));\n    }\n\n    /**\n     * Get marker by key\n     *\n     * @example map.getMarker(\"m1\")\n     *\n     * @param {string} key Marker key\n     * @returns {any} Marker object\n     */\n    getMarker(key)\n    {\n        return Obj.get(this.markers, key);\n    }\n\n    /**\n     * Check if marker is visible\n     *\n     * @example map.getMarkerVisibility(\"m1\") // => true\n     *\n     * @param {string} key Marker key\n     * @param {boolean} [fallback] Fallback value\n     * @returns {boolean} Visibility state\n     */\n    getMarkerVisibility(key, fallback = false)\n    {\n        let item = Obj.get(this.markers, key);\n\n        if ( Mix.isEmpty(item) ) {\n            return fallback;\n        }\n\n        return item.marker.getVisible();\n    }\n\n    /**\n     * Get marker position\n     *\n     * @example map.getMarkerPositon(\"m1\") // => LatLng\n     *\n     * @param {string} key Marker key\n     * @param {any} [fallback] Fallback value\n     * @returns {any} Position object\n     */\n    getMarkerPositon(key, fallback = null)\n    {\n        let item = Obj.get(this.markers, key);\n\n        if ( Mix.isEmpty(item) ) {\n            return fallback;\n        }\n\n        return item.marker.getPosition();\n    }\n\n    /**\n     * Toggle marker visibility\n     *\n     * @example map.toggleMarker(\"m1\")\n     *\n     * @param {string} key Marker key\n     * @returns {boolean|void} Visibility state\n     */\n    toggleMarker(key)\n    {\n        let item = Obj.get(this.markers, key);\n\n        if ( Mix.isEmpty(item) ) {\n            return console.error(`Marker \"${key}\" not found`);\n        }\n\n        if ( item.marker.getVisible() ) {\n            return this.hideMarker(key);\n        }\n\n        return this.showMarker(key);\n    }\n\n    /**\n     * Show marker on map\n     *\n     * @example map.showMarker(\"m1\")\n     *\n     * @param {string} key Marker key\n     * @returns {boolean|void} Previous state\n     */\n    showMarker(key)\n    {\n        let item = Obj.get(this.markers, key);\n\n        if ( Mix.isEmpty(item) ) {\n            return console.error(`Marker \"${key}\" not found`);\n        }\n\n        let hidden = ! item.marker.getVisible();\n\n        if ( hidden ) {\n            item.marker.setVisible(true);\n        }\n\n        return hidden;\n    }\n\n    /**\n     * Hide marker on map\n     *\n     * @example map.hideMarker(\"m1\")\n     *\n     * @param {string} key Marker key\n     * @returns {boolean|void} Previous state\n     */\n    hideMarker(key)\n    {\n        let item = Obj.get(this.markers, key);\n\n        if ( Mix.isEmpty(item) ) {\n            return console.error(`Marker \"${key}\" not found`);\n        }\n\n        let visible = !! item.marker.getVisible();\n\n        if ( visible ) {\n            item.marker.setVisible(false);\n        }\n\n        this.closeInfo(key);\n\n        return visible;\n    }\n\n    /**\n     * Marker hover enter\n     *\n     * @example map.enterMarker(\"m1\")\n     *\n     * @param {string} key Marker key\n     * @returns {this|void} Current instance\n     */\n    enterMarker(key)\n    {\n        let item = Obj.get(this.markers, key);\n\n        if ( Mix.isEmpty(item) ) {\n            return console.error(`Marker \"${key}\" not found`);\n        }\n\n        let type = 'hover';\n\n        if ( this.getInfoVisibility(key) ) {\n            type = 'active';\n        }\n\n        this.styleMarker(key, type);\n\n        return this;\n    }\n\n    /**\n     * Marker hover leave\n     *\n     * @example map.leaveMarker(\"m1\")\n     *\n     * @param {string} key Marker key\n     * @returns {this|void} Current instance\n     */\n    leaveMarker(key)\n    {\n        let item = Obj.get(this.markers, key);\n\n        if ( Mix.isEmpty(item) ) {\n            return console.error(`Marker \"${key}\" not found`);\n        }\n\n        let type = 'default';\n\n        if ( this.getInfoVisibility(key) ) {\n            type = 'active';\n        }\n\n        this.styleMarker(key, type);\n\n        return this;\n    }\n\n    /**\n     * Check if info is open\n     *\n     * @example map.getInfoVisibility(\"m1\") // => true\n     *\n     * @param {string} key Marker key\n     * @param {boolean} [fallback] Fallback value\n     * @returns {boolean} Visibility state\n     */\n    getInfoVisibility(key, fallback = false)\n    {\n        let item = Obj.get(this.markers, key);\n\n        if ( Mix.isEmpty(item) || ! Obj.has(item, 'info') ) {\n            return fallback;\n        }\n\n        return !! item.info.getMap();\n    }\n\n    /**\n     * Toggle info window\n     *\n     * @example map.toggleInfo(\"m1\")\n     *\n     * @param {string} key Marker key\n     * @returns {boolean|void} Visibility state\n     */\n    toggleInfo(key)\n    {\n        let item = Obj.get(this.markers, key);\n\n        if ( Mix.isEmpty(item) ) {\n            return console.error(`Marker \"${key}\" not found`);\n        }\n\n        if ( item.info.getMap() ) {\n            return this.closeInfo(key);\n        }\n\n        return this.openInfo(key);\n    }\n\n    /**\n     * Open info window\n     *\n     * @example map.openInfo(\"m1\")\n     *\n     * @param {string} key Marker key\n     * @returns {boolean|void} Previous state\n     */\n    openInfo(key)\n    {\n        let item = Obj.get(this.markers, key);\n\n        if ( Mix.isEmpty(item) ) {\n            return console.error(`InfoWindow \"${key}\" not found`);\n        }\n\n        if ( ! Obj.has(item, 'info') ) {\n            return true;\n        }\n\n        let hidden = ! item.info.getMap();\n\n        if ( Map.closeInfoWindows ) {\n            Obj.each(Mix.keys(this.markers), this.closeInfo.bind(this));\n        }\n\n        if ( hidden ) {\n            item.info.open(this.map, item.marker);\n        }\n\n        if ( Mix.isFunction(item.onOpen) ) {\n            item.onOpen(item);\n        }\n\n        this.styleMarker(key, 'active');\n\n        return hidden;\n    }\n\n    /**\n     * Close info window\n     *\n     * @example map.closeInfo(\"m1\")\n     *\n     * @param {string} key Marker key\n     * @returns {boolean|void} Previous state\n     */\n    closeInfo(key)\n    {\n        let item = Obj.get(this.markers, key);\n\n        if ( Mix.isEmpty(item) ) {\n            return console.error(`InfoWindow \"${key}\" not found`);\n        }\n\n        if ( ! Obj.has(item, 'info') ) {\n            return false;\n        }\n\n        let visible = !! item.info.getMap();\n\n        if ( visible ) {\n            item.info.close();\n        }\n\n        if ( Mix.isFunction(item.onClose) ) {\n            item.onClose(item);\n        }\n\n        this.styleMarker(key, 'default');\n\n        return visible;\n    }\n\n    /**\n     * Create map marker\n     *\n     * @example map.createMarker(\"m1\", { lat: 0, lng: 0 })\n     *\n     * @param {any} [key] Marker key\n     * @param {any} [options] Marker options\n     * @returns {any} Marker object\n     */\n    createMarker(key = null, options = {})\n    {\n        if ( Mix.isEmpty(key) ) {\n            key = Hash.uuid();\n        }\n\n        let item = { key };\n\n        if ( ! Obj.has(options, 'visible') ) {\n            options.visible = true;\n        }\n\n        item.extras = Obj.except(options, [\n            'map', 'position', 'lat', 'lng', 'html', 'style', 'visible', 'onOpen', 'onClose'\n        ]);\n\n        if ( ! Obj.has(options, 'map') ) {\n            options.map = this.map;\n        }\n\n        if ( ! Obj.has(options, 'position') ) {\n            options.position = Obj.only(options, ['lat', 'lng']);\n        }\n\n        if ( Obj.has(options, 'style') ) {\n            item.style = options.style;\n        }\n\n        item.marker = new globalThis.google.maps.Marker(options);\n\n        if ( !options.visible ) {\n            item.marker.setVisible(false);\n        }\n\n        Obj.assign(item, {\n            onOpen: Obj.get(options, 'onOpen'), onClose: Obj.get(options, 'onClose'),\n        })\n\n        Obj.set(this.markers, key, item);\n\n        this.clusterMarkers(this.clusterOptions, null, false);\n\n        if ( ! Obj.has(options, 'html') ) {\n            return Obj.get(this.markers, key);\n        }\n\n        if ( ! Obj.has(item, 'style') ) {\n            item.style = 'default';\n        }\n\n        // Style marker\n        this.styleMarker(key);\n\n        // Add marker hover style\n        item.marker.addListener('mouseover', () => this.enterMarker(key));\n\n        // Add marker default style\n        item.marker.addListener('mouseout', () => this.leaveMarker(key));\n\n        item.info = new globalThis.google.maps.InfoWindow({\n            content: '<div class=\"gw-i-html\">' + Obj.get(options, 'html') + '</div>'\n        });\n\n        item.marker.addListener('click', () => this.toggleInfo(key));\n        item.info.addListener('closeclick', () => this.closeInfo(key));\n\n        // Dom change event\n        item.info.addListener('domready', () => Event.fire('MapsDomReady'));\n\n        Obj.set(this.markers, key, item);\n\n        return Obj.get(this.markers, key);\n    }\n\n    /**\n     * Set marker position\n     *\n     * @example map.setMarkerPosition(\"m1\", { lat: 0, lng: 0 })\n     *\n     * @param {string} key Marker key\n     * @param {any} [options] Position options\n     * @returns {void} No return value\n     */\n    setMarkerPosition(key, options = {})\n    {\n        let item = Obj.get(this.markers, key);\n\n        if ( Mix.isEmpty(item) ) {\n            return console.error(`Marker \"${key}\" not found`);\n        }\n\n        item.marker.setPosition(options);\n    }\n\n    /**\n     * Set marker by address\n     *\n     * @example map.setMarkerByAddress(\"m1\", \"Address\")\n     *\n     * @param {string} key Marker key\n     * @param {any} address Search address\n     * @returns {Promise<any>} Response promise\n     */\n    setMarkerByAddress(key, address)\n    {\n        return this.getLocationByAddress(address, (res) => {\n            this.setMarkerPosition(key, Obj.get(res, '0.geometry.location', {}));\n        });\n    }\n\n    /**\n     * Get location by address\n     *\n     * @example map.getLocationByAddress(\"Address\")\n     *\n     * @param {any} address Search address\n     * @param {function} [callback] Success callback\n     * @returns {Promise<any>} Response promise\n     */\n    getLocationByAddress(address, callback = null)\n    {\n        let geocoderService = new globalThis.google.maps.Geocoder();\n\n        let geocoderPromise = (resolve, reject) => {\n\n            let geocoderResult = (response, status) => {\n\n                if ( status === 'OK' ) {\n                    callback(response);\n                    resolve(response);\n                }\n\n                if ( status !== 'OK' ) {\n                    reject(response);\n                }\n\n            };\n\n            geocoderService.geocode({ address }, geocoderResult);\n        };\n\n        return new Promise(geocoderPromise);\n    }\n\n    /**\n     * Show markers on map\n     *\n     * @example map.showMarkers()\n     *\n     * @param {any} [filter] Marker filter\n     * @returns {PicoMap} Current instance\n     */\n    showMarkers(filter = null)\n    {\n        let markers = this.markers;\n\n        if ( ! Mix.isEmpty(filter) ) {\n            markers = Obj.filter(this.markers, filter);\n        }\n\n        if ( Map.hideMarkers ) {\n            Obj.each(Mix.keys(this.markers), this.hideMarker.bind(this));\n        }\n\n        Obj.each(markers, (item) => this.showMarker(item.key));\n\n        this.clusterMarkers(this.clusterOptions, null, false);\n\n        return this;\n    }\n\n    /**\n     * Get marker boundary\n     *\n     * @example map.getMarkerBoundry() // => LatLngBounds\n     *\n     * @param {any} [filter] Marker filter\n     * @returns {any} Boundary object\n     */\n    getMarkerBoundry(filter = null)\n    {\n        let markers = this.markers;\n\n        if ( ! Mix.isEmpty(filter) ) {\n            markers = Obj.filter(this.markers, filter);\n        }\n\n        let boundry = new globalThis.google.maps.LatLngBounds();\n\n        Obj.each(markers, (item) => {\n            if ( item.marker.getVisible() ) {\n                boundry.extend(item.marker.getPosition());\n            }\n        });\n\n        return boundry;\n    }\n\n    /**\n     * Focus markers on map\n     *\n     * @example map.focusMarkers()\n     *\n     * @param {any} [filter] Marker filter\n     * @param {number} [maxZoom] Max zoom level\n     * @param {number} [boundSpace] Viewport space\n     * @returns {PicoMap} Current instance\n     */\n    focusMarkers(filter = null, maxZoom = 14, boundSpace = 15)\n    {\n        let boundry = this.getMarkerBoundry(filter);\n\n        // Center map to boundry\n        this.map.setCenter(boundry.getCenter());\n\n        // Adapt viewport to boundry\n        this.map.fitBounds(boundry, boundSpace);\n\n        if ( this.map.getZoom() > maxZoom ) {\n            this.map.setZoom(maxZoom);\n        }\n\n        return this;\n    }\n\n    /**\n     * Render directions on map\n     *\n     * @example map.renderDirections({ origin: \"A\", destination: \"B\" })\n     *\n     * @param {any} options Render options\n     * @returns {Promise<any>} Response promise\n     */\n    renderDirections(options)\n    {\n        // Get directions service\n        let directionsService = new globalThis.google.maps.DirectionsService();\n\n        // Get directions renderer\n        let directionsRenderer = new globalThis.google.maps.DirectionsRenderer();\n\n        if ( ! Obj.has(options, 'map') ) {\n            options.map = this.map;\n        }\n\n        if ( ! Obj.has(options, 'travelMode') ) {\n            options.travelMode = 'DRIVING';\n        }\n\n        // Set directions map\n        directionsRenderer.setMap(options.map);\n\n        if ( Obj.has(options, 'panel') && ! Dom.find(options.panel).empty() ) {\n            directionsRenderer.setPanel(Dom.find(options.panel).get(0));\n        }\n\n        options = Obj.only(options, ['origin', 'destination', 'travelMode']);\n\n        let directionsPromise = (resolve, reject) => {\n\n            let directionsResult = (response, status) => {\n\n                if ( status === 'OK' ) {\n                    directionsRenderer.setDirections(response);\n                    resolve(response);\n                }\n\n                if ( status !== 'OK' ) {\n                    reject(response);\n                }\n\n            };\n\n            directionsService.route(options, directionsResult);\n        };\n\n        return new Promise(directionsPromise);\n    }\n\n}\n\nexport default PicoMap;\n","import { Str, Obj, Dom, Mix, Arr } from \"#src/index.esm.js\";\n\nexport class PicoElement\n{\n    /**\n     * Prefix for attribute selector.\n     */\n    static prefix = 'js';\n\n    /**\n     * Mounted identifier.\n     */\n    static mount = 'mount';\n\n    /**\n     * Instance storage.\n     */\n    static inis = {};\n\n    /**\n     * Runtime storage.\n     */\n    static runs = [];\n\n    /**\n     * Instance storage.\n     */\n    static invi = [];\n\n    /**\n     * Listen to scroll events\n     *\n     * @example PicoElement.listen()\n     *\n     * @returns {void} No return value\n     */\n    static listen()\n    {\n        // Apply dom scroll event\n        document.addEventListener(\"scroll\", PicoElement.scroll);\n\n        // Apply initial scroll event\n        PicoElement.scroll();\n    }\n\n    /**\n     * Handle scroll visibility\n     *\n     * @example PicoElement.scroll()\n     *\n     * @returns {void} No return value\n     */\n    static scroll()\n    {\n        Arr.each(this.invi, (item, index) => {\n\n            if ( ! Dom.find(item.el).inviewY() ) {\n                return;\n            }\n\n            Arr.removeIndex(this.invi, index);\n\n            item.cb();\n        });\n    }\n\n    /**\n     * Register element alias\n     *\n     * @example PicoElement.alias(\"tab\", Tab)\n     *\n     * @param {string} key Alias key\n     * @param {any} instance Class instance\n     * @returns {PicoElement} Current class\n     */\n    static alias(key, instance)\n    {\n        Obj.set(this.inis, key, instance);\n\n        return this;\n    }\n\n    /**\n     * Bind element to selector\n     *\n     * @example PicoElement.bind(\"tab\", \".tabs\")\n     *\n     * @param {string} key Alias key\n     * @param {any} selector Dom selector\n     * @param {any} [options] Init options\n     * @returns {PicoElement} Current class\n     */\n    static bind(key, selector, options = {})\n    {\n        let el = Dom.find(selector), prefix = this.getPrefix(key);\n\n        // Add mounted class\n        el.addClass(prefix);\n\n        let instance = Obj.get(this.inis,\n            key, null);\n\n        if ( Mix.isEmpty(instance) ) {\n            return console.error(`Element \"${key}\" is not defined.`);\n        }\n\n        let callback = (el, options) => {\n\n            let cb = new instance(\n                el.get(0), options\n            );\n\n            PicoElement.runs.push({\n                el: el.get(0), prefix: prefix, deamon: cb\n            });\n\n\n            el.data(prefix, cb);\n\n            return cb.bind !== undefined ?\n                cb.bind(el.get(0), options) : cb;\n        };\n\n        // Bind option\n        Dom.ready(() => callback.call({}, el, options));\n\n        return this;\n    }\n\n    /**\n     * Unbind element from selector\n     *\n     * @example PicoElement.unbind(\"tab\", \".tabs\")\n     *\n     * @param {string} key Alias key\n     * @param {any} selector Dom selector\n     * @param {any} [options] Init options\n     * @returns {PicoElement} Current class\n     */\n    static unbind(key, selector, options = {})\n    {\n        let el = Dom.find(selector), prefix = this.getPrefix(key);\n\n        let instance = Obj.get(this.inis,\n            key, null);\n\n        if ( Mix.isEmpty(instance) ) {\n            return console.error(`Element \"${key}\" is not defined.`);\n        }\n\n        let callback = (el, options) => {\n\n            let cb = el.data(prefix);\n\n            if ( cb.unbind === undefined ) {\n                return;\n            }\n\n            return cb.unbind(el.get(0), options);\n        };\n\n        // Unbind option\n        callback.call({}, el, options);\n\n        Arr.remove(PicoElement.runs, { el: el.get(0) });\n\n        return this;\n    }\n\n\n    /**\n     * Observe DOM changes\n     *\n     * @example PicoElement.observe(\"tab\")\n     *\n     * @param {string} key Alias key\n     * @param {boolean} [plain] Plain options\n     * @returns {PicoElement} Current class\n     */\n    static observe(key, plain = false)\n    {\n        let selector = this.getPrefix(key);\n\n        let options = {\n            childList: true,\n            subtree: true,\n            attributes: true,\n            attributeFilter: [selector]\n        };\n\n        let callback = () => {\n\n            let mounted = PicoElement.getPrefix(key);\n\n            let deamons = Arr.filter(this.runs,\n                { prefix: selector });\n\n            Arr.each(deamons, ({ el }) => {\n\n                let options = Str.objectify(\n                    Dom.find(el).attr(selector)\n                );\n\n                if ( plain && Mix.isEmpty(options) ) {\n                    options = { _plain: Dom.find(el).attr(selector) };\n                }\n\n                let inview = Obj.pluck(options, 'inview', false);\n\n                if ( inview ) {\n                    Arr.remove(this.invi, { el });\n                }\n\n                if ( document.body.contains(el) ) {\n                    return;\n                }\n\n                return this.unbind(key, el, options)\n            });\n\n            Dom.find(`[${selector}]:not(.${mounted})`).each((el) => {\n\n                let options = Str.objectify(\n                    Dom.find(el).attr(selector)\n                );\n\n                if ( plain && Mix.isEmpty(options) ) {\n                    options = { _plain: Dom.find(el).attr(selector) };\n                }\n\n                let inview = Obj.pluck(options, 'inview', false);\n\n                let bindCb = () => {\n                    this.bind(key, el, options);\n                };\n\n                inview ? this.bindInview(el, bindCb) : bindCb();\n            });\n\n        };\n\n        Dom.find(document.body).observer(callback)\n            (document.body, options);\n\n        Dom.find(document.body).on('dom.change', callback);\n\n        return this;\n    }\n\n    /**\n     * Bind element on inview\n     *\n     * @example PicoElement.bindInview(el, cb)\n     *\n     * @param {Element} el Target element\n     * @param {function} cb Callback fn\n     * @returns {void} No return value\n     */\n    static bindInview(el, cb)\n    {\n        Arr.add(this.invi, { el, cb }, { el });\n    }\n\n    /**\n     * Unbind element on inview\n     *\n     * @example PicoElement.unbindInview(el, cb)\n     *\n     * @param {Element} el Target element\n     * @param {function} cb Callback fn\n     * @returns {void} No return value\n     */\n    static unbindInview(el, cb)\n    {\n        Arr.remove(this.invi, { el, cb }, { el });\n    }\n\n\n\n    /**\n     * Get attribute prefix\n     *\n     * @example PicoElement.getPrefix(\"tab\") // => \"js-tab\"\n     *\n     * @param {string} [key] Alias key\n     * @returns {string} Attribute prefix\n     */\n    static getPrefix(key)\n    {\n        return key ? this.prefix + '-' + key : this.prefix;\n    }\n\n    /**\n     * Set attribute prefix\n     *\n     * @example PicoElement.setPrefix(\"pi\")\n     *\n     * @param {string} prefix New prefix\n     * @returns {void} No return value\n     */\n    static setPrefix(prefix)\n    {\n        this.prefix = prefix;\n    }\n\n}\n\nexport default PicoElement;\n","import { PicoRunner, default as Run } from \"./utils/Runner.js\";\nimport { PicoString, default as Str } from \"./utils/String.js\";\nimport { PicoNumber, default as Num } from \"./utils/Number.js\";\nimport { PicoArray, default as Arr } from \"./utils/Array.js\";\nimport { PicoObject, default as Obj } from \"./utils/Object.js\";\nimport { PicoMixed, default as Mix } from \"./utils/Mixed.js\";\nimport { PicoHash, default as Hash } from \"./utils/Hash.js\";\nimport { PicoSignal, default as Signal } from \"./utils/Signal.js\";\nimport { PicoLocale, default as Locale } from \"./utils/Locale.js\";\nimport { PicoCookie, default as Cookie } from \"./utils/Cookie.js\";\n\n/**\n * @type {typeof PicoDom}\n */\nconst Dom = DomBuilder();\n\n/**\n * @type {typeof PicoNow}\n */\nconst Now = NowBuilder();\n\n/**\n * @type {typeof PicoFormat}\n */\nconst For = ForBuilder();\n\nexport {\n    Dom, Now, For, Run, Str, Num, Arr, Obj, Mix, Hash, Signal, Locale, Cookie\n}\n\nimport { PicoDom, default as DomBuilder } from \"./utils/Dom.js\";\nimport { PicoNow, default as NowBuilder } from \"./utils/Now.js\";\nimport { PicoFormat, default as ForBuilder } from \"./utils/Format.js\";\n\nimport { go, browser, device } from \"./tool/scope.js\";\nexport { go, browser, device };\n\n// You will be removed soon\nimport { default as Data } from \"./utils/Data.js\";\nimport { default as Route } from \"./utils/Route.js\";\n\nexport {\n    Map, Data\n}\n\n// Work in progress (not started yet)\nimport { default as Map } from \"./wip/Map.js\";\nimport { default as Element } from \"./wip/Element.js\";\n\nexport {\n    Route, Element\n}\n\n/**\n * @type {typeof PicoMixed}\n */\nexport const Any = new Proxy({}, {\n    get: function (target, prop) {\n        console.warn(`Any.${prop} is deprecated, use Mix.${prop}() instead.`);\n        return (...args) => Mix[prop](...args);\n    }\n});\n\n/**\n * @type {typeof PicoMixed}\n */\nexport const Event = new Proxy({}, {\n    get: function (target, prop) {\n        console.warn(`Event.${prop} is deprecated, use Signal.${prop}() instead.`);\n        return (...args) => Signal[prop](...args);\n    }\n});\n\n/**\n * @returns {string}\n */\nexport const UUID = function () {\n    console.warn('UUID() is deprecated, use Hash.make() instead.');\n    return Hash.make();\n};"],"names":["root","factory","exports","module","define","amd","self","__webpack_require__","definition","key","o","Object","defineProperty","enumerable","get","g","globalThis","this","Function","e","window","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","PicoRunner","interval","fn","intval","idle","setInterval","clearInterval","clear","timer","Mix","isArr","Arr","each","t","isFunc","clearTimeout","tryin","cb","wait","limit","idler","setTimeout","frame","options","requestAnimationFrame","cancelAnimationFrame","async","delay","debounce","timeout","args","throttle","queued","framerate","fps","finish","last","hertz","Date","now","framebuffer","priority","item","active","add","$buffer","test","type","preventDefault","Obj","assign","runFramebuffer","$idler","$timer","buffer","filter","length","sort","reverse","_defineProperty","PicoString","index","isStr","str","isInt","int","charAt","set","replace","substring","search","isNull","indexOf","extract","range","slice","match","pattern","result","isEmpty","regex","val","uc","toUpperCase","ucfirst","lc","toLowerCase","lcfirst","cc","For","slugify","split","v","i","join","kc","sc","pc","has","fallback","start","string","empty","html","boolean","yes","no","bool","number","fixed","locale","config","isNum","Locale","code","_objectSpread","maximumFractionDigits","minimumFractionDigits","num","toLocaleString","integer","leading","padding","padStart","datetime","format","isDate","Now","make","valid","date","time","objectify","mode","toarray","isRef","parseParams","parseOptions","JSON","parse","vals","stringify","castParams","castOptions","_PicoString","regexEscape","console","warn","Str","humancase","pascalcase","fromOptions","params","fromParams","filesize","real","error","array","PicoNumber","decimals","toFixed","float","parseFloat","parseInt","ceil","Math","floor","round","combine","reduce","acc","subtract","decade","matrix","base","pow","push","distance","cord1","cord2","miles","cord","lat","lng","radlat1","PI","radlat2","radtheta","dist","sin","cos","acos","random","Hash","PicoArray","all","target","splice","unset","prev","next","Array","isPrim","findIndex","unique","keys","lengths","first","second","third","retval","isObj","eachObj","map","recursive","cascade","cas","clone","childs","filterIndex","includes","filterRemove","indexes","splices","find","sortFunc","sortDeep","sortPrim","a","b","compare","merge","concat","prepend","unshift","append","finder","remove","toggle","insert","indexies","diff","c","isect","callback","accumulator","chunk","res","contains","arr","matches","removeIndex","sortString","equal","diffrence","intersect","PicoObject","keyoptim","flatten","isstr","undefined","list","pop","nested","mod","src","String","prefix","flattenForm","unpack","pluck","only","except","isFunction","va","vb","values","MIX_REGEX","PicoMixed","len","isUndef","isNix","isBool","constructor","isIter","entries","isIsoDate","iso","isTime","isEqual","Node","isEqualNode","is","iter","toJSON","go","chrome","nodes","props","exclude","getOwnPropertyNames","extend","proto","getPrototypeOf","desc","getOwnPropertyDescriptor","class","form","FormData","Error","collator","null","toString","NaN","_PicoMixed","global","isPlain","Run","convertString","convertDatetime","convertBool","convertBoolean","RADIX_UUID","RADIX_UP19","radix_symbol_pass","PicoHash","radix","RADIX","hash","k","uuid","version","password","symbols","PicoSignal","bind","event","paused","arguments","id","$events","unbind","fire","events","pause","unpause","PicoLocale","$text","$code","navigator","language","$sort","Intl","Collator","numeric","sensitivity","text","RegExp","trans","choice","count","countpick","splits","COOKIE_REGEX","entry","PicoCookie","document","cookie","fresh","$cookie","matchAll","from","groups","replaceAll","decode","expire","expires","toUTC","path","plain","forget","PicoDomFinderStatic","filterNodes","el","nodeType","getNodePoint","touches","clientX","clientY","Dom","doc","elementsFromPoint","msElementsFromPoint","getNodeEvent","selector","srcElement","closest","PicoDomFinderInstance","_constructFinder","querySelectorAll","NodeList","getNodeType","getNodeParent","parentNode","getNodePrev","previousSibling","getNodeNext","nextSibling","getNodeChilds","childNodes","sanatize","els","Window","body","offset","loopParent","boundry","win","parent","child","upnode","visible","above","inside","isParent","previous","where","not","getNot","PicoDomFormStatic","PicoDomFormInstance","PicoDomEventStatic","PicoDomEventInstance","addEventListener","removeEventListener","on","off","optoff","removeAllListeners","once","live","detail","CustomEvent","dispatchEvent","pointerdown","button","rect","x","y","left","width","top","height","PointerEvent","view","bubbles","cancelable","buttons","one","delayed","PicoDomBuilderStatic","createElement","ini","PicoDomBuilderInstance","prependTo","appendTo","insertBefore","removeChild","PicoDomGlobalStatic","getDomState","readyState","isDomReady","isDomComplete","state","ready","complete","required","PicoDomGlobalInstance","isNodeComplete","naturalWidth","naturalHeight","loaded","PicoDomRectangleStatic","PicoDomRectangleInstance","getBoundingClientRect","margin","computed","marginTop","right","marginRight","bottom","marginBottom","marginLeft","paddingTop","paddingRight","paddingBottom","paddingLeft","innerHeight","offsetHeight","clientHeight","scrollHeight","pad","realHeight","style","actual","evaluateHeight","apply","display","innerWidth","offsetWidth","clientWidth","scrollWidth","realWidth","evaluateWidth","getOffset","offsetTop","offsetBottom","offsetLeft","offsetRight","loopOffset","offsetParent","calcOffset","size","source","scroll","getScroll","scrollTop","scrollLeft","pageYOffset","pageXOffset","loopOffsetParent","scrollTopGlobal","scrollLeftGlobal","PicoDomAttributeStatic","PicoDomAttributeInstance","attr","getAttribute","removeAttribute","setAttribute","data","getComputedStyle","styles","translate","transform","classes","innerHTML","backup","hasClass","cls","addClass","className","remClass","toggleClass","stateClass","css","removeClass","PicoDomInviewStatic","inviewMaxY","isString","multiple","threshold","isInviewY","inviewMaxX","isInviewX","PicoDomInviewInstance","viewoffX","bot","viewport","max","inviewX","viewoffY","inview","min","inratioX","inviewY","inratioY","inviewHeight","inviewWidth","PicoDomMetaStatic","setMetaTitle","glue","$meta","title","PicoDomMetaInstance","PicoDomObserverStatic","PicoDomObserverInstance","PicoDomPopoverStatic","PicoDomPopoverInstance","popover","position","popoverY","popoverX","recto","inverse","broken","rebound","popoverNormalize","dw","PicoDomPlugins","init","PicoDom","plugin","NOW_MODIFY","PicoNowDefaultInstance","scope","getTime","getSeconds","getMinutes","getHours","getDay","getDate","getMonth","getFullYear","day","setTime","setSeconds","setMinutes","setHours","setDate","setMonth","setFullYear","minute","hour","month","year","shortyear","sub","isModifible","modify","f","applyDate","applyTime","addSecond","subSecond","addMinute","subMinute","addHour","subHour","addDates","subDates","addMonths","subMonths","addYears","subYears","addDecades","subDecades","humanDay","humanMonth","NOW_FORMAT","NOW_PARSE","PicoNowFormatInstance","isParsable","parseFormat","human","PicoNowMatchInstance","before","beforeDate","beforeTime","after","afterDate","afterTime","equalDate","equalTime","between","end","dates","PicoNowGridInstance","grid","getSecondsGrid","getMinutesGrid","getHoursGrid","getDaysGrid","getDatesGrid","getMonthsGrid","getYearsGrid","getDecadesGrid","getYears","getMonths","getDates","PicoNowWalkerInstance","prevSecond","nextSecond","prevMinute","nextMinute","prevHour","nextHour","prevDate","nextDate","prevMonth","nextMonth","prevYear","nextYear","prevDecade","nextDecade","firstSecond","firstMinute","firstHour","firstDay","firstDate","firstMonth","firstYear","firstDecade","lastSecond","lastMinute","lastHour","lastDay","lastDate","lastMonth","lastYear","lastDecade","nthYear","n","nthDecade","PicoNowRangeInstance","getDatesRange","NOW_HUMAN_DAYS","NOW_HUMAN_MONTHS","PicoNowHumanInstance","substr","getHumanDay","getHumanMonth","PicoNowPlugins","PicoNow","input","toDate","reset","isNaN","toUTCString","resetTime","TYPE_PARSERS","TYPE_CASTERS","PicoFormatParserStatic","keyed","parsed","parsers","casted","encode","casters","encodeURI","PARAM_REGEX","PicoFormatParamStatic","castParam","decodeURIComponent","OPTION_REGEX","PicoFormatOptionStatic","space","castOption","div","SLUG_CONVERT","PicoFormatUrlStatic","FILE_UNITS","PicoFormatFileStatic","Num","PicoFormatPlugins","PicoFormat","browser","agent","userAgent","safari","firefox","edge","piuag","device","osx","gnu","ios","oid","piudv","PicoData","$data","stored","Event","forceSet","PicoRoute","$routes","query","route","goto","location","href","PicoMap","google","center","Map","mapStyle","gestureHandling","scrollwheel","zoom","maps","setMapStyle","setMarkerStyle","extra","final","Size","origin","Point","anchor","default","url","scaledSize","hover","markerStyles","clusterMarkers","allowCreate","cluster","MarkerClusterer","imagePath","clearMarkers","clusterFilter","markers","getMarkerVisibility","marker","clusterOptions","styleMarker","getInfoVisibility","setIcon","getMarker","getVisible","getMarkerPositon","getPosition","toggleMarker","hideMarker","showMarker","hidden","setVisible","closeInfo","enterMarker","leaveMarker","info","getMap","toggleInfo","openInfo","closeInfoWindows","open","onOpen","close","onClose","createMarker","extras","Marker","addListener","InfoWindow","content","setMarkerPosition","setPosition","setMarkerByAddress","address","getLocationByAddress","geocoderService","Geocoder","Promise","geocoderPromise","resolve","reject","geocode","geocoderResult","response","status","showMarkers","hideMarkers","getMarkerBoundry","LatLngBounds","focusMarkers","maxZoom","boundSpace","setCenter","getCenter","fitBounds","getZoom","setZoom","renderDirections","directionsService","DirectionsService","directionsRenderer","DirectionsRenderer","travelMode","setMap","panel","setPanel","directionsPromise","directionsResult","setDirections","PicoElement","listen","invi","alias","instance","inis","getPrefix","runs","deamon","observe","childList","subtree","attributes","attributeFilter","mounted","deamons","_plain","bindCb","bindInview","observer","unbindInview","setPrefix","DomBuilder","NowBuilder","ForBuilder","Any","Proxy","Signal","UUID"],"sourceRoot":""}