{"version":3,"file":"pico-js.browser.js","mappings":"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","sources":["webpack://@kizmann/pico-js/webpack/bootstrap","webpack://@kizmann/pico-js/webpack/runtime/define property getters","webpack://@kizmann/pico-js/webpack/runtime/global","webpack://@kizmann/pico-js/webpack/runtime/hasOwnProperty shorthand","webpack://@kizmann/pico-js/webpack/runtime/make namespace object","webpack://@kizmann/pico-js/./src/utils/Runner.ts","webpack://@kizmann/pico-js/./src/utils/String.ts","webpack://@kizmann/pico-js/./src/utils/Number.ts","webpack://@kizmann/pico-js/./src/utils/Array.ts","webpack://@kizmann/pico-js/./src/utils/Object.ts","webpack://@kizmann/pico-js/./src/utils/Mixed.ts","webpack://@kizmann/pico-js/./src/utils/Hash.ts","webpack://@kizmann/pico-js/./src/utils/Signal.ts","webpack://@kizmann/pico-js/./src/utils/Locale.ts","webpack://@kizmann/pico-js/./src/utils/Cookie.ts","webpack://@kizmann/pico-js/./src/tool/scope.ts","webpack://@kizmann/pico-js/./src/now/NowDefault.ts","webpack://@kizmann/pico-js/./src/now/NowFormat.ts","webpack://@kizmann/pico-js/./src/now/NowMatch.ts","webpack://@kizmann/pico-js/./src/now/NowGrid.ts","webpack://@kizmann/pico-js/./src/now/NowWalker.ts","webpack://@kizmann/pico-js/./src/now/NowRange.ts","webpack://@kizmann/pico-js/./src/now/NowHuman.ts","webpack://@kizmann/pico-js/./src/utils/Now.ts","webpack://@kizmann/pico-js/./src/dom/DomFinder.ts","webpack://@kizmann/pico-js/./src/dom/DomForm.ts","webpack://@kizmann/pico-js/./src/dom/DomEvent.ts","webpack://@kizmann/pico-js/./src/dom/DomBuilder.ts","webpack://@kizmann/pico-js/./src/dom/DomGlobal.ts","webpack://@kizmann/pico-js/./src/dom/DomRectangle.ts","webpack://@kizmann/pico-js/./src/dom/DomAttribute.ts","webpack://@kizmann/pico-js/./src/dom/DomInview.ts","webpack://@kizmann/pico-js/./src/dom/DomMeta.ts","webpack://@kizmann/pico-js/./src/dom/DomObserver.ts","webpack://@kizmann/pico-js/./src/dom/DomPopover.ts","webpack://@kizmann/pico-js/./src/utils/Dom.ts","webpack://@kizmann/pico-js/./src/format/FormatParser.ts","webpack://@kizmann/pico-js/./src/format/FormatParam.ts","webpack://@kizmann/pico-js/./src/format/FormatOption.ts","webpack://@kizmann/pico-js/./src/format/FormatUrl.ts","webpack://@kizmann/pico-js/./src/format/FormatFile.ts","webpack://@kizmann/pico-js/./src/utils/Format.ts","webpack://@kizmann/pico-js/./src/utils/Data.ts","webpack://@kizmann/pico-js/./src/utils/Route.ts","webpack://@kizmann/pico-js/./src/index.esm.ts","webpack://@kizmann/pico-js/./src/index.browser.ts"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { Arr, Mix, Obj } from \"../index.esm.ts\";\n\nexport class PicoRunner\n{\n    /**\n     * @type {any}\n     */\n    static $idler : any = null;\n\n    /**\n     * @type {number}\n     */\n    static $timer : number = 0;\n\n    /**\n     * @type {any[]}\n     */\n    static $buffer : any[] = [];\n\n    /**\n     * Run interval and return clear function\n     *\n     * @example Run.interval(cb, 100)\n     *\n     * @param {Function} fn Callback function\n     * @param {number} [intval] Callback interval\n     * @returns {Function} Noop clear function\n     */\n    static interval(fn : Function, intval : number = 0) : Function\n    {\n        const idle = setInterval(() => {\n            fn();\n        }, intval);\n\n        return () => clearInterval(idle);\n    }\n\n    /**\n     * Clear timer or call function\n     *\n     * @example Run.clear(timer)\n     *\n     * @param {any} timer Timer ID, array of IDs, or function\n     * @returns {PicoRunner} Static class\n     */\n    static clear(timer : any) : PicoRunner\n    {\n        if ( Mix.isArr(timer) ) {\n            return Arr.each(timer, (t : any) => this.clear(t), this);\n        }\n\n        if ( Mix.isFunc(timer) ) {\n            return (timer(), this);\n        }\n\n        clearTimeout(timer);\n        clearInterval(timer);\n\n        return this;\n    }\n\n    /**\n     * Request idle callback with fallback\n     *\n     * @param {Function} cb Callback function\n     * @returns {PicoRunner} Static class\n     */\n    static tryin(cb : Function) : PicoRunner\n    {\n        try {\n            cb();\n        } catch (e) {\n            //\n        }\n\n        return this;\n    }\n\n    /**\n     * Wait for condition to be true\n     *\n     * @example Run.wait(() => window.foo, 10, 100)\n     *\n     * @param {function} fn Condition function\n     * @param {number} [intval] Interval ms\n     * @param {number} [limit] Max iterations\n     * @returns {Function} Clear function\n     */\n    static wait(fn : Function, intval : number = 0, limit : number = 500) : Function\n    {\n        let idler : any, timer : any;\n\n        timer = setTimeout(() => {\n            this.clear([idler, timer]);\n        }, intval * limit);\n\n        idler = setInterval(() => {\n            if ( fn() ) this.clear([timer, idler]);\n        }, intval);\n\n        return () => clearInterval(idler);\n    }\n\n    /**\n     * Run function in next animation frame\n     *\n     * @example Run.frame(cb)\n     *\n     * @param {Function} fn Callback function\n     * @returns {Function} Noop clear function\n     */\n    static frame(fn : Function) : Function\n    {\n        const frame = requestAnimationFrame(() => {\n            fn();\n        });\n\n        return () => cancelAnimationFrame(frame);\n    }\n\n    /**\n     * Run function asynchronously\n     *\n     * @example Run.async(cb)\n     *\n     * @param {Function} fn Callback function\n     * @returns {Function} Noop clear function\n     */\n    static async(fn : Function) : Function\n    {\n        const idle = setTimeout(() => {\n            fn()\n        });\n\n        return () => clearTimeout(idle);\n    }\n\n    /**\n     * Run function after delay\n     *\n     * @example Run.delay(cb, 100)\n     *\n     * @param {Function} fn Callback function\n     * @param {number} [delay] Delay ms\n     * @returns {Function} Clear function\n     */\n    static delay(fn : Function, delay : number = 0) : Function\n    {\n        let idler = setTimeout(() => {\n            fn();\n        }, delay);\n\n        return () => clearTimeout(idler);\n    }\n\n    /**\n     * Create debounced callback\n     *\n     * @example const fn = Run.debounce(cb, 100)\n     *\n     * @param {Function} cb Callback to run\n     * @param {number} [timeout] Wait ms\n     * @returns {Function} Debounced fn\n     */\n    static debounce(cb : Function, timeout : number = 100) : Function\n    {\n        let idler = null;\n\n        return (...args : any[]) => {\n\n            if ( idler ) {\n                clearTimeout(idler);\n            }\n\n            idler = setTimeout(() => {\n                this.frame(() => cb(...args));\n            }, timeout);\n        };\n    }\n\n    /**\n     * Create throttled callback\n     *\n     * @example const fn = Run.throttle(cb, 100)\n     *\n     * @param {Function} cb Callback to run\n     * @param {number} [timeout] Wait ms\n     * @returns {Function} Throttled fn\n     */\n    static throttle(cb : Function, timeout : number = 100) : Function\n    {\n        let queued : any, idler : any = null;\n\n        return (...args : any[]) => {\n\n            if ( idler ) {\n                clearTimeout(idler);\n            }\n\n            idler = setTimeout(() => {\n                queued = false;\n            }, timeout);\n\n            if ( queued ) {\n                return;\n            }\n\n            (this.frame(() => cb(...args)), queued = true);\n        };\n    }\n\n    /**\n     * Create framerate-limited callback\n     *\n     * @example const fn = Run.framerate(cb, 30)\n     *\n     * @param {Function} cb Callback to run\n     * @param {number} [fps] Max frames per sec\n     * @param {boolean} [finish] Finish last frame\n     * @returns {Function} Rate-limited fn\n     */\n    static framerate(cb : Function, fps : number = 30, finish : boolean = true) : Function\n    {\n        let timer : any, last = 0, hertz = 1000 / fps;\n\n        const fn = (...args : any) => {\n\n            clearTimeout(timer);\n\n            if ( Date.now() - last <= hertz ) {\n                return finish && (timer = setTimeout(fn, hertz + 1));\n            }\n\n            (this.frame(() => cb(...args)), last = Date.now());\n        };\n\n        return fn;\n    }\n\n    /**\n     * Buffer events into single frame\n     *\n     * @example el.onwheel = Run.framebuffer(cb,\"wheel\")\n     *\n     * @param {Function} cb Callback to run\n     * @param {string} key Buffer key\n     * @param {number} [priority] Sort priority\n     * @returns {Function} Buffered handler\n     */\n    static framebuffer(cb : Function, key : string, priority : number = 1000) : Function\n    {\n        const item = {\n            key, cb, priority, args: [], active: false\n        };\n\n        Arr.add(this.$buffer, item);\n\n        return (e : any, ...args : any) => {\n\n            if ( /^drag/.test(e.type) ) {\n                e.preventDefault();\n            }\n\n            Obj.assign(item, {\n                args: [e, ...args], active: true\n            });\n\n            this.runFramebuffer();\n        };\n    }\n\n    /**\n     * Flush buffered frame events\n     *\n     * @example Run.runFramebuffer() // flush\n     *\n     * @returns {void} No return value\n     */\n    static runFramebuffer() : void\n    {\n        if ( this.$idler ) {\n            clearTimeout(this.$idler);\n        }\n\n        this.$idler = setTimeout(() => {\n            this.runFramebuffer();\n        }, 50);\n\n        if ( Date.now() - this.$timer < 50 ) {\n            return;\n        }\n\n        if ( this.$idler ) {\n            clearTimeout(this.$idler);\n        }\n\n        this.$timer = Date.now();\n\n        let buffer = Arr.filter(this.$buffer, {\n            active: true\n        });\n\n        if ( buffer.length === 0 ) {\n            return;\n        }\n\n        buffer = Arr.sort(buffer, 'priority');\n\n        Arr.each(buffer.reverse(), (item : any) => {\n            item.cb(...item.args);\n            item.active = false;\n        });\n    }\n\n}\n\nexport default PicoRunner;","import { Arr, For, Locale, Mix, Now, Str } from \"../index.esm.ts\";\n\nexport class PicoString\n{\n    /**\n     * Get character at index\n     *\n     * @example Str.get(\"abc\", 1) // => \"b\"\n     *\n     * @param {any} value Input string\n     * @param {number} index Char index\n     * @returns {string} Single char\n     */\n    static get(value : any, index : number) : string\n    {\n        if ( !Mix.isStr(value) ) {\n            value = Mix.str(value);\n        }\n\n        if ( Mix.isInt(index) ) {\n            index = Mix.int(index);\n        }\n\n        return value.charAt(index);\n    }\n\n    /**\n     * Replace substring at index\n     *\n     * @example Str.set(\"abc\", 1, \"X\") // => \"aXc\"\n     *\n     * @param {any} value Input string\n     * @param {any} index Start index\n     * @param {string} [replace] Replace value\n     * @returns {string} Updated string\n     */\n    static set(value : any, index : any, replace : string = '') : string\n    {\n        if ( !Mix.isStr(value) ) {\n            value = Mix.str(value);\n        }\n\n        if ( Mix.isInt(index) ) {\n            index = Mix.int(index);\n        }\n\n        return value.substring(0, index) + replace +\n            value.substring(index + replace.length);\n    }\n\n    /**\n     * Replace first occurrence\n     *\n     * @example Str.replace(\"abc\", \"X\", \"b\") // => \"aXc\"\n     *\n     * @param {any} value Input string\n     * @param {string} replace Replace value\n     * @param {any} [search] Search value\n     * @returns {string} Updated string\n     */\n    static replace(value : any, replace : string, search : any = null) : string\n    {\n        if ( Mix.isNull(search) ) {\n            search = value;\n        }\n\n        let index = search.indexOf(replace);\n\n        if ( index === -1 ) {\n            return value;\n        }\n\n        return this.set(value, index, replace);\n    }\n\n    /**\n     * Extract substring by range\n     *\n     * @example Str.extract(\"abc\", \"b\") // => \"b\"\n     *\n     * @param {any} value Input string\n     * @param {string} replace Search value\n     * @param {any} [search] Match source\n     * @returns {string|null} Extracted string\n     */\n    static extract(value : any, replace : string, search : any = null) : string\n    {\n        if ( Mix.isNull(search) ) {\n            search = value;\n        }\n\n        let index : [number, number] = this.range(search, replace);\n\n        if ( index === null ) {\n            return null;\n        }\n\n        return this.slice(value, ...index);\n    }\n\n    /**\n     * Match pattern in string\n     *\n     * @example Str.match(\"abc\", /b/) // => [\"b\"]\n     *\n     * @param {any} value Input string\n     * @param {RegExp|string} pattern Match pattern\n     * @param {Function} [cb] Callback fn\n     * @returns {any} Match result\n     */\n    static match(value : any, pattern : RegExp | string, cb : Function = null) : any\n    {\n        let result = Mix.str(value).match(pattern);\n\n        if ( Mix.isEmpty(result) ) {\n            return [];\n        }\n\n        return Mix.isFunc(cb) ? cb(result) : result;\n    }\n\n    /**\n     * Escape regex characters\n     *\n     * @example Str.regex(\"a.b\") // => \"a\\\\.b\"\n     *\n     * @param {any} value Input string\n     * @returns {string} Escaped string\n     */\n    static regex(value : any) : string\n    {\n        return Mix.str(value).replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n    }\n\n    /**\n     * Convert to uppercase\n     *\n     * @example Str.uc(\"abc\") // => \"ABC\"\n     *\n     * @param {any} value Input string\n     * @returns {string} Uppercase string\n     */\n    static uc(value : any) : string\n    {\n        return Mix.str(value).toUpperCase();\n    }\n\n    /**\n     * @see PicoString.uc\n     */\n    static upper = PicoString.uc;\n\n    /**\n     * Uppercase first character\n     *\n     * @example Str.ucfirst(\"abc\") // => \"Abc\"\n     *\n     * @param {any} value Input string\n     * @returns {string} Updated string\n     */\n    static ucfirst(value : any) : string\n    {\n        return Mix.str(value).charAt(0).toUpperCase() + value.slice(1);\n    }\n\n    /**\n     * Convert to lowercase\n     *\n     * @example Str.lc(\"ABC\") // => \"abc\"\n     *\n     * @param {any} value Input string\n     * @returns {string} Lowercase string\n     */\n    static lc(value : any) : string\n    {\n        return Mix.str(value).toLowerCase();\n    }\n\n    /**\n     * @see PicoString.lc\n     */\n    static lower = PicoString.lc;\n\n    /**\n     * Lowercase first character\n     *\n     * @example Str.lcfirst(\"ABC\") // => \"aBC\"\n     *\n     * @param {any} value Input string\n     * @returns {string} Updated string\n     */\n    static lcfirst(value : any) : string\n    {\n        return Mix.str(value).charAt(0).toLowerCase() + value.slice(1);\n    }\n\n    /**\n     * Convert to camelCase\n     *\n     * @example Str.cc(\"hello-world\") // => \"helloWorld\"\n     *\n     * @param {any} value Input string\n     * @returns {string} camelCase string\n     */\n    static cc(value : any) : string\n    {\n        let splits = Arr.each(For.slugify(value).split('-'), (v, i) => {\n            return i ? this.ucfirst(v) : v;\n        });\n\n        return splits.join('');\n    }\n\n    /**\n     * @see PicoString.cc\n     */\n    static camelcase = PicoString.cc;\n\n    /**\n     * Convert to kebab-case\n     *\n     * @example Str.kc(\"helloWorld\") // => \"hello-world\"\n     *\n     * @param {any} value Input string\n     * @returns {string} kebab-case string\n     */\n    static kc(value : any) : string\n    {\n        return For.slugify(value);\n    }\n\n    /**\n     * @see PicoString.kc\n     */\n    static kebabcase = PicoString.kc;\n\n    /**\n     * Convert to snake_case\n     *\n     * @example Str.sc(\"helloWorld\") // => \"hello_world\"\n     *\n     * @param {any} value Input string\n     * @returns {string} snake_case string\n     */\n    static sc(value : any) : string\n    {\n        return For.slugify(value).replace('-', '_');\n    }\n\n    /**\n     * @see PicoString.sc\n     */\n    static snakecase = PicoString.sc;\n\n    /**\n     * Convert to PascalCase\n     *\n     * @example Str.pc(\"hello-world\") // => \"HelloWorld\"\n     *\n     * @param {any} value Input string\n     * @returns {string} PascalCase string\n     */\n    static pc(value : any) : string\n    {\n        let splits = Arr.each(For.slugify(value).split('-'), (v) => {\n            return this.ucfirst(v);\n        });\n\n        return splits.join('');\n    }\n\n    /**\n     * @see PicoString.pc\n     */\n    static pascalcase = PicoString.pc;\n\n    /**\n     * Check if string contains value\n     *\n     * @example Str.has(\"abc\", \"b\") // => true\n     *\n     * @param {any} value Input string\n     * @param {any} search Search string\n     * @returns {boolean} True if found\n     */\n    static has(value : any, search : any) : boolean\n    {\n        return this.lc(value).indexOf(this.lc(search)) !== -1;\n    }\n\n    /**\n     * Get index range of search\n     *\n     * @example Str.range(\"abc\", \"b\") // => [1, 2]\n     *\n     * @param {any} value Input string\n     * @param {string} search Search string\n     * @param {any} [fallback] Fallback value\n     * @returns {number[]|any} Index range\n     */\n    static range(value : any, search : string, fallback : any = null) : number[] | any\n    {\n        let index = Mix.str(value).indexOf(search);\n\n        if ( index === -1 ) {\n            return fallback;\n        }\n\n        return [index, index + search.length];\n    }\n\n    /**\n     * Extract substring by range\n     *\n     * @example Str.slice(\"abc\", 1, 2) // => \"b\"\n     *\n     * @param {any} value Input string\n     * @param {number} start Start index\n     * @param {number} limit End index\n     * @returns {string} Sliced string\n     */\n    static slice(value : any, start : number, limit : number) : string\n    {\n        return Mix.str(value).slice(start, limit);\n    }\n\n    /**\n     * Get string representation\n     *\n     * @example Str.string(\"<b>a</b>\") // => \"a\"\n     *\n     * @param {any} value Input value\n     * @param {string} [empty] Empty fallback\n     * @param {boolean} [html] Keep HTML\n     * @returns {string} String value\n     */\n    static string(value : any, empty : string = '-', html : boolean = false) : string\n    {\n        if ( Mix.isEmpty(value) ) {\n            return empty;\n        }\n\n        value = Mix.str(value);\n\n        if ( html ) {\n            return value;\n        }\n\n        return value.replace(/<[^>]*>?/gm, '');\n    }\n\n    /**\n     * Get boolean representation\n     *\n     * @example Str.boolean(true) // => \"Yes\"\n     *\n     * @param {any} value Input value\n     * @param {string} [yes] True string\n     * @param {string} [no] False string\n     * @param {string} [empty] Empty fallback\n     * @returns {string} Boolean string\n     */\n    static boolean(value : any, yes : string = 'Yes', no : string = 'No', empty : string = '-') : string\n    {\n        if ( Mix.isEmpty(value) ) {\n            return empty;\n        }\n\n        return Mix.bool(value) ? yes : no;\n    }\n\n    /**\n     * Get formatted number\n     *\n     * @example Str.number(1234.56, 1) // => \"1,234.6\"\n     *\n     * @param {any} value Input value\n     * @param {number} [fixed] Decimal points\n     * @param {string} [locale] Locale code\n     * @param {any} [config] Format config\n     * @returns {string} Formatted string\n     */\n    static number(value : any, fixed : number = null, locale : string = null, config : any = {}) : string\n    {\n        if ( !Mix.isNum(value) ) {\n            return Mix.str(value);\n        }\n\n        if ( locale == null ) {\n            locale = Locale.code();\n        }\n\n        config = {\n            maximumFractionDigits: 12, ...config\n        };\n\n        if ( fixed != null ) {\n            config.minimumFractionDigits = fixed;\n            config.maximumFractionDigits = fixed;\n        }\n\n        return Mix.num(value).toLocaleString(locale, config);\n    }\n\n    /**\n     * Get formatted integer\n     *\n     * @example Str.integer(1, 2) // => \"01\"\n     *\n     * @param {any} value Input value\n     * @param {number} [leading] Leading zeros\n     * @param {string} [padding] Padding char\n     * @returns {string|any} Formatted string\n     */\n    static integer(value : any, leading : number = 0, padding : string = '0') : string\n    {\n        if ( !Mix.isNum(value) ) {\n            return Mix.str(value);\n        }\n\n        if ( !Mix.isInt(value) ) {\n            value = Mix.int(value);\n        }\n\n        value = Mix.int(value);\n\n        if ( !leading ) {\n            return Mix.str(value);\n        }\n\n        return Mix.str(value).padStart(leading, padding);\n    }\n\n    /**\n     * Get formatted datetime\n     *\n     * @example Str.datetime(\"2026-01-01\", \"DD.MM.YYYY\")\n     *\n     * @param {any} value Input value\n     * @param {string} [format] Output format\n     * @param {string} [empty] Empty fallback\n     * @returns {string} Formatted string\n     */\n    static datetime(value : any, format : string = 'YYYY-MM-DD HH:mm:ss', empty : string = '-') : string\n    {\n        if ( !Mix.isDate(value) ) {\n            value = Now.make(value);\n        }\n\n        if ( !value.valid() ) {\n            return empty;\n        }\n\n        return value.format(format);\n    }\n\n    /**\n     * Get formatted date\n     *\n     * @example Str.date(\"2026-01-01\", \"DD.MM.YYYY\")\n     *\n     * @param {any} value Input value\n     * @param {string} [format] Output format\n     * @param {string} [empty] Empty fallback\n     * @returns {string} Formatted string\n     */\n    static date(value : any, format : string = 'YYYY-MM-DD', empty : string = '-') : string\n    {\n        return this.datetime(value, format, empty);\n    }\n\n    /**\n     * Get formatted time\n     *\n     * @example Str.time(\"12:00:00\", \"HH:mm\")\n     *\n     * @param {any} value Input value\n     * @param {string} [format] Output format\n     * @param {any} [empty] Empty fallback\n     * @returns {string} Formatted string\n     */\n    static time(value : any, format : string = 'HH:mm:ss', empty : string = '-') : string\n    {\n        return this.datetime(value, format, empty);\n    }\n\n    /**\n     * Parse string to object\n     *\n     * @example Str.objectify(\"a: 1;\") // => { a: 1 }\n     *\n     * @param {any} value Input string\n     * @param {string} [mode] Parse mode\n     * @param {boolean} [toarray] Return array\n     * @returns {any} Parsed value\n     */\n    static objectify(value : any, mode : string = 'options', toarray : boolean = false) : any\n    {\n        if ( Mix.isRef(value) ) {\n            return value;\n        }\n\n        if ( mode === 'params' ) {\n            value = For.parseParams(value);\n        }\n\n        if ( mode === 'options' ) {\n            value = For.parseOptions(value);\n        }\n\n        if ( !Mix.isRef(value) ) {\n            value = JSON.parse(value)\n        }\n\n        return toarray ? Mix.vals(value) : value;\n    }\n\n    /**\n     * Cast object to string\n     *\n     * @example Str.stringify({ a: 1 }) // => \"a: 1;\"\n     *\n     * @param {any} value Input value\n     * @param {string} [mode] Cast mode\n     * @returns {string} Casted string\n     */\n    static stringify(value : any, mode : string = 'options') : string\n    {\n        if ( Mix.isStr(value) ) {\n            return value;\n        }\n\n        if ( mode === 'params' ) {\n            return For.castParams(value);\n        }\n\n        if ( mode === 'options' ) {\n            return For.castOptions(value);\n        }\n\n        return JSON.stringify(value);\n    }\n\n}\n\n/**\n * @deprecated use Str.regex instead\n */\n// @ts-ignore\nPicoString.regexEscape = (...args : Parameters<typeof Str.regex>) : any => {\n    console.warn('Str.regexEscape() is deprecated, use Str.regex() instead.');\n    return Str.regex(...args);\n};\n\n/**\n * @deprecated use Str.pc instead\n */\n// @ts-ignore\nPicoString.humancase = (...args : Parameters<typeof Str.pc>) : any => {\n    console.warn('Str.humancase() is deprecated, use Str.pascalcase() instead.');\n    return Str.pc(...args);\n};\n\n/**\n * @deprecated use For.slugify instead\n */\n// @ts-ignore\nPicoString.slugify = (...args : Parameters<typeof For.slugify>) : any => {\n    console.warn('Str.slugify() is deprecated, use For.slugify() instead.');\n    return For.slugify(...args);\n};\n\n/**\n * @deprecated use For.castOptions instead\n */\n// @ts-ignore\nPicoString.options = (...args : Parameters<typeof For.castOptions>) : any => {\n    console.warn('Str.options() is deprecated, use For.castOptions() instead.');\n    return For.castOptions(...args);\n};\n\n/**\n * @deprecated use For.parseOptions instead\n */\n// @ts-ignore\nPicoString.fromOptions = (...args : Parameters<typeof For.parseOptions>) : any => {\n    console.warn('Str.fromOptions() is deprecated, use For.parseOptions() instead.');\n    return For.parseOptions(...args);\n};\n\n/**\n * @deprecated use For.castParams instead\n */\n// @ts-ignore\nPicoString.params = (...args : Parameters<typeof For.castParams>) : any => {\n    console.warn('Str.params() is deprecated, use For.castParams() instead.');\n    return For.castParams(...args);\n};\n\n/**\n * @deprecated use For.parseParams instead\n */\n// @ts-ignore\nPicoString.fromParams = (...args : Parameters<typeof For.parseParams>) : any => {\n    console.warn('Str.fromParams() is deprecated, use For.parseParams() instead.');\n    return For.parseParams(...args);\n};\n\n/**\n * @deprecated use For.filesize instead\n */\n// @ts-ignore\nPicoString.filesize = (...args : Parameters<typeof For.filesize>) : any => {\n    console.warn('Str.filesize() is deprecated, use For.filesize() instead.');\n    return For.filesize(...args);\n};\n\n/**\n * @deprecated not implemented anymore\n */\n// @ts-ignore\nPicoString.real = () : void => {\n    console.error('Str.real() is not implemented anymore.');\n};\n\n/**\n * @deprecated not implemented anymore\n */\n// @ts-ignore\nPicoString.array = () : void => {\n    console.error('Str.array() is not implemented anymore.');\n};\n\nexport default PicoString;","import { Mix, Arr, Hash, Str } from \"../index.esm.ts\";\n\nexport class PicoNumber\n{\n    /**\n     * Format number with decimals\n     *\n     * @example Num.fixed(1.234, 2) // => \"1.23\"\n     * @example Num.fixed(\"2.4\", 0) // => \"2\"\n     *\n     * @param {any} value Number value\n     * @param {number} decimals Decimals count\n     * @returns {string} Fixed string\n     */\n    static fixed(value : any, decimals : number = 2) : string\n    {\n        if ( !Mix.isNum(value) ) {\n            value = Mix.num(value);\n        }\n\n        return value.toFixed(decimals);\n    }\n\n    /**\n     * Parse value as float\n     *\n     * @example Num.float(\"2.2\") // => 2.2\n     * @example Num.float(3) // => 3\n     *\n     * @param {any} value Numeric value\n     * @returns {number} Parsed float\n     */\n    static float(value : any) : number\n    {\n        if ( !Mix.isNum(value) ) {\n            value = Mix.num(value);\n        }\n\n        return parseFloat(value);\n    }\n\n    /**\n     * Parse value as int\n     *\n     * @example Num.int(\"12\") // => 12\n     * @example Num.int(12.9) // => 12\n     *\n     * @param {any} value Numeric value\n     * @returns {number} Parsed int\n     */\n    static int(value : any) : number\n    {\n        if ( !Mix.isNum(value) ) {\n            value = Mix.num(value);\n        }\n\n        return parseInt(value);\n    }\n\n    /**\n     * Round up to integer\n     *\n     * @example Num.ceil(1.1) // => 2\n     * @example Num.ceil(\"2.0\") // => 2\n     *\n     * @param {any} value Numeric value\n     * @returns {number} Ceil value\n     */\n    static ceil(value : any) : number\n    {\n        if ( !Mix.isNum(value) ) {\n            value = Mix.num(value);\n        }\n\n        return Math.ceil(value);\n    }\n\n    /**\n     * Round down to integer\n     *\n     * @example Num.floor(1.9) // => 1\n     * @example Num.floor(\"2.0\") // => 2\n     *\n     * @param {any} value Numeric value\n     * @returns {number} Floor value\n     */\n    static floor(value : any) : number\n    {\n        if ( !Mix.isNum(value) ) {\n            value = Mix.num(value);\n        }\n\n        return Math.floor(value);\n    }\n\n    /**\n     * Round to nearest integer\n     *\n     * @example Num.round(1.5) // => 2\n     * @example Num.round(\"2.2\") // => 2\n     *\n     * @param {any} value Numeric value\n     * @returns {number} Rounded value\n     */\n    static round(value : any) : number\n    {\n        if ( !Mix.isNum(value) ) {\n            value = Mix.num(value);\n        }\n\n        return Math.round(value);\n    }\n\n    /**\n     * Keep value within min and max range\n     *\n     * @example Num.minmax(10, 0, 5) // => 0\n     * @example Num.minmax(-1, 0, 5) // => 5\n     *\n     * @param {any} value Input value\n     * @param {number} [min=0] Minimum value\n     * @param {number} [max=Number.MAX_SAFE_INTEGER] Maximum value\n     * @returns {number} Normalized value\n     */\n    static minmax(value : any, min : number = 0, max : number = Number.MAX_SAFE_INTEGER) : number\n    {\n        value = Mix.num(value);\n\n        if ( value < min ) {\n            value = max;\n        }\n\n        if ( value > max ) {\n            value = min;\n        }\n\n        return Mix.num(value);\n    }\n\n    /**\n     * Sum numbers in list\n     *\n     * @example Num.combine([1, 2]) // => 3\n     * @example Num.combine([5, -2]) // => 3\n     *\n     * @param {number[]} value Number list\n     * @returns {number} Sum value\n     */\n    static combine(value : number[]) : number\n    {\n        return Arr.reduce(value, (acc : number, val : any) => acc + val, 0);\n    }\n\n    /**\n     * Subtract numbers in list\n     *\n     * @example Num.subtract([5, 2]) // => 3\n     * @example Num.subtract([10, 3]) // => 7\n     *\n     * @param {number[]} value Number list\n     * @returns {number} Result value\n     */\n    static subtract(value : number[]) : number\n    {\n        return Arr.reduce(value, (acc : number, val : any) => acc - val, 0);\n    }\n\n    /**\n     * Get decade base (10s)\n     *\n     * @example Num.decade(27) // => 20\n     * @example Num.decade(\"99\") // => 90\n     *\n     * @param {any} value Numeric value\n     * @returns {number} Decade value\n     */\n    static decade(value : any) : number\n    {\n        if ( !Mix.isNum(value) ) {\n            value = Mix.num(value);\n        }\n\n        return Math.floor(value / 10) * 10;\n    }\n\n    /**\n     * Convert number to power-of-2 list\n     *\n     * @example Num.matrix(5) // => [4, 1]\n     * @example Num.matrix(8) // => [8]\n     *\n     * @param {any} num Input number\n     * @param {number[]} [base] Result base\n     * @returns {Array<number>} Power list\n     */\n    static matrix(num : any, base : number[] = []) : Array<number>\n    {\n        if ( !Mix.isNum(num) ) {\n            num = Mix.num(num);\n        }\n\n        let value = 0;\n\n        for ( let i = 20; i >= 0; i-- ) {\n            if ( num >= (value = Math.pow(2, i)) ) {\n                (base.push(value), num -= value);\n            }\n        }\n\n        return base;\n    }\n\n    /**\n     * Calculate distance between coords\n     *\n     * @example Num.distance({lat:0,lng:0},{lat:0,lng:1}) // => number\n     *\n     * @param {any} cord1 First coord\n     * @param {any} cord2 Second coord\n     * @param {boolean} [miles] Return miles if true\n     * @returns {number} Distance value\n     */\n    static distance(cord1 : any, cord2 : any, miles : boolean = false) : number\n    {\n        let cord = { lat: 0, lng: 0 };\n\n        [cord1, cord2] = [\n            { ...cord, ...cord1 }, { ...cord, ...cord2 }\n        ];\n\n        let radlat1 = (Math.PI * this.float(cord1.lat)) / 180;\n        let radlat2 = (Math.PI * this.float(cord2.lat)) / 180;\n\n        let theta = this.float(cord1.lng) - this.float(cord2.lng);\n        let radtheta = (theta) / 180;\n\n        let dist = this.combine([\n            Math.sin(radlat1) * Math.sin(radlat2),\n            Math.cos(radlat1) * Math.cos(radlat2) * Math.cos(radtheta)\n        ]);\n\n        dist = (Math.acos(dist > 1 ? 1 : dist) * 180) /\n            Math.PI * 60 * 1.1515;\n\n        return miles ? dist * 1.609344 : dist;\n    }\n\n}\n\n/**\n * @deprecated use Str.number instead\n */\n// @ts-ignore\nPicoNumber.format = (value : any, ...args : [any, any, any]) : any => {\n    console.warn('Num.format() is deprecated, use Str.number() instead.');\n    return Str.number(value, args[2] || null);\n};\n\n/**\n * @deprecated use Hash.number instead\n */\n// @ts-ignore\nPicoNumber.random = (...args : Parameters<typeof Hash.number>) : any => {\n    console.warn('Num.random() is deprecated, use Hash.number() instead.');\n    return Hash.number(...args);\n};\n\nexport default PicoNumber;","import { Obj, Mix } from \"../index.esm.ts\";\n\nexport class PicoArray\n{\n\n    /**\n     * Wrap value into an array\n     *\n     * @example Arr.all(1) // => [1]\n     * @example Arr.all([1]) // => [1]\n     *\n     * @param {any} value Value to wrap\n     * @returns {Array<any>} Wrapped array\n     */\n    static all(value : any) : Array<any>\n    {\n        return Mix.isArr(value) ? value : [value];\n    }\n\n    /**\n     * Get item at index or fallback\n     *\n     * @example Arr.get([\"a\"], 0) // => \"a\"\n     * @example Arr.get([\"a\"], 9, null) // => null\n     *\n     * @param {any} value Array-like value\n     * @param {number} index Index to read\n     * @param {any} [fallback] Fallback value\n     * @returns {any} Item or fallback\n     */\n    static get(value : any, index : number, fallback : any = null) : any\n    {\n        if ( !Mix.isArr(value) ) {\n            return value;\n        }\n\n        if ( value && value[index] ) {\n            return value[index];\n        }\n\n        return fallback;\n    }\n\n    /**\n     * Set item at index (mutates)\n     *\n     * @example Arr.set([1,2], 0, 9) // => [9,2]\n     *\n     * @param {any} target Target array\n     * @param {number} index Index to set\n     * @param {any} value Value to set\n     * @returns {any} Splice result\n     */\n    static set(target : any, index : number, value : any) : any\n    {\n        return this.splice(target, index, 1, value);\n    }\n\n    /**\n     * Remove item at index (mutates)\n     *\n     * @example Arr.unset([1,2], 0) // => [1]\n     *\n     * @param {any} target Target array\n     * @param {number} index Index to remove\n     * @returns {any} Splice result\n     */\n    static unset(target : any, index : number) : any\n    {\n        return this.splice(target, index, 1);\n    }\n\n    /**\n     * Get previous index\n     *\n     * @example Arr.prev([1,2,3], 0) // => 2\n     *\n     * @param {any} target Target array\n     * @param {number} index Current index\n     * @returns {number} Previous index\n     */\n    static prev(target : any, index : number) : number\n    {\n        if ( Mix.isEmpty(target) || !Mix.isArr(target) ) {\n            return 0;\n        }\n\n        if ( index - 1 < 0 ) {\n            return target.length - 1;\n        }\n\n        return index - 1;\n    }\n\n    /**\n     * Get next index\n     *\n     * @example Arr.next([1,2,3], 2) // => 0\n     *\n     * @param {any} target Target array\n     * @param {number} index Current index\n     * @returns {number} Next index\n     */\n    static next(target : any, index : number) : number\n    {\n        if ( Mix.isEmpty(target) || !Mix.isArr(target) ) {\n            return 0;\n        }\n\n        if ( index + 1 > target.length ) {\n            return 0;\n        }\n\n        return index + 1;\n    }\n\n    /**\n     * Create array with callback values\n     *\n     * @example Arr.make(3) // => [0,1,2]\n     * @example Arr.make(2, \"x\") // => [\"x\",\"x\"]\n     *\n     * @param {number} length Array length\n     * @param {any} [cb] Value or mapper\n     * @returns {Array<any>} Generated array\n     */\n    static make(length : number, cb : any = null) : Array<any>\n    {\n        let result = new Array(length);\n\n        if ( cb == null ) {\n            cb = (i) => i;\n        }\n\n        for ( let i = 0; i < length; i++ ) {\n            result[i] = typeof cb === 'function' ? cb(i) : cb;\n        }\n\n        return result;\n    }\n\n    /**\n     * Check if array has value\n     *\n     * @example Arr.has([1,2], 2) // => true\n     * @example Arr.has([{id:1}], {id:1}) // => true\n     *\n     * @param {any} value List to search\n     * @param {any} search Search value\n     * @returns {boolean} True if found\n     */\n    static has(value : any, search : any) : boolean\n    {\n        if ( !Mix.isPrim(search) ) {\n            return this.findIndex(value, search) !== -1;\n        }\n\n        if ( !Mix.isRef(value) ) {\n            value = [value];\n        }\n\n        if ( !Mix.isArr(value) ) {\n            value = Mix.vals(value);\n        }\n\n        let index = value.findIndex((val : any) => {\n            return val == search;\n        });\n\n        return index !== -1;\n    }\n\n    /**\n     * Get unique values as strings\n     *\n     * @example Arr.unique([\"a\",\"a\"]) // => [\"a\"]\n     *\n     * @param {any[]} value Input list\n     * @returns {Array<any>} Unique list\n     */\n    static unique(value : any[]) : Array<any>\n    {\n        let buffer = {};\n\n        for ( const val of value ) {\n            buffer[val] = true;\n        }\n\n        return Mix.keys(buffer);\n    }\n\n    /**\n     * Check equal lengths for arrays\n     *\n     * @example Arr.lengths([1],[2]) // => true\n     *\n     * @param {any[]} value Base array\n     * @param {[...any[]]} args Other arrays\n     * @returns {boolean} True if equal\n     */\n    static lengths(value : any[], ...args : [...any[]]) : boolean\n    {\n        let length = value.length;\n\n        for ( let i = 0; i < args.length; i++ ) {\n            if ( args[i].length !== length ) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    /**\n     * Get first item or fallback\n     *\n     * @example Arr.first([1,2]) // => 1\n     *\n     * @param {any} value Input array\n     * @param {any} [fallback] Fallback value\n     * @returns {any} First item\n     */\n    static first(value : any, fallback : any = null) : any\n    {\n        return this.get(value, 0, fallback);\n    }\n\n    /**\n     * Get second item or fallback\n     *\n     * @example Arr.second([1,2]) // => 2\n     *\n     * @param {any} value Input array\n     * @param {any} [fallback] Fallback value\n     * @returns {any} Second item\n     */\n    static second(value : any, fallback : any = null) : any\n    {\n        return this.get(value, 2, fallback);\n    }\n\n    /**\n     * Get third item or fallback\n     *\n     * @example Arr.third([1,2,3]) // => 3\n     *\n     * @param {any} value Input array\n     * @param {any} [fallback] Fallback value\n     * @returns {any} Third item\n     */\n    static third(value : any, fallback : any = null) : any\n    {\n        return this.get(value, 2, fallback);\n    }\n\n    /**\n     * Get last item or fallback\n     *\n     * @example Arr.last([1,2]) // => 2\n     *\n     * @param {any} value Input array\n     * @param {any} [fallback] Fallback value\n     * @returns {any} Last item\n     */\n    static last(value : any, fallback : any = null) : any\n    {\n        return this.get(value, value.length - 1, fallback);\n    }\n\n    /**\n     * Map values to new array\n     *\n     * @example Arr.each([1], v => v+1) // => [2]\n     *\n     * @param {any} value Input list\n     * @param {Function} cb Map callback\n     * @param {any} [retval] Forced return\n     * @returns {any} Mapped array\n     */\n    static each(value : any, cb : Function, retval : any = null) : any\n    {\n        if ( Mix.isObj(value) ) {\n            return this.eachObj(value, cb, retval);\n        }\n\n        if ( value == null ) {\n            value = [];\n        }\n\n        let result = new Array(value.length);\n\n        for ( let i = 0; i < value.length; i++ ) {\n            result[i] = cb(value[i], i);\n        }\n\n        return retval != null ? retval : result;\n    }\n\n    /**\n     * Iterate over object keys\n     *\n     * @example Arr.eachObj({a:1}, (v,k) => v+1) // => [2]\n     *\n     * @param {any} value Input object\n     * @param {Function} cb Iterate callback\n     * @param {any} [retval] Return value override\n     * @returns {any} Mapped values or retval\n     */\n    static eachObj(value : any, cb : Function, retval : any = null) : any\n    {\n        if ( Mix.isArr(value) ) {\n            return this.each(value, cb, retval);\n        }\n\n        if ( value == null ) {\n            value = {};\n        }\n\n        let result = Mix.keys(value).map((key) => {\n            return cb(value[key], key);\n        });\n\n        return retval != null ? retval : result;\n    }\n\n    /**\n     * Map values in place (mutates)\n     *\n     * @example Arr.map([1], v => v+1) // => [2]\n     *\n     * @param {any} value Input list\n     * @param {Function} cb Map callback\n     * @returns {any} Mutated input\n     */\n    static map(value : any, cb : Function) : any\n    {\n        let [isArr, keys] = [\n            Mix.isArr(value), Mix.keys(value)\n        ];\n\n        let fn = (key : any) => {\n            return isArr ? parseInt(key) : key;\n        };\n\n        for ( let key of keys ) {\n            value[key] = cb(value[key], fn(key));\n        }\n\n        return value;\n    }\n\n    /**\n     * Recursively map nested arrays\n     *\n     * @example Arr.recursive([{c:[]}], \"c\", () => 1) // => list\n     *\n     * @param {any} value Input list\n     * @param {string} key Child key\n     * @param {Function} cb Node callback\n     * @param {any[]} [cascade] Parent chain\n     * @returns {any} Mapped tree\n     */\n    static recursive(value : any, key : string, cb : Function, cascade : any[] = []) : any\n    {\n        // NIE WIEDER ANFASSEN !!!\n        let fn = (cas : any) => (val : any) => {\n            return this.recursive(val, key, cb, cas);\n        };\n\n        if ( Mix.isArr(value) ) {\n            return this.map(value, fn(cascade));\n        }\n\n        if ( Mix.isObj(value) ) {\n            value = cb(value, cascade) ?? value;\n        }\n\n        cascade = [\n            ...this.clone(cascade), value\n        ];\n\n        if ( value == null ) {\n            return value;\n        }\n\n        if ( Mix.isObj(value[key]) ) {\n            value[key] = fn(cascade)(value[key]);\n        }\n\n        if ( Mix.isArr(value[key]) ) {\n            value[key] = this.map(value[key], fn(cascade));\n        }\n\n        return value;\n    }\n\n    /**\n     * Run callback on cascade\n     *\n     * @example Arr.cascade({a:1, b:[{a:2}]}, \"b\", v => v.a) // => [1, 2]\n     *\n     * @param {any} value Input object\n     * @param {string} childs Child key\n     * @param {Function} cb Callback fn\n     * @param {any[]} [cascade] Initial cascade\n     * @param {any[]} [result] Initial result\n     * @returns {any} Cascade result\n     */\n    static cascade(value : any, childs : string, cb: Function, cascade: any[] = [], result = []) : any\n    {\n        let fn = (cas : any) => (val : any) => {\n            return this.cascade(val, childs, cb, cas, result);\n        };\n\n        if ( Mix.isArr(value) ) {\n            return (this.each(value, fn(cascade)), result);\n        }\n\n        if ( Mix.isObj(value) ) {\n            result.push(cb(value, cascade));\n        }\n\n        cascade = [\n            ...this.clone(cascade), value\n        ];\n\n        if ( value == null ) {\n            return result;\n        }\n\n        if ( Mix.isObj(value[childs]) ) {\n            result.push(fn(cascade)(value[childs]));\n        }\n\n        if ( Mix.isArr(value[childs]) ) {\n            this.each(value[childs], fn(cascade));\n        }\n\n        return result;\n    }\n\n    /**\n     * Find item in cascade\n     *\n     * @example Arr.cascadeFind({a:1, b:[{a:2}]}, \"b\", v => v.a === 2) // => [{...}, {a:2}]\n     *\n     * @param {any} value Input object\n     * @param {string} childs Child key\n     * @param {Function} cb Callback fn\n     * @returns {any} Find result\n     */\n    static cascadeFind(value : any, childs : string, cb : Function) : any\n    {\n        if ( value == null ) {\n            return null;\n        }\n\n        let result = null\n\n        const fn = (val : any, cascade: any[]) => {\n            return cb(val, cascade) ? [...cascade, val] : null;\n        };\n\n        this.cascade(value, childs, (val:any, cascade : any[]) => {\n            if ( result == null ) result = fn(val, cascade);\n        });\n\n        return result;\n    }\n\n    /**\n     * Map items in cascade\n     *\n     * @example Arr.cascadeMap({a:1, b:[{a:2}]}, \"b\", \"a\") // => {1: [1], 2: [1, 2]}\n     *\n     * @param {any} value Input object\n     * @param {string} childs Child key\n     * @param {string} key Map key\n     * @returns {any} Map result\n     */\n    static cascadeMap(value : any, childs : string, key : string) : any\n    {\n        let result = {};\n\n        if ( value == null ) {\n            return result;\n        }\n\n        result = this.cascade(value, childs, (val : any, cascade : any[]) => {\n            return { [val[key]]: [...this.extract(cascade, key), val[key]] };\n        });\n\n        // @ts-ignore\n        return Obj.assign(...result);\n    }\n\n    /**\n     * Get matching indexes by filter\n     *\n     * @example Arr.filterIndex([0,1], v => v) // => [\"1\"]\n     *\n     * @param {any} value Input list\n     * @param {any} [filter] Filter spec\n     * @returns {Array<any>} Matching keys\n     */\n    static filterIndex(value : any, filter : any = null) : Array<any>\n    {\n        if ( value == null ) {\n            return [];\n        }\n\n        if ( filter == null ) {\n            filter = (val : any) => !Mix.isEmpty(val);\n        }\n\n        return Mix.keys(value).filter((key) => {\n\n            if ( Mix.isFunc(filter) ) {\n                return filter.call({}, value[key], key);\n            }\n\n            if ( Mix.isRef(filter) ) {\n                return this.includes(value[key], filter);\n            }\n\n            return filter === value[key];\n        });\n    }\n\n    /**\n     * Remove values matching filter (mutates)\n     *\n     * @example Arr.filterRemove([1,2], 2) // => [1]\n     *\n     * @param {any} value Input list\n     * @param {any} [filter] Filter spec\n     * @returns {any} Mutated list\n     */\n    static filterRemove(value : any, filter : any = null) : any\n    {\n        if ( value == null ) {\n            return value;\n        }\n\n        let indexes = this.filterIndex(value, filter);\n\n        if ( indexes.length === 0 ) {\n            return value;\n        }\n\n        return this.splices(value, indexes);\n    }\n\n    /**\n     * Filter values by filter\n     *\n     * @example Arr.filter([0,1], v => v) // => [1]\n     *\n     * @param {any} value Input list\n     * @param {any} [filter] Filter spec\n     * @returns {Array<any>} Filtered values\n     */\n    static filter(value : any, filter : any = null) : Array<any>\n    {\n        if ( value == null ) {\n            return [];\n        }\n\n        if ( filter == null ) {\n            filter = (val : any) => !Mix.isEmpty(val);\n        }\n\n        return Mix.vals(value).filter((val, key) => {\n\n            if ( Mix.isFunc(filter) ) {\n                return filter.call({}, val, key);\n            }\n\n            if ( Mix.isRef(filter) ) {\n                return this.includes(val, filter);\n            }\n\n            return filter === value[key];\n        });\n    }\n\n    /**\n     * Find index matching filter\n     *\n     * @example Arr.findIndex([1,2], 2) // => 1\n     *\n     * @param {any} value Input array\n     * @param {any} [filter] Filter spec\n     * @param {number} [fallback] Fallback index\n     * @returns {number} Found index\n     */\n    static findIndex(value : any, filter : any = null, fallback : number = -1) : number\n    {\n        if ( value == null ) {\n            return fallback;\n        }\n\n        if ( filter == null ) {\n            filter = (val : any) => !Mix.isEmpty(val);\n        }\n\n        for ( let i = 0; i < value.length; i++ ) {\n\n            if ( Mix.isFunc(filter) ) {\n                if ( filter.call({}, value[i], i) ) {\n                    return i;\n                }\n            }\n\n            if ( Mix.isRef(filter) ) {\n                if ( this.includes(value[i], filter) ) {\n                    return i;\n                }\n            }\n\n            if ( filter === value[i] ) return i;\n        }\n\n        return fallback;\n    }\n\n    /**\n     * Find value matching filter\n     *\n     * @example Arr.find([1,2], 2) // => 2\n     *\n     * @param {any} value Input array\n     * @param {any} [filter] Filter spec\n     * @param {any} [fallback] Fallback value\n     * @returns {any} Found value\n     */\n    static find(value : any, filter : any = null, fallback : any = null) : any\n    {\n        let index = this.findIndex(value, filter);\n\n        if ( index === -1 ) {\n            return fallback;\n        }\n\n        return value[index];\n    }\n\n    /**\n     * Sort array by key or callback\n     *\n     * @example Arr.sort([{n:2},{n:1}], \"n\") // => list\n     *\n     * @param {any} value Input list\n     * @param {any} [key] Key or compare fn\n     * @returns {Array<any>} Sorted list\n     */\n    static sort(value : any, key : any = null) : Array<any>\n    {\n        if ( Mix.isFunc(key) ) {\n            return this.sortFunc(value, key);\n        }\n\n        if ( key != null ) {\n            return this.sortDeep(value, key);\n        }\n\n        return this.sortPrim(value)\n    }\n\n    /**\n     * Sort by compare callback\n     *\n     * @example Arr.sortFunc([2,1], (a,b)=>a-b) // => [1,2]\n     *\n     * @param {any} value Input list\n     * @param {Function} cb Compare callback\n     * @returns {Array<any>} Sorted list\n     */\n    static sortFunc(value : any, cb : Function) : Array<any>\n    {\n        let keys = Mix.keys(value).sort((a, b) => {\n            return cb.call({}, value[a], value[b]);\n        });\n\n        let result = [];\n\n        for ( const key of keys ) {\n            result.push(value[key]);\n        }\n\n        return result;\n    }\n\n    /**\n     * Sort by nested key value\n     *\n     * @example Arr.sortDeep([{a:{n:2}},{a:{n:1}}], \"a.n\") // => list\n     *\n     * @param {any} value Input list\n     * @param {any} key Key path\n     * @returns {Array<any>} Sorted list\n     */\n    static sortDeep(value : any, key : any) : Array<any>\n    {\n        let fn = (val : any) => {\n            return Obj.get(val, key);\n        }\n\n        let keys = Mix.keys(value).sort((a, b) => {\n            return Mix.compare(fn(value[a]), fn(value[b]));\n        });\n\n        let result = [];\n\n        for ( const key of keys ) {\n            result.push(value[key]);\n        }\n\n        return result;\n    }\n\n    /**\n     * Sort by primitive key order\n     *\n     * @example Arr.sortPrim([\"b\",\"a\"]) // => [\"a\",\"b\"]\n     *\n     * @param {any} value Input list\n     * @returns {Array<any>} Sorted list\n     */\n    static sortPrim(value : any) : Array<any>\n    {\n        let keys = Mix.keys(value).sort((a, b) => {\n            return Mix.compare(a, b);\n        });\n\n        let result = [];\n\n        for ( const key of keys ) {\n            result.push(value[key]);\n        }\n\n        return result;\n    }\n\n    /**\n     * Merge arrays (concat)\n     *\n     * @example Arr.merge([1],[2]) // => [1,2]\n     *\n     * @param {any[]} value Base array\n     * @param {[...any[]]} args Arrays to add\n     * @returns {Array<any>} Merged array\n     */\n    static merge(value : any[], ...args : [...any[]]) : Array<any>\n    {\n        return value.concat(...args);\n    }\n\n    /**\n     * Prepend items (mutates)\n     *\n     * @example Arr.prepend([2], 1) // => [1,2]\n     *\n     * @param {any[]} value Target array\n     * @param {[...any[]]} args Items to add\n     * @returns {Array<any>} Mutated array\n     */\n    static prepend(value : any[], ...args : [...any[]]) : Array<any>\n    {\n        return (value.unshift(...args), value);\n    }\n\n    /**\n     * Append items (mutates)\n     *\n     * @example Arr.append([1], 2) // => [1,2]\n     *\n     * @param {any[]} value Target array\n     * @param {[...any[]]} args Items to add\n     * @returns {Array<any>} Mutated array\n     */\n    static append(value : any[], ...args : [...any[]]) : Array<any>\n    {\n        return (value.push(...args), value);\n    }\n\n    /**\n     * Add item if not present\n     *\n     * @example Arr.add([1], 2) // => [1,2]\n     *\n     * @param {any[]} value Target array\n     * @param {any} target Item to add\n     * @param {any} [finder] Finder value\n     * @returns {Array<any>} Mutated array\n     */\n    static add(value : any[], target : any, finder : any = null) : Array<any>\n    {\n        if ( finder == null ) {\n            finder = target;\n        }\n\n        if ( this.findIndex(value, finder) !== -1 ) {\n            return value;\n        }\n\n        return (value.push(target), value);\n    }\n\n    /**\n     * Replace existing item or add\n     *\n     * @example Arr.replace([1], 2) // => [1,2]\n     *\n     * @param {any[]} value Target array\n     * @param {any} target Item to add\n     * @param {any} [finder] Finder value\n     * @returns {Array<any>} Mutated array\n     */\n    static replace(value : any[], target : any, finder : any = null) : Array<any>\n    {\n        if ( finder == null ) {\n            finder = target;\n        }\n\n        let index = this.findIndex(value, finder);\n\n        if ( index !== -1 ) {\n            this.splice(value, index, 1);\n        }\n\n        return (value.push(target), value);\n    }\n\n    /**\n     * Remove item if present\n     *\n     * @example Arr.remove([1,2], 1) // => [2]\n     *\n     * @param {any[]} value Target array\n     * @param {any} target Item to remove\n     * @param {any} [finder] Finder value\n     * @returns {Array<any>} Mutated array\n     */\n    static remove(value : any[], target : any, finder : any = null) : Array<any>\n    {\n        if ( finder == null ) {\n            finder = target;\n        }\n\n        let index = this.findIndex(value, finder);\n\n        if ( index === -1 ) {\n            return value;\n        }\n\n        return (this.splice(value, index, 1), value);\n    }\n\n    /**\n     * Toggle item in array\n     *\n     * @example Arr.toggle([1], 1) // => []\n     * @example Arr.toggle([], 1) // => [1]\n     *\n     * @param {any[]} value Target array\n     * @param {any} target Item to toggle\n     * @param {any} [finder] Finder value\n     * @returns {Array<any>} Mutated array\n     */\n    static toggle(value : any[], target : any, finder : any = null) : Array<any>\n    {\n        if ( finder == null ) {\n            finder = target;\n        }\n\n        let index = this.findIndex(value, finder);\n\n        if ( index === -1 ) {\n            return (value.push(target), value);\n        }\n\n        return (this.splice(value, index, 1), value);\n    }\n\n    /**\n     * Insert item at index (mutates)\n     *\n     * @example Arr.insert([1,3], 1, 2) // => [1,2,3]\n     *\n     * @param {any[]} value Target array\n     * @param {number} index Insert index\n     * @param {any} target Item to insert\n     * @returns {Array<any>} Mutated array\n     */\n    static insert(value : any[], index : number, target : any) : Array<any>\n    {\n        return (this.splice(value, index, 0, target), value);\n    }\n\n    /**\n     * Slice array from index\n     *\n     * @example Arr.slice([1,2,3], 1, 2) // => [2,3]\n     *\n     * @param {any[]} value Source array\n     * @param {any} index Start index\n     * @param {number} [length] Slice length\n     * @returns {Array<any>} Sliced array\n     */\n    static slice(value : any[], index : any, length : number = 1) : Array<any>\n    {\n        return value.slice(Mix.num(index), length);\n    }\n\n    /**\n     * Splice array (mutates)\n     *\n     * @example Arr.splice([1,2], 0, 1) // => [1]\n     *\n     * @param {any[]} value Target array\n     * @param {any} index Start index\n     * @param {number} [length] Remove count\n     * @param {[...any]} args Items to add\n     * @returns {Array<any>} Splice result\n     */\n    static splice(value : any[], index : any, length : number = 1, ...args : [...any]) : Array<any>\n    {\n        return value.splice(Mix.num(index), length, ...args);\n    }\n\n    /**\n     * Splice multiple indexes\n     *\n     * @example Arr.splices([1,2,3],[0,2]) // => [2]\n     *\n     * @param {any[]} value Target array\n     * @param {any[]} indexies Index list\n     * @param {number} [length] Remove count\n     * @returns {Array<any>} Mutated array\n     */\n    static splices(value : any[], indexies : any[], length : number = 1) : Array<any>\n    {\n        this.each(indexies, (index : number) => {\n            this.splice(value, index, length);\n        });\n\n        return value;\n    }\n\n    /**\n     * Deep clone array/object\n     *\n     * @example Arr.clone([1,{a:1}]) // => new array\n     *\n     * @param {any} value Value to clone\n     * @returns {any} Cloned value\n     */\n    static clone(value : any) : any\n    {\n        if ( Mix.isPrim(value) ) {\n            return value;\n        }\n\n        if ( Mix.isObj(value) ) {\n            return Obj.clone(value);\n        }\n\n        if ( !Mix.isArr(value) ) {\n            return value;\n        }\n\n        let result = new Array(value.length);\n\n        for ( let i = 0; i < value.length; i++ ) {\n            result[i] = this.clone(value[i]);\n        }\n\n        return result;\n    }\n\n    /**\n     * Get items not in others\n     *\n     * @example Arr.diff([1,2],[2]) // => [1]\n     *\n     * @param {[...any[]]} args Arrays to diff\n     * @returns {Array<any>} Difference list\n     */\n    static diff(...args : [...any[]]) : Array<any>\n    {\n        return args.reduce((a, c) => {\n            return a.filter((i : any) => !c.includes(i))\n        });\n    }\n\n    /**\n     * @see PicoArray.diff\n     */\n    static diffrence = PicoArray.diff;\n\n    /**\n     * Get intersecting items\n     *\n     * @example Arr.isect([1,2],[2,3]) // => [2]\n     *\n     * @param {[...any[]]} args Arrays to intersect\n     * @returns {Array<any>} Intersection list\n     */\n    static isect(...args : [...any[]]) : Array<any>\n    {\n        return args.reduce((a, c) => {\n            return a.filter((i : any) => c.includes(i))\n        });\n    }\n\n    /**\n     * @see PicoArray.diff\n     */\n    static intersect = PicoArray.isect;\n\n    /**\n     * Extract property values from list\n     *\n     * @example Arr.extract([{id:1}], \"id\") // => [1]\n     *\n     * @param {any[]} value Input list\n     * @param {any} key Key path\n     * @returns {Array<any>} Extracted list\n     */\n    static extract(value : any, key : any) : Array<any>\n    {\n        let result = new Array(value.length);\n\n        for ( let i = 0; i < value.length; i++ ) {\n            result[i] = Obj.get(value[i], key);\n        }\n\n        return result;\n    }\n\n    /**\n     * Reduce list values\n     *\n     * @example Arr.reduce([1,2], (a,c)=>a+c, 0) // => 3\n     *\n     * @param {any} value Input list\n     * @param {Function} callback Reducer callback\n     * @param {any} accumulator Start value\n     * @returns {any} Reduced value\n     */\n    static reduce(value : any, callback : Function, accumulator : any) : any\n    {\n        // @ts-ignore\n        return Mix.vals(value).reduce(callback, accumulator);\n    }\n\n    /**\n     * Split array into chunks\n     *\n     * @example Arr.chunk([1,2,3], 2) // => [[1,2],[3]]\n     *\n     * @param {any[]} value Source array\n     * @param {number} [chunk] Chunk size\n     * @returns {Array<any[]>} Chunked list\n     */\n    static chunk(value : any[], chunk : number = 10) : Array<any[]>\n    {\n        let res = [];\n\n        for ( let i = 0; i < value.length; i += chunk ) {\n            res.push(value.slice(i, i + chunk));\n        }\n\n        return res;\n    }\n\n    /**\n     * Check if value includes search\n     *\n     * @example Arr.includes([1,2], 2) // => true\n     * @example Arr.includes([{a:1}], {a:1}) // => true\n     *\n     * @param {any} value Target value\n     * @param {any} search Search spec\n     * @returns {boolean} True if includes\n     */\n    static includes(value : any, search : any) : boolean\n    {\n        if ( Mix.isObj(search) ) {\n            return Obj.includes(value, search);\n        }\n\n        if ( !Mix.isArr(search) ) {\n            return value === search;\n        }\n\n        let [result, length] = [\n            false, search.length,\n        ];\n\n        if ( length === 0 ) {\n            return true;\n        }\n\n        for ( let i = 0; result === false && i < length; i++ ) {\n            result ||= this.has(value, search[i]);\n        }\n\n        return result;\n    }\n\n    /**\n     * Check array contains all values\n     *\n     * @example Arr.contains([1,2], [2]) // => true\n     *\n     * @param {any} arr Target array\n     * @param {any} val Required values\n     * @returns {boolean} True if contains\n     */\n    static contains(arr : any, val : any) : boolean\n    {\n        let result = true;\n\n        for ( let key of Mix.vals(val) ) {\n            result &&= Mix.vals(arr).indexOf(key) !== -1;\n        }\n\n        return result;\n    }\n\n    /**\n     * Check arrays match (set-like)\n     *\n     * @example Arr.matches([1,2], [2,1]) // => true\n     *\n     * @param {any} value Target list\n     * @param {any} search Search spec\n     * @returns {boolean} True if matches\n     */\n    static matches(value : any, search : any) : boolean\n    {\n        if ( Mix.isObj(search) ) {\n            return Obj.matches(value, search);\n        }\n\n        if ( !Mix.isArr(value) ) {\n            return value === search;\n        }\n\n        search = this.unique(search);\n\n        let [result, length] = [\n            true, search.length,\n        ];\n\n        if ( value.length !== search.length ) {\n            return false;\n        }\n\n        for ( let i = 0; result === true && i < length; i++ ) {\n            result &&= this.has(value, search[i]);\n        }\n\n        return result;\n    }\n\n}\n\n/**\n * @deprecated use Arr.unset instead\n */\n// @ts-ignore\nPicoArray.removeIndex = (...args : Parameters<typeof PicoArray.unset>) : any => {\n    console.warn('Arr.removeIndex() is deprecated, use Arr.unset() instead.');\n    return PicoArray.unset(...args);\n};\n\n/**\n * @deprecated use Arr.sortPrim instead\n */\n// @ts-ignore\nPicoArray.sortString = (...args : Parameters<typeof PicoArray.sortPrim>) : any => {\n    console.warn('Arr.sortString() is deprecated, use Arr.sortPrim() instead.');\n    return PicoArray.sortPrim(...args);\n};\n\n/**\n * @deprecated use Arr.append instead\n */\n// @ts-ignore\nPicoArray.push = (...args : Parameters<typeof PicoArray.append>) : any => {\n    console.warn('Arr.push() is deprecated, use Arr.append() instead.');\n    return PicoArray.append(...args);\n};\n\n/**\n * @deprecated use Arr.merge instead\n */\n// @ts-ignore\nPicoArray.concat = (...args : Parameters<typeof PicoArray.merge>) : any => {\n    console.warn('Arr.concat() is deprecated, use Arr.merge() instead.');\n    return PicoArray.merge(...args);\n};\n\n/**\n * @deprecated use Arr.matches instead\n */\n// @ts-ignore\nPicoArray.equal = (...args : Parameters<typeof PicoArray.matches>) : any => {\n    console.warn('Arr.equal() is deprecated, use Arr.matches() instead.');\n    return PicoArray.matches(...args);\n};\n\nexport default PicoArray;","import { Mix, Arr } from \"../index.esm.ts\";\n\nexport class PicoObject\n{\n    /**\n     * Normalize key path to array\n     *\n     * @example Obj.keyoptim(\"a.b\") // => [\"a\",\"b\"]\n     * @example Obj.keyoptim([\"a\",\"b\"]) // => [\"a\",\"b\"]\n     *\n     * @param {any} keys Key path\n     * @param {boolean} [flatten] Flatten keys\n     * @param {boolean} [isstr] Is string flag\n     * @returns {Array<any>} Key segments\n     */\n    static keyoptim(keys : any, flatten : boolean = false, isstr : boolean = null) : Array<any>\n    {\n        if ( isstr === null ) {\n            isstr = Mix.isStr(keys);\n        }\n\n        if ( !isstr && flatten ) {\n            keys = keys.join('.');\n        }\n\n        return isstr || flatten ? keys.split('.') : keys;\n    }\n\n    /**\n     * Check if nested key exists\n     *\n     * @example Obj.has({a:{b:1}}, \"a.b\") // => true\n     * @example Obj.has({a:{}}, \"a.b\") // => false\n     *\n     * @param {any} target Target object\n     * @param {any} keys Key path\n     * @param {boolean} [flatten] Flatten keys\n     * @returns {boolean} True if exists\n     */\n    static has(target : any, keys : any, flatten : boolean = false) : boolean\n    {\n        if ( target == null || keys == null ) {\n            return false;\n        }\n\n        if ( typeof keys === 'number' ) {\n            keys = Mix.str(keys);\n        }\n\n        const isstr = typeof keys === 'string';\n\n        if ( isstr && target && target[keys] !== undefined ) {\n            return target[keys] !== undefined;\n        }\n\n        keys = this.keyoptim(keys, flatten, isstr);\n\n        let [list, index, length] = [\n            keys.pop(), 0, keys.length\n        ];\n\n        if ( length === 0 ) {\n            return target[list] !== undefined;\n        }\n\n        while (target != null && index < length) {\n            target = target[keys[index++]];\n        }\n\n        if ( target == null ) {\n            return false;\n        }\n\n        return target[list] !== undefined;\n\n    }\n\n    /**\n     * Get nested value or fallback\n     *\n     * @example Obj.get({a:{b:1}}, \"a.b\") // => 1\n     * @example Obj.get({}, \"a.b\", null) // => null\n     *\n     * @param {any} target Target object\n     * @param {any} keys Key path\n     * @param {any} [fallback] Fallback value\n     * @param {boolean} [flatten] Flatten keys\n     * @returns {any} Nested value\n     */\n    static get(target : any, keys : any, fallback : any = null, flatten : boolean = false) : any\n    {\n        if ( target == null || keys == null ) {\n            return fallback;\n        }\n\n        if ( typeof keys === 'number' ) {\n            keys = Mix.str(keys);\n        }\n\n        const isstr = typeof keys === 'string';\n\n        if ( isstr && target && target[keys] !== undefined ) {\n            return target[keys];\n        }\n\n        keys = this.keyoptim(keys, flatten, isstr);\n\n        let index = 0, length = keys.length;\n\n        if ( length === 0 ) {\n            return fallback;\n        }\n\n        while (target != null && index < length) {\n            target = target[keys[index++]];\n        }\n\n        if ( target == null ) {\n            return fallback;\n        }\n\n        return target;\n    }\n\n    /**\n     * Set nested value (mutates)\n     *\n     * @example Obj.set({}, \"a.b\", 1) // => object\n     * @example Obj.set({}, [\"a\",\"b\"], 1) // => object\n     *\n     * @param {any} target Target object\n     * @param {any} keys Key path\n     * @param {any} value Value to set\n     * @param {boolean} [flatten] Flatten keys\n     * @returns {any} Mutated target\n     */\n    static set(target : any, keys : any, value : any, flatten : boolean = false) : any\n    {\n        if ( keys == null ) {\n            return target;\n        }\n\n        if ( typeof keys === 'number' ) {\n            keys = Mix.str(keys);\n        }\n\n        const isstr = typeof keys === 'string';\n\n        if ( isstr && target && target[keys] !== undefined ) {\n            return (target[keys] = value, target);\n        }\n\n        keys = this.keyoptim(keys, flatten, isstr);\n\n        if ( keys.length === 0 ) {\n            return target;\n        }\n\n        let nested = target;\n\n        for ( let mod : any, src : any, i = 0; i < keys.length; i++ ) {\n\n            mod = src = String(keys[i]);\n\n            if ( src.indexOf('[]') !== -1 ) {\n                mod = src.replace('[]', '');\n            }\n\n            if ( nested[mod] == null ) {\n                nested[mod] = mod === src ? {} : [];\n            }\n\n            if ( mod !== src ) {\n                Arr.insert(keys, i + 1, nested[mod].length);\n            }\n\n            if ( keys.length - 1 === i ) {\n                nested[mod] = value;\n            }\n\n            nested = nested[mod];\n        }\n\n        return target;\n    }\n\n    /**\n     * Unset nested value (mutates)\n     *\n     * @example Obj.unset({a:{b:1}}, \"a.b\")\n     * @example Obj.unset({a:{b:1}}, [\"a\",\"b\"])\n     *\n     * @param {any} target Target object\n     * @param {any} keys Key path\n     * @param {boolean} [flatten] Flatten keys\n     * @returns {any} Mutated target\n     */\n    static unset(target : any, keys : any, flatten : boolean = false) : any\n    {\n        if ( keys == null ) {\n            return target;\n        }\n\n        if ( typeof keys === 'number' ) {\n            keys = Mix.str(keys);\n        }\n\n        const isstr = typeof keys === 'string';\n\n        if ( isstr && target && target[keys] !== undefined ) {\n            return (delete target[keys], target);\n        }\n\n        keys = this.keyoptim(keys, flatten, isstr);\n\n        let [list, index, length, nested] = [\n            keys.pop(), 0, keys.length, target\n        ];\n\n        if ( length === 0 ) {\n            return target;\n        }\n\n        while (nested != null && index < length) {\n            nested = nested[keys[index++]];\n        }\n\n        if ( nested == null ) {\n            return target;\n        }\n\n        return (delete nested[list], target);\n    }\n\n    /**\n     * Check if nested value is empty\n     *\n     * @example Obj.empty({a:null}, \"a\") // => true\n     * @example Obj.empty({a:1}, \"a\") // => false\n     *\n     * @param {any} target Target object\n     * @param {any} key Key path\n     * @returns {boolean} True if empty\n     */\n    static empty(target : any, key : any) : boolean\n    {\n        return Mix.isEmpty(this.get(target, key));\n    }\n\n    /**\n     * Unset multiple keys (mutates)\n     *\n     * @example Obj.remove({a:1,b:2}, [\"a\"]) // => object\n     *\n     * @param {any} target Target object\n     * @param {any} keys Keys list\n     * @returns {any} Mutated target\n     */\n    static remove(target, keys)\n    {\n        if ( !Mix.isArr(keys) ) {\n            return target;\n        }\n\n        for ( let key of keys ) {\n            this.unset(target, key);\n        }\n\n        return target;\n    }\n\n    /**\n     * Map object values to object\n     *\n     * @example Obj.each({a:1}, v => v+1) // => {a:2}\n     *\n     * @param {any} value Source object\n     * @param {Function} cb Map callback\n     * @param {any} [retval] Forced return\n     * @returns {any} Mapped object\n     */\n    static each(value : any, cb : Function, retval : any = null) : any\n    {\n        let result = {};\n\n        for ( let key of Mix.keys(value) ) {\n            result[key] = cb(value[key], key);\n        }\n\n        if ( retval != null ) {\n            return retval;\n        }\n\n        return result;\n    }\n\n    /**\n     * Map object values to object\n     *\n     * @example Obj.map({a:1}, v => v+1) // => {a:2}\n     *\n     * @param {any} value Source object\n     * @param {Function} cb Map callback\n     * @returns {Record<string, any>} Mapped object\n     */\n    static map(value : any, cb : Function) : Record<string, any>\n    {\n        for ( let key of Mix.keys(value) ) {\n            value[key] = cb(value[key], key);\n        }\n\n        return value;\n    }\n\n    /**\n     * Get filtered key indexes\n     *\n     * @example Obj.filterIndex({a:1,b:null}) // => [\"a\"]\n     *\n     * @param {any} value Source object\n     * @param {any} [filter] Filter spec\n     * @returns {Array<any>} Key list\n     */\n    static filterIndex(value : any, filter : any = null) : Array<any>\n    {\n        return Arr.filterIndex(value, filter);\n    }\n\n    /**\n     * Filter object by key filter\n     *\n     * @example Obj.filter({a:1,b:null}) // => {a:1}\n     *\n     * @param {any} value Source object\n     * @param {any} [filter] Filter spec\n     * @returns {Record<string, any>} Filtered object\n     */\n    static filter(value : any, filter : any = null) : Record<string, any>\n    {\n        let result = {};\n\n        for ( let key of this.filterIndex(value, filter) ) {\n            result[key] = value[key];\n        }\n\n        return result;\n    }\n\n    /**\n     * Flatten object into dot keys\n     *\n     * @example Obj.flatten({a:{b:1}}) // => {\"a.b\":1}\n     *\n     * @param {any} value Source object\n     * @param {string} [prefix] Key prefix\n     * @param {any} [result] Result map\n     * @returns {Record<string, any>} Flat map\n     */\n    static flatten(value : any, prefix : string = '', result : any = {}) : Record<string, any>\n    {\n        if ( typeof value !== 'object' ) {\n            return result[prefix] = value;\n        }\n\n        if ( prefix !== '' ) {\n            prefix += '.';\n        }\n\n        for ( let key of Mix.keys(value) ) {\n            this.flatten(value[key], prefix + key, result);\n        }\n\n        return result;\n    }\n\n    /**\n     * Flatten object into form keys\n     *\n     * @example Obj.flattenForm({a:{b:1}}) // => {\"a[b]\":1}\n     *\n     * @param {any} value Source object\n     * @param {string} [prefix] Key prefix\n     * @param {any} [result] Result map\n     * @returns {Record<string, any>} Flat map\n     */\n    static flattenForm(value : any, prefix : string = '', result : any = {}) : Record<string, any>\n    {\n        if ( typeof value !== 'object' ) {\n            return result[prefix] = value;\n        }\n\n        let fn = (key : any) => {\n            return prefix ? `${prefix}[${key}]` : key;\n        };\n\n        for ( let key of Mix.keys(value) ) {\n            this.flattenForm(value[key], fn(key), result);\n        }\n\n        return result;\n    }\n\n    /**\n     * Unpack dotted keys into object\n     *\n     * @example Obj.unpack({\"a.b\":1}) // => {a:{b:1}}\n     *\n     * @param {any} value Flat key map\n     * @param {any} [result] Result object\n     * @returns {any} Unpacked object\n     */\n    static unpack(value : any, result : any = {}) : any\n    {\n        Arr.each(Mix.keys(value), (key : any) => {\n            this.set(result, key, value[key]);\n        });\n\n        return result;\n    }\n\n    /**\n     * Assign objects (Object.assign)\n     *\n     * @example Obj.assign({}, {a:1}) // => {a:1}\n     *\n     * @param {[...any]} args Assign args\n     * @returns {any} Assigned object\n     */\n    static assign(...args : [...any]) : any\n    {\n        // @ts-ignore\n        return Object.assign(...args);\n    }\n\n    /**\n     * Deep clone primitive/array/object\n     *\n     * @example Obj.clone({a:{b:1}}) // => new object\n     *\n     * @param {any} value Value to clone\n     * @param {any} [merge] Merge values\n     * @returns {any} Cloned value\n     */\n    static clone(value : any, merge : any = null) : any\n    {\n        if ( Mix.isPrim(value) ) {\n            return value;\n        }\n\n        if ( Mix.isArr(value) ) {\n            return Arr.clone(value);\n        }\n\n        if ( !Mix.isObj(value) ) {\n            return value;\n        }\n\n        let result = {};\n\n        for ( let key of Mix.keys(value) ) {\n            result[key] = this.clone(value[key]);\n        }\n\n        if ( merge != null ) {\n            return this.assign(result, merge);\n        }\n\n        return result;\n    }\n\n    /**\n     * Get and remove nested value\n     *\n     * @example Obj.pluck({a:1}, \"a\") // => 1\n     *\n     * @param {any} value Source object\n     * @param {any} key Key path\n     * @param {any} [fallback] Fallback value\n     * @returns {any} Plucked value\n     */\n    static pluck(value : any, key : any, fallback : any = null) : any\n    {\n        let result = this.get(value, key, fallback);\n\n        this.unset(value, key);\n\n        return result;\n    }\n\n    /**\n     * Pick only given keys\n     *\n     * @example Obj.only({a:1,b:2}, [\"a\"]) // => {a:1}\n     *\n     * @param {any} value Source object\n     * @param {string[]} keys Allowed keys\n     * @param {any} [merge] Merge values\n     * @returns {any} Picked object\n     */\n    static only(value : any, keys : string[], merge : any = null) : any\n    {\n        let result = {};\n\n        this.each(value, (val : any, key : any) => {\n            if ( Arr.has(keys, key) ) result[key] = val;\n        });\n\n        if ( merge == null ) {\n            return result;\n        }\n\n        return this.assign(result, merge);\n    }\n\n    /**\n     * Pick all keys except given\n     *\n     * @example Obj.except({a:1,b:2}, [\"a\"]) // => {b:2}\n     *\n     * @param {any} value Source object\n     * @param {string[]} keys Excluded keys\n     * @param {any} [merge] Merge values\n     * @returns {any} Picked object\n     */\n    static except(value : any, keys : string[], merge : any = null) : any\n    {\n        let result = {};\n\n        this.each(value, (val, key) => {\n            if ( !Arr.has(keys, key) ) result[key] = val;\n        });\n\n        if ( merge == null ) {\n            return result;\n        }\n\n        return this.assign(result, merge);\n    }\n\n    /**\n     * Check if value includes search\n     *\n     * @example Obj.includes({a:1}, {a:1}) // => true\n     * @example Obj.includes({a:1}, {a:2}) // => false\n     *\n     * @param {any} value Source value\n     * @param {any} search Search spec\n     * @returns {boolean} True if includes\n     */\n    static includes(value : any, search : any) : boolean\n    {\n        if ( Mix.isArr(search) ) {\n            return Arr.includes(value, search);\n        }\n\n        if ( !Mix.isObj(search) ) {\n            return value === search;\n        }\n\n        let keys = Mix.keys(search);\n\n        let [result, length] = [\n            true, keys.length,\n        ];\n\n        for ( let i = 0; result === true && i < length; i++ ) {\n            result = this.includes(...[\n                value[keys[i]], search[keys[i]]\n            ]);\n        }\n\n        return result;\n    }\n\n    /**\n     * Check if value matches search\n     *\n     * @example Obj.matches({a:1}, {a:1}) // => true\n     * @example Obj.matches({a:1}, {b:1}) // => false\n     *\n     * @param {any} value Source value\n     * @param {any} search Search spec\n     * @returns {boolean} True if matches\n     */\n    static matches(value : any, search : any) : boolean\n    {\n        if ( Mix.isArr(search) ) {\n            return Arr.matches(value, search);\n        }\n\n        if ( !Mix.isObj(value) ) {\n            return value === search;\n        }\n\n        let keys = Arr.unique([\n            ...Mix.keys(search), ...Mix.keys(value)\n        ]);\n\n        let [result, length] = [\n            true, keys.length,\n        ];\n\n        for ( let i = 0; result === true && i < length; i++ ) {\n            result &&= this.matches(...[\n                value[keys[i]], search[keys[i]]\n            ]);\n        }\n\n        return result;\n    }\n\n    /**\n     * Sort object entries by key\n     *\n     * @example Obj.sort({b:1,a:2}, \"key\") // => [{_key:\"a\",...},{_key:\"b\",...}]\n     *\n     * @param {any} value Input object\n     * @param {string} key Sort key\n     * @returns {any} Sorted result\n     */\n    static sort(value : any, key : string) : any\n    {\n        let result = Arr.sort(value, key);\n\n        Arr.each(result, (val : any, key : any) => {\n            value[key]['_key'] = key;\n        });\n\n        return result;\n    }\n\n}\n\n/**\n * @deprecated use Obj.sort instead\n */\n// @ts-ignore\nPicoObject.sortString = (...args : Parameters<typeof PicoObject.sort>) : any => {\n    console.warn('Obj.sortString() is deprecated, use Obj.sort() instead.');\n    return PicoObject.sort(...args);\n};\n\n/**\n * @deprecated use Mix.vals instead\n */\n// @ts-ignore\nPicoObject.values = (...args : Parameters<typeof Mix.vals>) : any => {\n    console.warn('Obj.values() is deprecated, use Mix.vals() instead.');\n    return Mix.vals(...args);\n};\n\n/**\n * @deprecated use Arr.find instead\n */\n// @ts-ignore\nPicoObject.find = (...args : Parameters<typeof Arr.find>) : any => {\n    console.warn('Obj.find() is deprecated, use Arr.find() instead.');\n    return Arr.find(...args);\n};\n\n/**\n * @deprecated use Arr.findIndex instead\n */\n// @ts-ignore\nPicoObject.findIndex = (...args : Parameters<typeof Arr.findIndex>) : any => {\n    console.warn('Obj.findIndex() is deprecated, use Arr.findIndex() instead.');\n    return Arr.findIndex(...args);\n};\n\nexport default PicoObject;","import { go, Arr, Mix, Run, Locale, Str, Obj } from \"../index.esm.ts\";\n\nexport const MIX_REGEX = {\n    'iso': /^\\d{4}-\\d{2}-\\d{2}[T\\s]\\d{2}:\\d{2}:\\d{2}(?:\\.\\d+)?(?:Z|[+-]\\d{2}:\\d{2})$/,\n};\n\nexport class PicoMixed\n{\n    /**\n     * Check if the value is empty\n     *\n     * @example Mix.isEmpty('') // => true\n     * @example Mix.isEmpty(null) // => true\n     * @example Mix.isEmpty([]) // => true\n     * @example Mix.isEmpty({}) // => true\n     * @example Mix.isEmpty(false) // => false\n     *\n     * @param {any} value The value to test\n     * @returns {boolean} Returns true if value is not empty\n     */\n    static isEmpty(value : any) : boolean\n    {\n        if ( value == null ) {\n            return true;\n        }\n\n        if ( typeof value === 'string' ) {\n            return value === '';\n        }\n\n        if ( typeof value === 'number' ) {\n            return false;\n        }\n\n        if ( typeof value === 'boolean' ) {\n            return false;\n        }\n\n        if ( this.isArr(value) ) {\n            return value.length === 0;\n        }\n\n        return this.len(value) === 0;\n    }\n\n    /**\n     * Check if the value is null\n     *\n     * @example Mix.isNull(null) // => true\n     * @example Mix.isNull(undefined) // => false\n     * @example Mix.isNull(0) // => false\n     * @example Mix.isNull('') // => false\n     *\n     * @param {any} value The value to test\n     * @returns {boolean} Return true if null\n     */\n    static isNull(value : any) : boolean\n    {\n        return value === null;\n    }\n\n    /**\n     * Check if the value is undefined\n     *\n     * @example Mix.isUndef(undefined) // => true\n     * @example Mix.isUndef(null) // => false\n     * @example Mix.isUndef(0) // => false\n     * @example Mix.isUndef('') // => false\n     *\n     * @param {any} value The value to test\n     * @returns {boolean} Return true if undefined\n     */\n    static isUndef(value : any) : boolean\n    {\n        return value === undefined;\n    }\n\n    /**\n     * Check if the value is null or undefined\n     *\n     * @example Mix.isNix(null) // => true\n     * @example Mix.isNix(undefined) // => true\n     * @example Mix.isNix(0) // => false\n     * @example Mix.isNix('') // => false\n     *\n     * @param {any} value The value to test\n     * @returns {boolean} Return true if null or undefined\n     */\n    static isNix(value : any) : boolean\n    {\n        return value === undefined || value === null;\n    }\n\n    /**\n     * Check if the value is string or number\n     *\n     * @example Mix.isPrim('foo') // => true\n     * @example Mix.isPrim(2.2) // => true\n     * @example Mix.isPrim([]) // => false\n     * @example Mix.isPrim(null) // => false\n     *\n     * @param {any} value The value to test\n     * @returns {boolean} Return true if typeof string or number\n     */\n    static isPrim(value : any) : boolean\n    {\n        return typeof value === 'string' || typeof value === 'number';\n    }\n\n    /**\n     * @see PicoMixed.isPrim\n     */\n    static isPrimitive = PicoMixed.isPrim;\n\n    /**\n     * Check if the value is a string\n     *\n     * @example Mix.isStr('foo') // => true\n     * @example Mix.isStr(1) // => false\n     *\n     * @param {any} value The value to test\n     * @returns {boolean} Return true if is string\n     */\n    static isStr(value : any) : boolean\n    {\n        return typeof value === 'string';\n    }\n\n    /**\n     * @see PicoMixed.isStr\n     */\n    static isString = PicoMixed.isStr;\n\n    /**\n     * Check if the value is a number\n     *\n     * @example Mix.isNum(12.2) // => true\n     * @example Mix.isNum('-4.3') // => true\n     * @example Mix.isNum('13f') // => false\n     *\n     * @param {any} value The value to test\n     * @returns {boolean} Return true if is number\n     */\n    static isNum(value : any) : boolean\n    {\n        if ( typeof value === 'number' ) {\n            return true;\n        }\n\n        if ( this.isStr(value) ) {\n            return /^-?[0-9]+(\\.[0-9]+)?$/.test(value);\n        }\n\n        return false;\n    }\n\n    /**\n     * @see PicoMixed.isNum\n     */\n    static isNumber = PicoMixed.isNum;\n\n    /**\n     * Check if the value is an integer\n     *\n     * @example Mix.isInt(12) // => true\n     * @example Mix.isInt('4') // => true\n     * @example Mix.isInt('-4.3') // => false\n     * @example Mix.isInt(3.4) // => false\n     *\n     * @param {any} value The value to test\n     * @returns {boolean} Return true if is integer\n     */\n    static isInt(value : any) : boolean\n    {\n        if ( !this.isNum(value) ) {\n            return false;\n        }\n\n        if ( this.isStr(value) ) {\n            return /^-?[0-9]+$/.test(value);\n        }\n\n        return parseInt(value) === parseFloat(value);\n    }\n\n    /**\n     * @see PicoMixed.isInt\n     */\n    static isInteger = PicoMixed.isInt;\n\n    /**\n     * Check if the value is a boolean\n     *\n     * @example Mix.isBool(false) // => true\n     * @example Mix.isBool('true') // => true\n     * @example Mix.isBool(1) // => false\n     * @example Mix.isBool('1') // => false\n     *\n     * @param {any} value The value to test\n     * @returns {boolean} Return true if is boolean\n     */\n    static isBool(value : any) : boolean\n    {\n        if ( typeof value === 'boolean' ) {\n            return true;\n        }\n\n        if ( this.isStr(value) ) {\n            return /^(true|false)$/.test(value);\n        }\n\n        return false;\n    }\n\n    /**\n     * @see PicoMixed.isBool\n     */\n    static isBoolean = PicoMixed.isBool;\n\n    /**\n     * Check if the value is a function\n     *\n     * @example Mix.isFunc(() => {}) // => true\n     * @example Mix.isFunc(Mix.isFunc) // => true\n     * @example Mix.isFunc({}) // => false\n     * @example Mix.isFunc('1') // => false\n     *\n     * @param {any} value The value to test\n     * @returns {boolean} Return true if is function\n     */\n    static isFunc(value : any) : boolean\n    {\n        return typeof value === 'function';\n    }\n\n    /**\n     * @see PicoMixed.isFunc\n     */\n    static isFunction = PicoMixed.isFunc;\n\n    /**\n     * Check if the value is object\n     *\n     * @example Mix.isRef({}) // => true\n     * @example Mix.isRef([]) // => true\n     * @example Mix.isRef(() => {}) // => false\n     * @example Mix.isRef(null) // => false\n     * @example Mix.isRef(undefined) // => false\n     *\n     * @param {any} value The value to test\n     * @returns {boolean} Returns true if is an object\n     */\n    static isRef(value : any) : boolean\n    {\n        if ( value == null ) {\n            return false;\n        }\n\n        return typeof value === 'object';\n    }\n\n    /**\n     * @see PicoMixed.isRef\n     */\n    static isReference = PicoMixed.isRef;\n\n    /**\n     * Check if the value is plain object\n     *\n     * @example Mix.isObj({}) // => true\n     * @example Mix.isObj([]) // => false\n     *\n     * @param {any} value The value to test\n     * @returns {boolean} Returns true if is plain object\n     */\n    static isObj(value : any) : boolean\n    {\n        if ( value == null ) {\n            return false;\n        }\n\n        return typeof value === 'object' && value.constructor === Object;\n    }\n\n    /**\n     * @see PicoMixed.isObj\n     */\n    static isObject = PicoMixed.isObj;\n\n    /**\n     * Check if the value is array object\n     *\n     * @example Mix.isArr([]) // => true\n     * @example Mix.isArr({}) // => false\n     *\n     * @param {any} value The Value to test\n     * @returns {boolean} Returns true if is array object\n     */\n    static isArr(value : any) : boolean\n    {\n        if ( value == null ) {\n            return false;\n        }\n\n        return typeof value === 'object' && value.constructor === Array;\n    }\n\n    /**\n     * @see PicoMixed.isArr\n     */\n    static isArray = PicoMixed.isArr;\n\n    /**\n     * Check if the value is iterable object\n     *\n     * @example Mix.isIter(new FormData()) // => true\n     * @example Mix.isIter({}) // => false\n     *\n     * @param {any} value The Value to test\n     * @returns {boolean} Returns true if is iterable object\n     */\n    static isIter(value : any) : boolean\n    {\n        if ( this.isArr(value) ) {\n            return false;\n        }\n\n        if ( !this.isRef(value) ) {\n            return false;\n        }\n\n        return this.isFunc(value.entries);\n    }\n\n    /**\n     * @see PicoMixed.isIter\n     */\n    static isIterable = PicoMixed.isIter;\n\n    /**\n     * Check if the value is iso date\n     *\n     * @example Mix.isIsoDate(new Date()) // => true\n     * @example Mix.isIsoDate(new Date()) // => true\n     * @example Mix.isIsoDate('2023-01-01 00:00:00') // => true\n     *\n     * @param {any} value The Value to test\n     * @returns {boolean} Returns true if is iso date\n     */\n    static isIsoDate(value : any) : boolean\n    {\n        if ( value instanceof Date ) {\n            return true;\n        }\n\n        return MIX_REGEX.iso.test(value);\n    }\n\n    /**\n     * Check if the value is valid date\n     *\n     * @example Mix.isIsoDate(new Date()) // => true\n     * @example Mix.isIsoDate('2023-01-01') // => true\n     * @example Mix.isIsoDate('2023-01-01 00:00:00') // => false\n     *\n     * @param {any} value The Value to test\n     * @returns {boolean} Returns true if is valid date\n     */\n    static isDate(value : any) : boolean\n    {\n        if ( value instanceof Date ) {\n            return true;\n        }\n\n        return /^\\d{4}-\\d{2}-\\d{2}$/.test(value);\n    }\n\n    /**\n     * Check if the value is valid time\n     *\n     * @example Mix.isIsoDate(new Date()) // => true\n     * @example Mix.isIsoDate('00:00:00') // => true\n     * @example Mix.isIsoDate('2023-01-01 00:00:00') // => false\n     *\n     * @param {any} value The Value to test\n     * @returns {boolean} Returns true if is valid time\n     */\n    static isTime(value : any) : boolean\n    {\n        if ( value instanceof Date ) {\n            return true;\n        }\n\n        return /^\\d{2}:\\d{2}:\\d{2}$/.test(value);\n    }\n\n    /**\n     * Check if value is equal\n     *\n     * @example Mix.isEqual(el, el) // => true\n     *\n     * @param {any} obj Source value\n     * @param {any} val Compare value\n     * @returns {boolean} True if equal\n     */\n    static isEqual(obj : any, val : any) : boolean\n    {\n        if ( obj instanceof Node ) {\n            return obj.isEqualNode(val);\n        }\n\n        if ( this.isRef(obj) ) {\n            return Object.is(obj, val)\n        }\n\n        return obj === val;\n    }\n\n    /**\n     * Convert iterable object to a regular object\n     *\n     * @example Mix.iter(new FormData()) // => {}\n     *\n     * @param {any} value Value to convert\n     * @returns {Record<string, any>} Converted object\n     */\n    static iter(value : any) : Record<string, any>\n    {\n        if ( value == null ) {\n            return {};\n        }\n\n        let result = {};\n\n        for ( const [key, val] of value.entries() ) {\n            result[key] = val;\n        }\n\n        return result;\n    }\n\n    /**\n     * Get keys of an object\n     *\n     * @example Mix.keys({a: 'v1', b: 'v2'}) // => ['a', 'b']\n     * @example Mix.keys(['v1', 'v2']) // => ['0', '1']\n     *\n     * @param {any} value Object to iterate\n     * @returns {Array<any>} Returns array with keys\n     */\n    static keys(value : any) : Array<any>\n    {\n        if ( value == null ) {\n            return [];\n        }\n\n        if ( this.isFunc(value.toJSON) ) {\n            value = value.toJSON();\n        }\n\n        if ( this.isIter(value) ) {\n            value = this.iter(value);\n        }\n\n        return Object.keys(value);\n    }\n\n    /**\n     * Get values of an object\n     *\n     * @example Mix.vals({a: 'v1', b: 'v2'}) // => ['v1', 'v2']\n     * @example Mix.vals(['v1', 'v2']) // => ['v1', 'v2']\n     *\n     * @param {any} value Object to iterate\n     * @returns {Array<any>} Returns array with values\n     */\n    static vals(value : any) : Array<any>\n    {\n        if ( value == null ) {\n            return [];\n        }\n\n        if ( this.isFunc(value.toJSON) ) {\n            value = value.toJSON();\n        }\n\n        if ( this.isIter(value) ) {\n            value = this.iter(value);\n        }\n\n        if ( this.isArr(value) || !go().chrome ) {\n            return Object.values(value);\n        }\n\n        let keys = this.keys(value);\n\n        for ( let i = 0; i < keys.length; i++ ) {\n            keys[i] = value[keys[i]];\n        }\n\n        return keys;\n    }\n\n    /**\n     * Cast to array\n     *\n     * @example Mix.nodes(nodeList) // => []\n     *\n     * @param {any} value Source value\n     * @returns {Array<any>} Array result\n     */\n    static nodes(value : any) : Array<any>\n    {\n        return Array.prototype.slice.call(value);\n    }\n\n    /**\n     * Get own props excluding keys\n     *\n     * @example Mix.props(Math, [\"PI\"]) // => {}\n     *\n     * @param {any} value Source object\n     * @param {string[]} [exclude] Exclude keys\n     * @returns {Record<string, any>} Props map\n     */\n    static props(value : any, exclude : string[] = []) : Record<string, any>\n    {\n        let result = {};\n\n        for ( const key of Object.getOwnPropertyNames(value) ) {\n            if ( exclude.length && !Arr.has(exclude, key) ) {\n                result[key] = value[key];\n            }\n        }\n\n        return result;\n    }\n\n    /**\n     * Extend object with another object\n     *\n     * @example Mix.extend({}, {a:1}) // => {a:1}\n     *\n     * @param {any} target Target object\n     * @param {any} value Source object\n     * @param {string[]} [exclude] Exclude keys\n     * @returns {any} Extended target\n     */\n    static extend(target : any, value : any, exclude : string[] = ['constructor'])\n    {\n        if ( value == null ) {\n            return {};\n        }\n\n        let proto = Object.getPrototypeOf(value);\n\n        for ( const key of Object.getOwnPropertyNames(value) ) {\n\n            if ( !exclude.length || Arr.has(exclude, key) ) {\n                continue;\n            }\n\n            let desc = Object.getOwnPropertyDescriptor(proto, key);\n\n            if ( !desc ) {\n                desc = Object.getOwnPropertyDescriptor(value, key);\n            }\n\n            if ( !desc && (!desc.get && !desc.set) ) {\n                target[key] = value[key];\n            }\n\n            if ( desc && (desc.get || desc.set) ) {\n                Object.defineProperty(target, key, desc);\n            }\n        }\n\n        return target;\n    }\n\n    /**\n     * Get static class props\n     *\n     * @example Mix.class(MyClass) // => {}\n     *\n     * @param {any} value Source class\n     * @param {string[any]} [exclude] Exclude keys\n     * @returns {Record<string, any>} Props map\n     */\n    static class(value : any, exclude : string[] = []) : Record<string, any>\n    {\n        exclude = Arr.merge(exclude, [\n            'length', 'name', 'prototype', 'constructor'\n        ]);\n\n        return this.props(value, exclude);\n    }\n\n    /**\n     * Get prototype props\n     *\n     * @example Mix.proto(MyClass) // => {}\n     *\n     * @param {any} value Source class\n     * @param {string[]} [exclude] Exclude keys\n     * @returns {Record<string, any>} Props map\n     */\n    static proto(value : any, exclude : string[] = []) : Record<string, any>\n    {\n        exclude = Arr.merge(exclude, [\n            'constructor'\n        ]);\n\n        return this.props(value.prototype, exclude);\n    }\n\n    /**\n     * Create form data\n     *\n     * @example Mix.form({ a: 1 }) // => FormData\n     *\n     * @param {any} value Source object\n     * @returns {FormData} Form instance\n     */\n    static form(value : any) : FormData\n    {\n        let form = new FormData();\n\n        Obj.each(Obj.flattenForm(value), (val : any, key : any) => {\n            form.append(key, val);\n        });\n\n        return form;\n    }\n\n    /**\n     * Loop over items\n     *\n     * @example Mix.vals(FormData, (val, key) => null) // => Mix\n     * @example Mix.vals(NodeList, (val, key) => null) // => Mix\n     *\n     * @param {any} value Value to loop\n     * @param {Function} cb Callback for each loop\n     * @returns {PicoMixed} Returns Mix instance\n     */\n    static each(value : any, cb : Function) : PicoMixed\n    {\n        if ( !this.isRef(value) ) {\n            throw new Error('Iterate non object');\n        }\n\n        for ( let key of Mix.keys(value) ) {\n            cb(value[key], key);\n        }\n\n        return this;\n    }\n\n    /**\n     * Get length of value\n     *\n     * @example Mix.len({a: 'v1', b: 'v2'}) // => 2\n     * @example Mix.len(['v1', 'v2']) // => 2\n     * @example Mix.len('foobar') // => 6\n     * @example Mix.len(12) // => 2\n     *\n     * @param {any} value The value to count\n     * @returns {number} Returns length of value\n     */\n    static len(value : any) : number\n    {\n        if ( this.isArr(value) ) {\n            return value.length;\n        }\n\n        if ( !this.isRef(value) ) {\n            return this.string(value).length;\n        }\n\n        return this.keys(value).length;\n    }\n\n    /**\n     * @see PicoMixed.length\n     */\n    static length = PicoMixed.len;\n\n    /**\n     * Compare two objects (used for natural array sort)\n     *\n     * @param {any} value First compare value\n     * @param {any} compare Second compare value\n     * @returns {number} Returns sort position\n     */\n    static compare(value : any, compare : any) : number\n    {\n        return Locale.collator().compare(value, compare);\n    }\n\n    /**\n     * Get value as null\n     *\n     * @example Mix.null(\"null\") // => null\n     *\n     * @param {any} value Input value\n     * @param {any} [fallback] Fallback value\n     * @returns {any} Null or fallback\n     */\n    static null(value : any, fallback : any = null) : any\n    {\n        if ( value === 'null' ) {\n            return null;\n        }\n\n        if ( this.isEmpty(value) ) {\n            return null;\n        }\n\n        return fallback;\n    }\n\n    /**\n     * Cast to array\n     *\n     * @example Mix.arr(\"a,b\") // => [\"a\", \"b\"]\n     *\n     * @param {any} value Source value\n     * @returns {Array<any>} Array result\n     */\n    static arr(value : any) : Array<any>\n    {\n        if ( this.isArr(value) ) {\n            return value;\n        }\n\n        if ( !this.isStr(value) ) {\n            return [value];\n        }\n\n        value = value.replace(/^@?\\[?(.*?)]$/g, '$1');\n\n        return Arr.each(value.split(','), (val) => {\n            return val.replace(/(^\"|^'|'$|\"$)/g, '');\n        });\n    }\n\n    /**\n     * @see PicoMixed.arr\n     */\n    static array = PicoMixed.arr;\n\n    /**\n     * Convert value to string\n     *\n     * @example Mix.str('foobar') // => 'foobar'\n     * @example Mix.str(12) // => '12'\n     * @example Mix.str(true) // => 'true'\n     * @example Mix.str(null) // => 'null'\n     * @example Mix.str(undefined) // => 'undefined'\n     *\n     * @param {any} value The value to convert\n     * @returns {string} Return value as string\n     */\n    static str(value : any) : string\n    {\n        if ( this.isNix(value) ) {\n            return String(value);\n        }\n\n        if ( value.toString === undefined ) {\n            return String(value);\n        }\n\n        return value.toString();\n    }\n\n    /**\n     * @see PicoMixed.str\n     */\n    static string = PicoMixed.str;\n\n    /**\n     * Convert value to number\n     *\n     * @example Mix.num('-2.2') // => -2.2\n     * @example Mix.num(12) // => 12\n     * @example Mix.num('foobar') // => NaN\n     * @example Mix.num(true) // => NaN\n     *\n     * @param {any} value The value to convert\n     * @param {any} fallback Fallback incase it is not primitive\n     * @returns {number} Return value as number\n     */\n    static num(value : any, fallback : number = NaN) : number\n    {\n        if ( !this.isPrim(value) ) {\n            return fallback;\n        }\n\n        if ( this.isStr(value) ) {\n            value = parseFloat(value);\n        }\n\n        return value;\n    }\n\n    /**\n     * @see PicoMixed.num\n     */\n    static number = PicoMixed.num;\n\n    /**\n     * Convert value to integer\n     *\n     * @example Mix.int('-2.2') // => -2\n     * @example Mix.int(12) // => 12\n     * @example Mix.int('foobar') // => NaN\n     * @example Mix.int(true) // => NaN\n     *\n     * @param {any} value The value to convert\n     * @param {number} fallback Fallback incase it is not primitive\n     * @returns {number} Return value as integer\n     */\n    static int(value : any, fallback : number = NaN) : number\n    {\n        if ( !this.isPrim(value) ) {\n            return fallback;\n        }\n\n        if ( this.isStr(value) ) {\n            value = parseFloat(value);\n        }\n\n        return Math.round(value);\n    }\n\n    /**\n     * @see PicoMixed.int\n     */\n    static integer = PicoMixed.int;\n\n    /**\n     * Convert value to boolean\n     *\n     * @example Mix.int(true) // => true\n     * @example Mix.int(12) // => true\n     * @example Mix.int(0) // => false\n     * @example Mix.int('yes') // => true\n     * @example Mix.int('foobar') // => false\n     * @example Mix.int(['v1']) // => true\n     * @example Mix.int({}) // => false\n     *\n     * @param {any} value The value to convert\n     * @returns {boolean} Return value as boolean\n     */\n    static bool(value : any) : boolean\n    {\n        if ( this.isRef(value) ) {\n            return !!this.vals(value).length;\n        }\n\n        if ( this.isNum(value) ) {\n            return this.num(value) !== 0;\n        }\n\n        return /^(true|yes)$/i.test(value);\n    }\n\n    /**\n     * @see PicoMixed.bool\n     */\n    static boolean = PicoMixed.bool;\n\n}\n\n/**\n * @deprecated use go instead\n */\n// @ts-ignore\nPicoMixed.global = (...args : Parameters<typeof go>) : any => {\n    console.warn('Mix.global() is deprecated, use go() instead.');\n    return go(...args);\n};\n\n/**\n * @deprecated use Mix.isObj instead\n */\n// @ts-ignore\nPicoMixed.isPlain = (...args : Parameters<typeof Mix.isObj>) : any => {\n    console.warn('Mix.isPlain() is deprecated, use Mix.isObj() instead.');\n    return Mix.isObj(...args);\n};\n\n/**\n * @deprecated use Mix.num instead\n */\n// @ts-ignore\nPicoMixed.float = (...args : Parameters<typeof Mix.num>) : any => {\n    console.warn('Mix.float() is deprecated, use Mix.num() instead.');\n    return Mix.num(...args);\n};\n\n/**\n * @deprecated use Run.delay instead\n */\n// @ts-ignore\nPicoMixed.delay = (...args : Parameters<typeof Run.delay>) : any => {\n    console.warn('Mix.delay() is deprecated, use Run.delay() instead.');\n    return Run.delay(...args);\n};\n\n/**\n * @deprecated use Run.async instead\n */\n// @ts-ignore\nPicoMixed.async = (...args : Parameters<typeof Run.async>) : any => {\n    console.warn('Mix.async() is deprecated, use Run.async() instead.');\n    return Run.async(...args);\n};\n\n/**\n * @deprecated use Run.debounce instead\n */\n// @ts-ignore\nPicoMixed.debounce = (...args : Parameters<typeof Run.debounce>) : any => {\n    console.warn('Mix.debounce() is deprecated, use Run.debounce() instead.');\n    return Run.debounce(...args);\n};\n\n/**\n * @deprecated use Run.throttle instead\n */\n// @ts-ignore\nPicoMixed.throttle = (...args : Parameters<typeof Run.throttle>) : any => {\n    console.warn('Mix.throttle() is deprecated, use Run.throttle() instead.');\n    return Run.throttle(...args);\n};\n\n/**\n * @deprecated use Run.framerate instead\n */\n// @ts-ignore\nPicoMixed.framerate = (...args : Parameters<typeof Run.framerate>) : any => {\n    console.warn('Mix.framerate() is deprecated, use Run.framerate() instead.');\n    return Run.framerate(...args);\n};\n\n/**\n * @deprecated use Str.string instead\n */\n// @ts-ignore\nPicoMixed.convertString = (...args : Parameters<typeof Str.string>) : any => {\n    console.warn('Mix.convertString() is deprecated, use Str.string() instead.');\n    return Str.string(...args);\n};\n\n/**\n * @deprecated use Str.date instead\n */\n// @ts-ignore\nPicoMixed.convertDatetime = (...args : Parameters<typeof Str.date>) : any => {\n    console.warn('Mix.convertDatetime() is deprecated, use Str.date() instead.');\n    return Str.date(...args);\n};\n\n/**\n * @deprecated use Str.boolean instead\n */\n// @ts-ignore\nPicoMixed.convertBool = (...args : Parameters<typeof Str.boolean>) : any => {\n    console.warn('Mix.convertBool() is deprecated, use Str.boolean() instead.');\n    return Str.boolean(...args);\n};\n\n/**\n * @deprecated use Str.boolean instead\n */\n// @ts-ignore\nPicoMixed.convertBoolean = (...args : Parameters<typeof Str.boolean>) : any => {\n    console.warn('Mix.convertBoolean() is deprecated, use Str.boolean() instead.');\n    return Str.boolean(...args);\n};\n\nexport default PicoMixed;","import { Str } from \"../index.esm.ts\";\n\n/**\n * @var {string[]} RADIX_NUMBER Radix from 0 to 9\n */\nexport const RADIX_NUMBER = [\n    '0', '1', '2', '3', '4', '5', '6', '7', '8', '9'\n];\n\n/**\n * @var {string[]} RADIX_LETTER_LC Radix from a to z\n */\nexport const RADIX_LETTER_LC = [\n    'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z',\n];\n\n/**\n * @var {string[]} RADIX_LETTER_UC Radix from A to Z\n */\nexport const RADIX_LETTER_UC = [\n    'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z'\n];\n\n/**\n * @var {string[]} RADIX_UUID Radix from 0-9, a-f and A-F\n */\nexport const RADIX_UUID = [\n    '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f', 'A', 'B', 'C', 'D', 'E', 'F',\n];\n\n\n/**\n * @var {string[]} RADIX_UP19 Radix with 8, 9, a and b\n */\nexport const RADIX_UP19 = [\n    '8', '9', 'a', 'b',\n];\n\n/**\n * @var {string[]} radix_symbol_pass Radix for passwords\n */\nexport const radix_symbol_pass = [\n    '@', '#', '$', '%', '^', '&', '*', '(', ')', '_', '+', '-', '=', '[', ']', '{', '}', ';', ':', ',', '.', '/', '<', '>', '?'\n];\n\nexport class PicoHash\n{\n\n    /**\n     * @type {string[]}\n     */\n    static RADIX : string[] = [\n        ...RADIX_NUMBER, ...RADIX_LETTER_LC, ...RADIX_LETTER_UC\n    ];\n\n    /**\n     * Get random char from radix\n     *\n     * @example Hash.radix(2, ['R', 'f']) // => 'R' or 'f'\n     *\n     * @param {number} [limit=60] Maximum radix char index\n     * @param {string[]} [radix=null] A defined radix or null for default\n     * @returns {string} Returns random char from radix\n     */\n    static radix(limit : number = 60, radix : string[] = null) : string\n    {\n        return (radix || this.RADIX)[this.number(limit - 1)];\n    }\n\n    /**\n     * Get random number\n     *\n     * @example Hash.number(20, 18) // => 18, 19 or 20\n     *\n     * @param {number} [limit=1024] Maximum value\n     * @param {number} [start=0] Minimum value\n     * @returns {number} Returns a random number between start and limit\n     */\n    static number(limit : number = 1024, start : number = 0) : number\n    {\n        return Math.floor(Math.random() * (limit - start + 1)) + start;\n    }\n\n    /**\n     * Get a random hash with given options\n     *\n     * @example Hash.make(4, 32, { 0: '?' }) // => '?8Wj'\n     *\n     * @param {number} [length] Length of generated hash\n     * @param {number} [radix] Maximum radix char index (10 for 0-9, 36 incl. a-z, 62 incl. A-Z)\n     * @param {any} [map] Remap for generated string\n     * @returns {string} Returns a random hash with fixed length\n     */\n    static make(length : number = 6, radix : number = 62, map : any = {}) : string\n    {\n        let hash = '';\n\n        for ( let i = 0; i < length; i++ ) {\n            hash += this.radix(radix);\n        }\n\n        for ( const k of Object.keys(map) ) {\n            hash = Str.set(hash, k, map[k]);\n        }\n\n        return hash;\n    }\n\n    /**\n     * Get a valid v4 UUID\n     *\n     * @example Hash.uuid() // => 'FBbA001F-0a01-4bE8-b29C-A9c47fA090f'\n     *\n     * @param {string|number} [version] UUID version number\n     * @returns {string} Returns a valid UUID\n     */\n    static uuid(version : number = 4) : string\n    {\n        let hash = '';\n\n        // Use only selected chars from the radix store\n        for ( let i = 0; i < 31; i++ ) {\n            if ( i === 15 ) {\n                hash += this.radix(RADIX_UP19.length, RADIX_UP19);\n            } else {\n                hash += this.radix(RADIX_UUID.length, RADIX_UUID);\n            }\n        }\n\n        // For higher performance use substring\n        return hash.substring(0, 8)\n            + '-' + hash.substring(8, 12)\n            + '-' + version + hash.substring(12, 15)\n            + '-' + hash.substring(15, 19)\n            + '-' + hash.substring(19, 31);\n    }\n\n    /**\n     * Generate a password with or without symbols\n     *\n     * @example Hash.password(12, ['%', '&']) // => '0unJ%VDi2RJX'\n     *\n     * @param {number} [length=24] Length of password\n     * @param {string[]} [symbols=null] Defined symbols or null for default\n     * @returns {string} A random password with fixed length\n     */\n    static password(length : number = 24, symbols : string[] = null) : string\n    {\n        let radix = [\n            ...this.RADIX, ...(symbols || radix_symbol_pass)\n        ];\n\n        let hash = '';\n\n        for ( let i = 0; i < length; i++ ) {\n            hash += this.radix(radix.length, radix);\n        }\n\n        return hash;\n    }\n\n}\n\nexport default PicoHash;","import { Mix, Arr } from \"../index.esm.ts\";\n\nexport class PicoSignal\n{\n    static $events = [];\n\n    /**\n     * Bind callback to event name\n     *\n     * @example Event.bind(\"x\", cb) // => Event\n     * @example Event.bind([\"a\",\"b\"], cb) // => Event\n     *\n     * @param {string|string[]} event Event name(s)\n     * @param {Function} cb Event callback\n     * @param {any} [options] Listener options\n     * @param {boolean} [paused] Start paused\n     * @returns {PicoSignal} Event class\n     */\n    static bind(event : string | string[], cb : Function, options : any = {}, paused : boolean = false) : PicoSignal\n    {\n        const args : any[] = [\n            cb, options, paused\n        ];\n\n        if ( Mix.isArr(event) ) {\n            // @ts-ignore\n            return Arr.each(event, (e : any) => this.bind(e, ...args), this);\n        }\n\n        if ( Mix.isPrim(options) ) {\n            options = { id: options };\n        }\n\n        this.$events = Arr.append(this.$events, {\n            event, cb, options, paused\n        });\n\n        return this;\n    }\n\n    /**\n     * Unbind callback(s) from event\n     *\n     * @example Event.unbind(\"x\") // => Event\n     * @example Event.unbind([\"a\",\"b\"]) // => Event\n     *\n     * @param {string|string[]} event Event name(s)\n     * @param {any} [options] Listener options\n     * @returns {PicoSignal} Event class\n     */\n    static unbind(event : string | string[], options : any = {}) : PicoSignal\n    {\n        const args : any[] = [\n            options,\n        ];\n\n        if ( Mix.isArr(event) ) {\n            return Arr.each(event, (e : any) => this.unbind(e, ...args), this);\n        }\n\n        if ( Mix.isPrim(options) ) {\n            options = { id: options };\n        }\n\n        Arr.remove(this.$events, {\n            event, options\n        });\n\n        return this;\n    }\n\n    /**\n     * Fire event with arguments\n     *\n     * @example Event.fire(\"x\", 1) // => Event\n     *\n     * @param {string} event Event name\n     * @param {...any} args Event args\n     * @returns {PicoSignal} Event class\n     */\n    static fire(event : string, ...args : Parameters<any>) : PicoSignal\n    {\n        let events = this.$events.filter((item) => {\n            return item.event === event;\n        });\n\n        Arr.each(events, (e : any) => {\n            if ( !e.paused ) {\n                e.cb.call({}, ...args);\n            }\n        });\n\n        return this;\n    }\n\n    /**\n     * Pause listeners for event\n     *\n     * @example Event.pause(\"x\") // => Event\n     *\n     * @param {string|string[]} event Event name(s)\n     * @param {any} [options] Listener options\n     * @returns {PicoSignal} Event class\n     */\n    static pause(event : string | string[], options : any = {}) : PicoSignal\n    {\n        const args : any[] = [\n            options,\n        ];\n\n        if ( Mix.isArr(event) ) {\n            return Arr.each(event, (e : any) => this.pause(e, ...args), this);\n        }\n\n        let value = Arr.find(this.$events, {\n            event, options\n        });\n\n        if ( value != null ) {\n            value.paused = true;\n        }\n\n        return this;\n    }\n\n    /**\n     * Unpause listeners for event\n     *\n     * @example Event.unpause(\"x\") // => Event\n     *\n     * @param {string|string[]} event Event name(s)\n     * @param {any} [options] Listener options\n     * @returns {PicoSignal} Event class\n     */\n    static unpause(event : string | string[], options : any = {}) : PicoSignal\n    {\n        if ( Mix.isArr(event) ) {\n            return Arr.each(event, (e : any) => this.pause(e, ...arguments), this);\n        }\n\n        let value = Arr.find(this.$events, {\n            event, options\n        });\n\n        if ( value != null ) {\n            value.paused = false;\n        }\n\n        return this;\n    }\n\n}\n\nexport default PicoSignal;","import { Mix, Obj, Locale } from \"../index.esm.ts\";\n\nexport class PicoLocale\n{\n    /**\n     * Translation dictionary\n     *\n     * @type {any}\n     */\n    static $text : any = {};\n\n    /**\n     * Cached collator instance\n     *\n     * @type {Intl.Collator}\n     */\n    static $sort : Intl.Collator = null;\n\n    /**\n     * Active locale code\n     *\n     * @type {string}\n     */\n    static $code : string = 'en';\n\n    /**\n     * Check if translation key exists\n     *\n     * @example Locale.has(\"known.key\") // => true\n     * @example Locale.has(\"unknown.key\") // => false\n     *\n     * @param {any} [key] Translation key\n     * @returns {boolean} True if exists\n     */\n    static has(key : any = undefined) : boolean\n    {\n        if ( key === undefined ) {\n            return true;\n        }\n\n        return Obj.has(PicoLocale.$text, key);\n    }\n\n    /**\n     * Get translation value or map\n     *\n     * @example Locale.get(\"known.key\") // => \"value\"\n     * @example Locale.get() // => object\n     *\n     * @param {any} [key] Translation key\n     * @param {any} [fallback] Fallback value\n     * @returns {any} Translation value\n     */\n    static get(key : any = undefined, fallback : any = null) : any\n    {\n        if ( key === undefined ) {\n            return PicoLocale.$text;\n        }\n\n        return Obj.get(PicoLocale.$text, key, fallback);\n    }\n\n    /**\n     * Set translation key or map\n     *\n     * @example Locale.set({foo:\"bar\"})\n     * @example Locale.set(\"unknown\", \"nix\")\n     *\n     * @param {any} [key] Key or map\n     * @param {any} [value] Value to set\n     * @returns {any} Updated map\n     */\n    static set(key : any = undefined, value : any = undefined) : any\n    {\n        if ( value === undefined ) {\n            return PicoLocale.$text = key;\n        }\n\n        return Obj.set(PicoLocale.$text, key, value);\n    }\n\n    /**\n     * Get or set locale code\n     *\n     * @example Locale.code() // => \"en\"\n     * @example Locale.code(\"de\") // => \"de\"\n     *\n     * @param {string} [code] Locale code\n     * @returns {string} Active code\n     */\n    static code(code : string = null) : string\n    {\n        if ( !Mix.isNull(code) ) {\n            return Locale.$code = code;\n        }\n\n        if ( !Mix.isNull(Locale.$code) ) {\n            return Locale.$code;\n        }\n\n        Locale.$code = (navigator.language || 'en-US')\n            .replace(/-[A-Z]+$/, '');\n\n        return Locale.$code;\n    }\n\n    /**\n     * Get Intl.Collator for sorting\n     *\n     * @example Locale.collator().compare(\"a\",\"b\")\n     *\n     * @returns {Intl.Collator} Collator instance\n     */\n    static collator() : Intl.Collator\n    {\n        if ( Locale.$sort != null ) {\n            return Locale.$sort;\n        }\n\n        Locale.$sort = new Intl.Collator(Locale.code(), {\n            numeric: true, sensitivity: 'base'\n        });\n\n        return Locale.$sort;\n    }\n\n    /**\n     * Replace :tokens in text\n     *\n     * @example Locale.replace(\"Hi :x\", {x:\"Bob\"}) // => \"Hi Bob\"\n     * @example Locale.replace(\"Hi\", null) // => \"Hi\"\n     *\n     * @param {string} text Input text\n     * @param {any} [replace] Replace map\n     * @returns {string} Replaced text\n     */\n    static replace(text : string, replace : any = null) : string\n    {\n        if ( replace == null ) {\n            return text;\n        }\n\n        Obj.each(replace, (val : any, key : any) => {\n            text = text.replace(new RegExp(':' + key, 'g'), val);\n        });\n\n        return text;\n    }\n\n    /**\n     * Translate key with replace map\n     *\n     * @example Locale.trans(\"known.key\") // => \"...\"\n     * @example Locale.trans(\"Hi :x\", {x:\"Bob\"}) // => \"Hi Bob\"\n     *\n     * @param {string} text Key or text\n     * @param {any} [replace] Replace map\n     * @returns {string} Translated text\n     */\n    static trans(text : string, replace : any = null) : string\n    {\n        text = Obj.get(PicoLocale.$text, text, text);\n\n        return Locale.replace(text, replace);\n    }\n\n    /**\n     * Translate plural choice by count\n     *\n     * @example Locale.choice(\"items\", 2) // => \"...\"\n     * @example Locale.choice(\"items\", 1, {x:\"y\"}) // => \"...\"\n     *\n     * @param {string} text Key or text\n     * @param {number} [count] Choice count\n     * @param {any} [replace] Replace map\n     * @returns {string} Chosen text\n     */\n    static choice(text : string, count : number = 0, replace : any = {}) : string\n    {\n        text = Obj.get(PicoLocale.$text, text, text);\n\n        if ( typeof replace.count === 'undefined' ) {\n            replace.count = count;\n        }\n\n        text = Locale.countpick(text.split('|'), count);\n\n        return Locale.replace(text, replace);\n    }\n\n    /**\n     * Pick plural variant from list\n     *\n     * @example Locale.countpick([\"a\",\"b\"], 2) // => \"b\"\n     *\n     * @param {string[]} splits Variant list\n     * @param {number} count Choice count\n     * @returns {string} Picked text\n     */\n    static countpick(splits : string[], count : number = 0) : string\n    {\n        let length = splits.length;\n\n        if ( length === 3 && count === 0 ) {\n            return splits[0];\n        }\n\n        if ( length === 3 && count === 1 ) {\n            return splits[1];\n        }\n\n        if ( length === 3 && count >= 2 ) {\n            return splits[2];\n        }\n\n        if ( length === 2 && count === 1 ) {\n            return splits[0];\n        }\n\n        if ( length === 2 && count !== 1 ) {\n            return splits[1];\n        }\n\n        return splits[0];\n    }\n\n}\n\nexport default PicoLocale","import { For, Arr, Now, Mix } from \"../index.esm.ts\";\n\nexport const COOKIE_REGEX = {\n    entry: /(?<=^|;)\\s*(?<key>.*?)\\s*=\\s*(?<value>[^;$]+)/g\n};\n\nexport class PicoCookie\n{\n    /**\n     * @type {Record<string, any>}\n     */\n    static $cookie : any;\n\n    /**\n     * Read raw document.cookie\n     *\n     * @example Cookie.global() // => \"a=b; c=d\"\n     *\n     * @returns {string} Cookie string\n     */\n    static global() : string\n    {\n        if ( globalThis.document == null ) {\n            return '';\n        }\n\n        return globalThis.document.cookie || '';\n    }\n\n    /**\n     * Parse cookies into object\n     *\n     * @example Cookie.parse() // => {a:\"b\"}\n     * @example Cookie.parse(true) // force parse\n     *\n     * @param {boolean} [fresh] Force refresh\n     * @returns {Record<string, any>} Cookie map\n     */\n    static parse(fresh : boolean = false) : Record<string, any>\n    {\n        if ( !fresh && this.$cookie ) {\n            return this.$cookie;\n        }\n\n        this.$cookie = {};\n\n        let matches = this.global().matchAll(...[\n            COOKIE_REGEX.entry\n        ]);\n\n        if ( matches == null ) {\n            return this.$cookie;\n        }\n\n        let fn = (value : any) => {\n            return value.replaceAll('{:}', ';');\n        }\n\n        Arr.each(Array.from(matches), ({ groups }) => {\n            this.$cookie[groups.key] = fn(groups.value);\n        });\n\n        return this.$cookie;\n    }\n\n    /**\n     * Get cookie value by key\n     *\n     * @example Cookie.get(\"foo\") // => \"bar\"\n     * @example Cookie.get(\"x\", null, \"bool\") // => true\n     *\n     * @param {string} key Cookie key\n     * @param {any} [fallback] Fallback value\n     * @param {string} [decode] Decode mode\n     * @returns {any} Cookie value\n     */\n    static get(key : string, fallback : any = null, decode : string = 'string') : any\n    {\n        if ( !this.$cookie ) {\n            this.parse();\n        }\n\n        if ( this.$cookie[key] == null ) {\n            return fallback;\n        }\n\n        if ( /^bool(ean)?$/.test(decode) ) {\n            return Mix.bool(this.$cookie[key]);\n        }\n\n        if ( /^num(ber)?$/.test(decode) ) {\n            return Mix.bool(this.$cookie[key]);\n        }\n\n        if ( /^int(eger)?$/.test(decode) ) {\n            return Mix.bool(this.$cookie[key]);\n        }\n\n        if ( /^obj(ext)?$/.test(decode) ) {\n            return For.parseOptions(this.$cookie[key]);\n        }\n\n        return Mix.str(this.$cookie[key]);\n    }\n\n    /**\n     * Set cookie value with options\n     *\n     * @example Cookie.set(\"a\", \"b\") // => Cookie\n     * @example Cookie.set(\"a\", {x:1}) // => Cookie\n     *\n     * @param {string} key Cookie key\n     * @param {any} value Cookie value\n     * @param {any} [expire] Expire date spec\n     * @param {any} [options] Cookie options\n     * @returns {PicoCookie} Cookie class\n     */\n    static set(key : string, value : any, expire : any = null, options : any = {}) : PicoCookie\n    {\n        if ( !this.$cookie ) {\n            this.parse();\n        }\n\n        if ( !(expire instanceof Now) ) {\n            expire = Now.make(expire || '+7 days');\n        }\n\n        options = {\n            expires: expire.toUTC(), path: '/', ...options\n        };\n\n        if ( Mix.isRef(value) ) {\n            value = For.castOptions(value, false);\n        }\n\n        if ( value != null ) {\n            this.$cookie[key] = value;\n        }\n\n        let plain = key + '=' + Mix.str(value).replaceAll(...[\n            ';', '{:}'\n        ]);\n\n        Arr.each(options, (value : any, key : any) => {\n            plain += `;${key}=${value}`;\n        });\n\n        globalThis.document.cookie = plain;\n\n        return this;\n    }\n\n    /**\n     * Remove cookie by key\n     *\n     * @example Cookie.forget(\"a\") // => Cookie\n     *\n     * @param {string} key Cookie key\n     * @param {any} [options] Cookie options\n     * @returns {PicoCookie} Cookie class\n     */\n    static forget(key : string, options : any = {}) : PicoCookie\n    {\n        let expires = 'Thu, 01 Jan 1970 00:00:01 GMT';\n\n        options = {\n            expires, path: '/', ...options\n        };\n\n        if ( this.$cookie[key] ) {\n            delete this.$cookie[key];\n        }\n\n        let plain = `${key}=null`;\n\n        Arr.each(options, (value : any, key : any) => {\n            plain += `;${key}=${value}`;\n        });\n\n        globalThis.document.cookie = plain;\n\n        return this;\n    }\n\n}\n\nexport default PicoCookie;","import { Arr, Mix } from \"../index.esm.ts\";\n\n/**\n * Get global runtime scope\n *\n * @example go().Math // => Math\n *\n * @returns {any} Global scope obj\n */\nexport function go() : any\n{\n\n    if ( typeof globalThis !== 'undefined' ) {\n        return globalThis;\n    }\n\n    if ( typeof window !== 'undefined' ) {\n        return window;\n    }\n\n    if ( typeof global !== 'undefined' ) {\n        return global;\n    }\n\n    return {};\n}\n\n/**\n * Detect browser from userAgent\n *\n * @example browser() // sets global flags\n *\n * @returns {void} No return value\n */\nexport function browser() : void\n{\n    const scope = go();\n\n    if ( !scope.navigator ) {\n        return;\n    }\n\n    let [agent, result] : [string, any] = [\n        scope.navigator.userAgent, {}\n    ];\n\n    if ( result.safari == null ) {\n        result.safari = /Safari\\//.test(agent);\n    }\n\n    if ( result.firefox == null ) {\n        result.firefox = /Firefox\\//.test(agent);\n    }\n\n    if ( result.edge == null ) {\n        result.edge = /Edge\\//.test(agent);\n    }\n\n    if ( result.chrome == null ) {\n        result.chrome = /Chrome\\//.test(agent);\n    }\n\n    scope.piuag = result;\n}\n\n/**\n * Detect device OS from userAgent\n *\n * @example device() // sets global flags\n *\n * @returns {void} No return value\n */\nexport function device() : void\n{\n    const scope = go();\n\n    if ( !scope.navigator ) {\n        return;\n    }\n\n    let [agent, result] : [string, any] = [\n        scope.navigator.userAgent, {}\n    ]\n\n    if ( result.win == null ) {\n        result.win = /Windows/.test(agent);\n    }\n\n    if ( result.osx == null ) {\n        result.osx = /Macintosh|Mac OS X/.test(agent);\n    }\n\n    if ( result.gnu == null ) {\n        result.gnu = /Linux/.test(agent);\n    }\n\n    if ( result.ios == null ) {\n        result.ios = /iPhone|iPad|iPod/.test(agent);\n    }\n\n    if ( result.oid == null ) {\n        result.oid = /Android/.test(agent);\n    }\n\n    scope.piudv = result;\n}\n\n/**\n * Trait multiple classes\n *\n * @param {any[]} values Class array\n * @returns {any} Traited class\n */\nexport function trait(values : any[]) {\n\n    const traited : any = values[0];\n\n    Arr.each(values.slice(1), (value : any) => {\n\n        Arr.each(Mix.class(value), (fn:any, key:string) => {\n            traited[key] = fn\n        });\n\n        Arr.each(Mix.proto(value), (fn:any, key:string) => {\n            traited.prototype[key] = fn\n        });\n\n        // Mix.extend(traited.prototype, value.prototype);\n    });\n\n    return traited;\n}\n\nexport default {\n    go,\n    browser,\n    device,\n    trait,\n};","import { Mix, Now, Obj, Str } from \"../index.esm.ts\";\nimport { PicoNow, PicoNowInterface } from \"../utils/Now.ts\";\n\nexport const NOW_MODIFY : any = {\n    'second': /([+-])([0-9]+)\\s?seconds?/i,\n    'minute': /([+-])([0-9]+)\\s?minutes?/i,\n    'hour': /([+-])([0-9]+)\\s?hours?/i,\n    'date': /([+-])([0-9]+)\\s?days?/i,\n    'month': /([+-])([0-9]+)\\s?months?/i,\n    'year': /([+-])([0-9]+)\\s?years?/i\n};\n\nexport interface PicoNowDefault extends PicoNowInterface\n{\n    //\n}\n\n/**\n * @memberof PicoNow\n */\nexport class PicoNowDefault\n{\n    static test(value : any) : boolean\n    {\n        return value instanceof Date;\n    }\n\n    /**\n     * Get value by scope\n     *\n     * @example Now.get(\"year\") // => 2026\n     *\n     * @param {string} scope Value scope\n     * @returns {any} Scope value\n     */\n    get(scope : string) : any\n    {\n        if ( scope === 'time' ) {\n            return this.value.getTime();\n        }\n\n        if ( /^seconds?$/i.test(scope) ) {\n            return this.value.getSeconds();\n        }\n\n        if ( /^minutes?$/i.test(scope) ) {\n            return this.value.getMinutes();\n        }\n\n        if ( /^hours?$/i.test(scope) ) {\n            return this.value.getHours();\n        }\n\n        if ( /^days?$/i.test(scope) ) {\n            return this.value.getDay();\n        }\n\n        if ( /^dates?$/i.test(scope) ) {\n            return this.value.getDate();\n        }\n\n        if ( /^months?$/i.test(scope) ) {\n            return this.value.getMonth() + 1;\n        }\n\n        if ( /^years?$/i.test(scope) ) {\n            return this.value.getFullYear();\n        }\n\n        return this;\n    }\n\n    /**\n     * Set value by scope\n     *\n     * @example Now.set(2026, \"year\")\n     *\n     * @param {any} value New value\n     * @param {string} scope Value scope\n     * @returns {PicoNow} Current instance\n     */\n    set(value : any, scope : string) : PicoNow\n    {\n        if ( !Mix.isNum(value) ) {\n            value = Mix.int(value);\n        }\n\n        let day = this.value.getDay();\n\n        if ( scope === 'day' ) {\n            value = value + 1 - (day || 7);\n        }\n\n        if ( scope === 'time' ) {\n            this.value.setTime(value);\n        }\n\n        if ( /^seconds?$/i.test(scope) ) {\n            this.value.setSeconds(value);\n        }\n\n        if ( /^minutes?$/i.test(scope) ) {\n            this.value.setMinutes(value);\n        }\n\n        if ( /^hours?$/i.test(scope) ) {\n            this.value.setHours(value);\n        }\n\n        if ( /^days?$/i.test(scope) ) {\n            this.add(value, 'date');\n        }\n\n        if ( /^dates?$/i.test(scope) ) {\n            this.value.setDate(value);\n        }\n\n        if ( /^months?$/i.test(scope) ) {\n            this.value.setMonth(value - 1);\n        }\n\n        if ( /^years?$/i.test(scope) ) {\n            this.value.setFullYear(value);\n        }\n\n        return <PicoNow> <unknown> this;\n    }\n\n    /**\n     * Get or set timestamp\n     *\n     * @example Now.time() // => 1739334660000\n     *\n     * @param {any} [value] New timestamp\n     * @returns {any} Timestamp or instance\n     */\n    time(value : any = null) : any\n    {\n        if ( value == null ) {\n            return this.get('time');\n        }\n\n        return this.set(value, 'time');\n    }\n\n    /**\n     * Get or set seconds\n     *\n     * @example Now.second() // => 45\n     *\n     * @param {any} [value] New seconds\n     * @returns {any} Seconds or instance\n     */\n    second(value : any = null) : any\n    {\n        if ( value == null ) {\n            return this.get('second');\n        }\n\n        return this.set(value, 'second');\n    }\n\n    /**\n     * Get or set minutes\n     *\n     * @example Now.minute() // => 30\n     *\n     * @param {any} [value] New minutes\n     * @returns {any} Minutes or instance\n     */\n    minute(value : any = null) : any\n    {\n        if ( value == null ) {\n            return this.get('minute');\n        }\n\n        return this.set(value, 'minute');\n    }\n\n    /**\n     * Get or set hours\n     *\n     * @example Now.hour() // => 12\n     *\n     * @param {any} [value] New hours\n     * @returns {any} Hours or instance\n     */\n    hour(value : any = null) : any\n    {\n        if ( value == null ) {\n            return this.get('hour');\n        }\n\n        return this.set(value, 'hour');\n    }\n\n    /**\n     * Get or set day of week\n     *\n     * @example Now.day() // => 1\n     *\n     * @param {any} [value] New day\n     * @returns {any} Day or instance\n     */\n    day(value : any = null) : any\n    {\n        if ( value == null ) {\n            return this.get('day');\n        }\n\n        return this.set(value, 'day');\n    }\n\n    /**\n     * Get or set date of month\n     *\n     * @example Now.date() // => 12\n     *\n     * @param {any} [value] New date\n     * @returns {any} Date or instance\n     */\n    date(value : any = null) : any\n    {\n        if ( value == null ) {\n            return this.get('date');\n        }\n\n        return this.set(value, 'date');\n    }\n\n    /**\n     * Get or set month\n     *\n     * @example Now.month() // => 2\n     *\n     * @param {any} [value] New month\n     * @returns {any} Month or instance\n     */\n    month(value : any = null) : any\n    {\n        if ( value == null ) {\n            return this.get('month');\n        }\n\n        return this.set(value, 'month');\n    }\n\n    /**\n     * Get or set year\n     *\n     * @example Now.year() // => 2026\n     *\n     * @param {any} [value] New year\n     * @returns {any} Year or instance\n     */\n    year(value : any = null) : any\n    {\n        if ( value == null ) {\n            return this.get('year');\n        }\n\n        return this.set(value, 'year');\n    }\n\n    /**\n     * Get short year\n     *\n     * @example Now.shortyear() // => \"26\"\n     *\n     * @returns {string} Short year\n     */\n    shortyear() : string\n    {\n        return this.get('year').toString().slice(-2);\n    }\n\n    /**\n     * Add value to scope\n     *\n     * @example Now.add(1, \"day\")\n     *\n     * @param {any} value Add value\n     * @param {string} [scope] Target scope\n     * @returns {PicoNow} Current instance\n     */\n    add(value : any, scope : string = 'day') : PicoNow\n    {\n        if ( /^days?$/i.test(scope) ) {\n            scope = 'date';\n        }\n\n        this.set(this.get(scope) + Mix.int(value), scope);\n\n        return <PicoNow> <unknown> this;\n    }\n\n    /**\n     * Subtract value from scope\n     *\n     * @example Now.sub(1, \"day\")\n     *\n     * @param {any} value Sub value\n     * @param {string} [scope] Target scope\n     * @returns {PicoNow} Current instance\n     */\n    sub(value : any, scope : string = 'day') : PicoNow\n    {\n        if ( /^days?$/i.test(scope) ) {\n            scope = 'date';\n        }\n\n        this.set(this.get(scope) - Mix.int(value), scope);\n\n        return <PicoNow> <unknown> this;\n    }\n\n    /**\n     * Check if string is modifiable\n     *\n     * @example Now.isModifible(\"+1 day\") // => true\n     *\n     * @param {string} value Test value\n     * @returns {boolean} Is modifiable\n     */\n    isModifible(value : string) : boolean\n    {\n        return /^(\\s*[+-][0-9]+\\s?[a-z]+\\s*)+$/i.test(value);\n    }\n\n    /**\n     * Modify date by string\n     *\n     * @example Now.modify(\"+1 day\")\n     *\n     * @param {string} value Modify string\n     * @returns {PicoNow} Current instance\n     */\n    modify(value : string) : PicoNow\n    {\n        if ( Mix.isEmpty(value) ) {\n            return <PicoNow> <unknown> this;\n        }\n\n        Obj.each(NOW_MODIFY, (val : any, key : any) => {\n            Str.match(value, val, ([f, o, c]) => {\n                o === '+' ? this.add(c, key) : this.sub(c, key);\n            });\n        });\n\n        return <PicoNow> <unknown> this;\n    }\n\n    /**\n     * Apply values from other date\n     *\n     * @example Now.apply(\"2026-01-01\", \"YYYY-MM-DD\", [\"year\"])\n     *\n     * @param {any} value Source value\n     * @param {string} [format] Source format\n     * @param {string[]} [keys] Scope keys\n     * @returns {PicoNow} Current instance\n     */\n    apply(value : any, format : string = 'YYYY-MM-DD HH:mm:ss', keys : string[] = []) : PicoNow\n    {\n        value = Now.make(value, format);\n\n        for ( const key of keys ) {\n            this.set(value.get(key), key);\n        }\n\n        return <PicoNow> <unknown> this;\n    }\n\n    /**\n     * Apply date from other value\n     *\n     * @example Now.applyDate(\"2026-01-01\")\n     *\n     * @param {any} value Source value\n     * @param {string} [format] Source format\n     * @returns {PicoNow} Current instance\n     */\n    applyDate(value : any, format : string = 'YYYY-MM-DD HH:mm:ss') : PicoNow\n    {\n        return <PicoNow> this.apply(value, format, ['date', 'month', 'year']);\n    }\n\n    /**\n     * Apply time from other value\n     *\n     * @example Now.applyTime(\"12:00:00\")\n     *\n     * @param {any} value Source value\n     * @param {string} [format] Source format\n     * @returns {PicoNow} Current instance\n     */\n    applyTime(value : any, format : string = 'YYYY-MM-DD HH:mm:ss') : PicoNow\n    {\n        return <PicoNow> this.apply(value, format, ['hour', 'minute', 'second']);\n    }\n\n}\n\n/**\n * @deprecated use Now.add instead\n */\n// @ts-ignore\nPicoNowDefault.prototype.addSecond = function(value : any) : PicoNow {\n    console.warn('Now.addSecond() is deprecated, use Now.add(value, \\'second\\') instead.');\n    return this.add(value, 'second');\n};\n\n/**\n * @deprecated use Now.sub instead\n */\n// @ts-ignore\nPicoNowDefault.prototype.subSecond = function(value : any) : PicoNow {\n    console.warn('Now.subSecond() is deprecated, use Now.sub(value, \\'second\\') instead.');\n    return this.sub(value, 'second');\n};\n\n/**\n * @deprecated use Now.add instead\n */\n// @ts-ignore\nPicoNowDefault.prototype.addMinute = function(value : any) : PicoNow {\n    console.warn('Now.addMinute() is deprecated, use Now.add(value, \\'minute\\') instead.');\n    return this.add(value, 'minute');\n};\n\n/**\n * @deprecated use Now.sub instead\n */\n// @ts-ignore\nPicoNowDefault.prototype.subMinute = function(value : any) : PicoNow {\n    console.warn('Now.subMinute() is deprecated, use Now.sub(value, \\'minute\\') instead.');\n    return this.sub(value, 'minute');\n};\n\n/**\n * @deprecated use Now.add instead\n */\n// @ts-ignore\nPicoNowDefault.prototype.addHour = function(value : any) : PicoNow {\n    console.warn('Now.addHour() is deprecated, use Now.add(value, \\'hour\\') instead.');\n    return this.add(value, 'hour');\n};\n\n/**\n * @deprecated use Now.sub instead\n */\n// @ts-ignore\nPicoNowDefault.prototype.subHour = function(value : any) : PicoNow {\n    console.warn('Now.subHour() is deprecated, use Now.sub(value, \\'hour\\') instead.');\n    return this.sub(value, 'hour');\n};\n\n/**\n * @deprecated use Now.add instead\n */\n// @ts-ignore\nPicoNowDefault.prototype.addDates = function(value : any) : PicoNow {\n    console.warn('Now.addDates() is deprecated, use Now.add(value, \\'date\\') instead.');\n    return this.add(value, 'date');\n};\n\n/**\n * @deprecated use Now.sub instead\n */\n// @ts-ignore\nPicoNowDefault.prototype.subDates = function(value : any) : PicoNow {\n    console.warn('Now.subDates() is deprecated, use Now.sub(value, \\'date\\') instead.');\n    return this.sub(value, 'date');\n};\n\n/**\n * @deprecated use Now.add instead\n */\n// @ts-ignore\nPicoNowDefault.prototype.addMonths = function(value : any) : PicoNow {\n    console.warn('Now.addMonths() is deprecated, use Now.add(value, \\'month\\') instead.');\n    return this.add(value, 'month');\n};\n\n/**\n * @deprecated use Now.sub instead\n */\n// @ts-ignore\nPicoNowDefault.prototype.subMonths = function(value : any) : PicoNow {\n    console.warn('Now.subMonths() is deprecated, use Now.sub(value, \\'month\\') instead.');\n    return this.sub(value, 'month');\n};\n\n/**\n * @deprecated use Now.add instead\n */\n// @ts-ignore\nPicoNowDefault.prototype.addYears = function(value : any) : PicoNow {\n    console.warn('Now.addYears() is deprecated, use Now.add(value, \\'year\\') instead.');\n    return this.add(value, 'year');\n};\n\n/**\n * @deprecated use Now.sub instead\n */\n// @ts-ignore\nPicoNowDefault.prototype.subYears = function(value : any) : PicoNow {\n    console.warn('Now.subYears() is deprecated, use Now.sub(value, \\'year\\') instead.');\n    return this.sub(value, 'year');\n};\n\n/**\n * @deprecated use Now.add instead\n */\n// @ts-ignore\nPicoNowDefault.prototype.addDecades = function(value : any) : PicoNow {\n    console.warn('Now.addDecades() is deprecated, use Now.grid(10 * value, \\'year\\') instead.');\n    return this.add(10 * value, 'year');\n};\n\n/**\n * @deprecated use Now.sub instead\n */\n// @ts-ignore\nPicoNowDefault.prototype.subDecades = function(value : any) : PicoNow {\n    console.warn('Now.subDecades() is deprecated, use Now.grid(10 * value, \\'year\\') instead.');\n    return this.sub(10 * value, 'year');\n};\n\n/**\n * @deprecated use Now.day instead\n */\n// @ts-ignore\nPicoNowDefault.prototype.humanDay = function() : number {\n    console.warn('Now.humanDay() is deprecated, use Now.day() instead.');\n    return this.day();\n};\n\n/**\n * @deprecated use Now.month instead\n */\n// @ts-ignore\nPicoNowDefault.prototype.humanMonth = function() : number {\n    console.warn('Now.humanMonth() is deprecated, use Now.month() instead.');\n    return this.month();\n};\n\nexport default PicoNowDefault;","import { Locale, Mix, Obj, Str } from \"../index.esm.ts\";\nimport { PicoNow, PicoNowInterface } from \"../utils/Now.ts\";\nimport PicoNowDefault from \"./NowDefault.js\";\nimport PicoNowHuman from \"./NowHuman.js\";\n\nexport const NOW_FORMAT : any = {\n    'L': 'DD/MM/YYYY',\n    'LL': 'MMMM DD, YYYY',\n    'LLL': 'MMMM DD, YYYY HH:mm',\n    'LLLL': 'dddd, MMMM DD, YYYY HH:mm',\n    'LT': 'HH:mm',\n    'LTS': 'HH:mm:ss',\n    'LTSD': 'DD/MM/YYYY HH:mm:ss',\n}\n\nexport const NOW_PARSE : any = {\n    'second': 'ss',\n    'minute': 'mm',\n    'hour': 'HH',\n    'date': 'DD',\n    'month': 'MM',\n    'year': 'YYYY'\n};\n\nexport interface PicoNowFormat extends PicoNowInterface,\n    PicoNowDefault, PicoNowHuman\n{\n    //\n}\n\n/**\n * @memberof PicoNow\n */\nexport class PicoNowFormat\n{\n    /**\n     * Check if value matches format\n     *\n     * @example Now.isParsable(\"2026-01-01\") // => true\n     *\n     * @param {string} value Test value\n     * @param {string} [format] Date format\n     * @returns {boolean} Is parsable\n     */\n    isParsable(value : string, format : string = 'YYYY-MM-DD HH:mm:ss') : boolean\n    {\n        for ( const key in NOW_PARSE ) {\n            value = Str.replace(value, NOW_PARSE[key], format);\n        }\n\n        return value === format;\n    }\n\n    /**\n     * Parse date from string\n     *\n     * @example Now.parse(\"2026-01-01\") // => Now\n     *\n     * @param {any} value Input value\n     * @param {string} [format] Input format\n     * @returns {PicoNow} Current instance\n     */\n    parse(value : any, format : string = 'YYYY-MM-DD HH:mm:ss') : PicoNow\n    {\n        if ( Mix.isTime(value) ) {\n            format = 'HH:mm:ss';\n        }\n\n        if ( Mix.isDate(value) ) {\n            format = 'YYYY-MM-DD';\n        }\n\n        if ( this.isModifible(value) ) {\n            return this.modify(value);\n        }\n\n        if ( !Mix.isIsoDate(value) ) {\n            return this.parseFormat(value, format);\n        }\n\n        this.value = new Date(value);\n\n        return <PicoNow> <unknown> this;\n    }\n\n    /**\n     * Parse date using format\n     *\n     * @example Now.parseFormat(\"01/01/2026\", \"DD/MM/YYYY\")\n     *\n     * @param {string} value Input value\n     * @param {string} format Input format\n     * @returns {PicoNow} Current instance\n     */\n    parseFormat(value : string, format : string) : PicoNow\n    {\n        if ( !this.isParsable(value, format) ) {\n            return <PicoNow> <unknown> (this.value = new Date(NaN), this);\n        }\n\n        for ( const key in NOW_PARSE ) {\n            this.set(Str.extract(value, NOW_PARSE[key], format), key);\n        }\n\n        return <PicoNow> <unknown> this;\n    }\n\n    /**\n     * Format date to string\n     *\n     * @example Now.format(\"YYYY-MM-DD\") // => \"2026-02-12\"\n     *\n     * @param {string} [format] Output format\n     * @returns {string} Formatted string\n     */\n    format(format : string = 'YYYY-MM-DD HH:mm:ss') : string\n    {\n        if ( Obj.has(NOW_FORMAT, format) ) {\n            format = Locale.$text[format] ?? NOW_FORMAT[format];\n        }\n\n        format = format.replace('dddd', () => {\n            return this.human('day');\n        });\n\n        format = format.replace('ddd', () => {\n            return this.human('day', 3);\n        });\n\n        format = format.replace('dd', () => {\n            return this.human('day', 2);\n        });\n\n        format = format.replace('MMMM', () => {\n            return this.human('month');\n        });\n\n        format = format.replace('MMM', () => {\n            return this.human('month', 3);\n        });\n\n        format = format.replace('YYYY', () => {\n            return Str.integer(this.year(), 4);\n        });\n\n        format = format.replace('MM', () => {\n            return Str.integer(this.month(), 2);\n        });\n\n        format = format.replace('DD', () => {\n            return Str.integer(this.date(), 2);\n        });\n\n        format = format.replace('HH', () => {\n            return Str.integer(this.hour(), 2);\n        });\n\n        format = format.replace('mm', () => {\n            return Str.integer(this.minute(), 2);\n        });\n\n        format = format.replace('ss', () => {\n            return Str.integer(this.second(), 2);\n        });\n\n        format = format.replace('YY', () => {\n            return Str.integer(this.shortyear(), 2);\n        });\n\n        format = format.replace('X', () => {\n            return Str.integer(this.time());\n        });\n\n        format = format.replace('x', () => {\n            return Str.integer(this.time() / 1000);\n        });\n\n        return format;\n    }\n\n    /**\n     * Format date as integer\n     *\n     * @example Now.code(\"YYYYMMDD\") // => 20260212\n     *\n     * @param {string} [format] Output format\n     * @returns {number} Formatted integer\n     */\n    code(format : string = 'X') : number\n    {\n        return Mix.int(this.format(format));\n    }\n\n}\n\nexport default PicoNowFormat;","import { Now } from \"../index.esm.ts\";\nimport { PicoNow, PicoNowInterface } from \"../utils/Now.ts\";\nimport PicoNowFormat from \"./NowFormat.js\";\n\nexport interface PicoNowMatch extends PicoNowInterface,\n    PicoNowFormat\n{\n    //\n}\n\n/**\n * @memberof PicoNow\n */\nexport class PicoNowMatch\n{\n    /**\n     * Check if date is before value\n     *\n     * @example Now.make(\"2026-01-01\").before(\"2026-02-12\") // => true\n     *\n     * @param {any} [value] Compare value\n     * @param {string} [format] Compare format\n     * @returns {boolean} True if before\n     */\n    before(value : any = null, format : string = 'x') : boolean\n    {\n        return this.code(format) < Now.make(value).code(format);\n    }\n\n    /**\n     * Check if date is before value date\n     *\n     * @example Now.make(\"2026-01-01\").beforeDate(\"2026-02-12\")\n     *\n     * @param {any} [value] Compare value\n     * @param {string} [format] Compare format\n     * @returns {boolean} True if before\n     */\n    beforeDate(value : any = null, format : string = 'YYYYMMDD') : boolean\n    {\n        return this.before(value, format);\n    }\n\n    /**\n     * Check if date is before value time\n     *\n     * @example Now.make(\"10:00:00\").beforeTime(\"12:00:00\")\n     *\n     * @param {any} [value] Compare value\n     * @param {string} [format] Compare format\n     * @returns {boolean} True if before\n     */\n    beforeTime(value : any = null, format : string = 'HHmmss') : boolean\n    {\n        return this.before(value, format);\n    }\n\n    /**\n     * Check if date is after value\n     *\n     * @example Now.make(\"2026-02-12\").after(\"2026-01-01\") // => true\n     *\n     * @param {any} [value] Compare value\n     * @param {string} [format] Compare format\n     * @returns {boolean} True if after\n     */\n    after(value : any = null, format : string = 'x') : boolean\n    {\n        return this.code(format) > Now.make(value).code(format);\n    }\n\n    /**\n     * Check if date is after value date\n     *\n     * @example Now.make(\"2026-02-12\").afterDate(\"2026-01-01\")\n     *\n     * @param {any} [value] Compare value\n     * @param {string} [format] Compare format\n     * @returns {boolean} True if after\n     */\n    afterDate(value : any = null, format : string = 'YYYYMMDD') : boolean\n    {\n        return this.after(value, format);\n    }\n\n    /**\n     * Check if date is after value time\n     *\n     * @example Now.make(\"12:00:00\").afterTime(\"10:00:00\")\n     *\n     * @param {any} [value] Compare value\n     * @param {string} [format] Compare format\n     * @returns {boolean} True if after\n     */\n    afterTime(value : any = null, format : string = 'HHmmss') : boolean\n    {\n        return this.after(value, format);\n    }\n\n    /**\n     * Check if date equals value\n     *\n     * @example Now.make(\"2026-01-01\").equal(\"2026-01-01\") // => true\n     *\n     * @param {any} [value] Compare value\n     * @param {string} [format] Compare format\n     * @returns {boolean} True if equal\n     */\n    equal(value : any = null, format : string = 'x') : boolean\n    {\n        if ( !(value instanceof Now) ) {\n            value = Now.make(value);\n        }\n\n        return this.code(format) === value.clone().code(format);\n    }\n\n    /**\n     * Check if date equals value date\n     *\n     * @example Now.make(\"2026-01-01\").equalDate(\"2026-01-01\")\n     *\n     * @param {any} [value] Compare value\n     * @param {string} [format] Compare format\n     * @returns {boolean} True if equal\n     */\n    equalDate(value : any = null, format : string = 'YYYYMMDD') : boolean\n    {\n        return this.equal(value, format);\n    }\n\n    /**\n     * Check if date equals value time\n     *\n     * @example Now.make(\"12:00:00\").equalTime(\"12:00:00\")\n     *\n     * @param {any} [value] Compare value\n     * @param {string} [format] Compare format\n     * @returns {boolean} True if equal\n     */\n    equalTime(value : any = null, format : string = 'HHmmss') : boolean\n    {\n        return this.equal(value, format);\n    }\n\n    /**\n     * Check if date is between values\n     *\n     * @example Now.make(\"2026-01-15\").between(\"2026-01-01\", \"2026-01-31\")\n     *\n     * @param {any} [start] Start value\n     * @param {any} [end] End value\n     * @param {string} [format] Compare format\n     * @returns {boolean} True if between\n     */\n    between(start : any = null, end : any = null, format : string = 'YYYYMMDD') : boolean\n    {\n        let dates = [\n            Now.make(start), Now.make(end)\n        ];\n\n        if ( dates[0].after(dates[1], format) ) {\n            dates = dates.reverse();\n        }\n\n        return this.after(dates[0], format) && this.before(dates[1], format);\n    }\n\n}\n\nexport default PicoNowMatch;","import { Arr } from \"../index.esm.ts\";\nimport { PicoNowInterface } from \"../utils/Now.ts\";\nimport PicoNowWalker from \"./NowWalker.js\";\n\nexport interface PicoNowGrid extends PicoNowInterface,\nPicoNowWalker\n{\n    //\n}\n\n/**\n * @memberof PicoNow\n */\nexport class PicoNowGrid\n{\n    /**\n     * Get grid of dates by scope\n     *\n     * @example Now.grid(\"month\") // => [Now, Now, ...]\n     *\n     * @param {string} [scope] Grid scope\n     * @returns {Array<PicoNowInterface>} Array of dates\n     */\n    grid(scope : string = 'day') : Array<PicoNowInterface>\n    {\n        if ( /^seconds?$/i.test(scope) ) {\n            return this.getSecondsGrid();\n        }\n\n        if ( /^minutes?$/i.test(scope) ) {\n            return this.getMinutesGrid();\n        }\n\n        if ( /^hours?$/i.test(scope) ) {\n            return this.getHoursGrid();\n        }\n\n        if ( /^days?$/i.test(scope) ) {\n            return this.getDaysGrid();\n        }\n\n        if ( /^dates?$/i.test(scope) ) {\n            return this.getDatesGrid();\n        }\n\n        if ( /^months?$/i.test(scope) ) {\n            return this.getMonthsGrid();\n        }\n\n        if ( /^years?$/i.test(scope) ) {\n            return this.getYearsGrid();\n        }\n\n        if ( /^decades?$/i.test(scope) ) {\n            return this.getDecadesGrid();\n        }\n\n        throw new Error(`Invalid grid scope type \"${scope}\".`);\n    }\n\n    /**\n     * Get seconds grid\n     *\n     * @example Now.getSecondsGrid(10)\n     *\n     * @param {number} [interval] Step interval\n     * @returns {Array<PicoNowInterface>} Array of dates\n     */\n    getSecondsGrid(interval : number = 1) : Array<PicoNowInterface>\n    {\n        if ( interval == null ) {\n            interval = 1;\n        }\n\n        return Arr.make(60 / interval, (i) => {\n            return this.clone().second(i * interval);\n        });\n    }\n\n    /**\n     * Get minutes grid\n     *\n     * @example Now.getMinutesGrid(10)\n     *\n     * @param {number} [interval] Step interval\n     * @returns {Array<PicoNowInterface>} Array of dates\n     */\n    getMinutesGrid(interval : number = 1) : Array<PicoNowInterface>\n    {\n        if ( interval == null ) {\n            interval = 1;\n        }\n\n        return Arr.make(60 / interval, (i) => {\n            return this.clone().minute(i * interval);\n        });\n    }\n\n    /**\n     * Get hours grid\n     *\n     * @example Now.getHoursGrid(2)\n     *\n     * @param {number} [interval] Step interval\n     * @returns {Array<PicoNowInterface>} Array of dates\n     */\n    getHoursGrid(interval : number = 1) : Array<PicoNowInterface>\n    {\n        if ( interval == null ) {\n            interval = 1;\n        }\n\n        return Arr.make(24 / interval, (i) => {\n            return this.clone().hour(i * interval);\n        });\n    }\n\n    /**\n     * Get days grid\n     *\n     * @example Now.getDaysGrid()\n     *\n     * @returns {Array<PicoNowInterface>} Array of dates\n     */\n    getDaysGrid() : Array<PicoNowInterface>\n    {\n        let dates = [\n            this.first('date').first('day'), this.last('date').last('day')\n        ];\n\n        return dates[0].range(dates[1], 'date');\n    }\n\n    /**\n     * Get dates grid\n     *\n     * @example Now.getDatesGrid()\n     *\n     * @returns {Array<PicoNowInterface>} Array of dates\n     */\n    getDatesGrid() : Array<PicoNowInterface>\n    {\n        let dates = [\n            this.first('date'), this.last('date')\n        ];\n\n        return dates[0].range(dates[1], 'date');\n    }\n\n    /**\n     * Get months grid\n     *\n     * @example Now.getMonthsGrid()\n     *\n     * @returns {Array<PicoNowInterface>} Array of dates\n     */\n    getMonthsGrid() : Array<PicoNowInterface>\n    {\n        let dates = [\n            this.first('month'), this.last('month')\n        ];\n\n        return dates[0].range(dates[1], 'month');\n    }\n\n    /**\n     * Get years grid\n     *\n     * @example Now.getYearsGrid()\n     *\n     * @returns {Array<PicoNowInterface>} Array of dates\n     */\n    getYearsGrid() : Array<PicoNowInterface>\n    {\n        let dates = [\n            this.first('year'), this.clone().last('year')\n        ];\n\n        return dates[0].range(dates[1], 'year');\n    }\n\n    /**\n     * Get decades grid\n     *\n     * @example Now.getDecadesGrid()\n     *\n     * @returns {Array<PicoNowInterface>} Array of dates\n     */\n    getDecadesGrid() : Array<PicoNowInterface>\n    {\n        let dates = [\n            this.first('decade'), this.clone().last('decade')\n        ];\n\n        return dates[0].range(dates[1], 'decade');\n    }\n\n}\n\n/**\n * @deprecated use Now.grid instead\n */\n// @ts-ignore\nPicoNowGrid.prototype.getYears = function() : Array<PicoNowInterface> {\n    console.warn('Now.getYears() is deprecated, use Now.grid(\\'years\\') instead.');\n    return this.grid('years');\n};\n\n/**\n * @deprecated use Now.grid instead\n */\n// @ts-ignore\nPicoNowGrid.prototype.getMonths = function() : Array<PicoNowInterface> {\n    console.warn('Now.getMonths() is deprecated, use Now.grid(\\'months\\') instead.');\n    return this.grid('months');\n};\n\n/**\n * @deprecated use Now.grid instead\n */\n// @ts-ignore\nPicoNowGrid.prototype.getDates = function() : Array<PicoNowInterface> {\n    console.warn('Now.getDates() is deprecated, use Now.grid(\\'dates\\') instead.');\n    return this.grid('dates');\n};\n\n/**\n * @deprecated use Now.grid instead\n */\n// @ts-ignore\nPicoNowGrid.prototype.getHours = function() : Array<PicoNowInterface> {\n    console.warn('Now.getHours() is deprecated, use Now.grid(\\'hours\\') instead.');\n    return this.grid('hours');\n};\n\n/**\n * @deprecated use Now.grid instead\n */\n// @ts-ignore\nPicoNowGrid.prototype.getMinutes = function() : Array<PicoNowInterface> {\n    console.warn('Now.getMinutes() is deprecated, use Now.grid(\\'minutes\\') instead.');\n    return this.grid('minutes');\n};\n\n/**\n * @deprecated use Now.grid instead\n */\n// @ts-ignore\nPicoNowGrid.prototype.getSeconds = function() : Array<PicoNowInterface> {\n    console.warn('Now.getSeconds() is deprecated, use Now.grid(\\'seconds\\') instead.');\n    return this.grid('seconds');\n};\n\nexport default PicoNowGrid;","import { PicoNow, PicoNowInterface } from \"../utils/Now.ts\";\nimport PicoNowDefault from \"./NowDefault.js\";\n\nexport interface PicoNowWalker extends PicoNowInterface,\n    PicoNowDefault\n{\n    //\n}\n\n/**\n * @memberof PicoNow\n */\nexport class PicoNowWalker\n{\n    /**\n     * Get previous date by scope\n     *\n     * @example Now.prev(\"day\") // => Now\n     *\n     * @param {string} [scope] Target scope\n     * @returns {PicoNow} New instance\n     */\n    prev(scope:string = 'date'): PicoNow\n    {\n        if ( /^days?$/i.test(scope) ) {\n            scope = 'date';\n        }\n\n        if ( /^decades?$/i.test(scope) ) {\n            return <PicoNow> <unknown> this.clone().sub(10, 'year');\n        }\n\n        return <PicoNow> <unknown> this.clone().sub(1, scope);\n    }\n\n    /**\n     * Get next date by scope\n     *\n     * @example Now.next(\"day\") // => Now\n     *\n     * @param {string} [scope] Target scope\n     * @returns {PicoNow} New instance\n     */\n    next(scope:string = 'day'): PicoNow\n    {\n        if ( /^days?$/i.test(scope) ) {\n            scope = 'date';\n        }\n\n        if ( /^decades?$/i.test(scope) ) {\n            return <PicoNow> <unknown> this.clone().add(10, 'year');\n        }\n\n        return <PicoNow> <unknown> this.clone().add(1, scope);\n    }\n\n    /**\n     * Get previous second\n     *\n     * @example Now.prevSecond()\n     *\n     * @returns {PicoNow} New instance\n     */\n    prevSecond(): PicoNow\n    {\n        return this.prev('second');\n    }\n\n    /**\n     * Get next second\n     *\n     * @example Now.nextSecond()\n     *\n     * @returns {PicoNow} New instance\n     */\n    nextSecond(): PicoNow\n    {\n        return this.next('second');\n    }\n\n    /**\n     * Get previous minute\n     *\n     * @example Now.prevMinute()\n     *\n     * @returns {PicoNow} New instance\n     */\n    prevMinute(): PicoNow\n    {\n        return this.prev('minute');\n    }\n\n    /**\n     * Get next minute\n     *\n     * @example Now.nextMinute()\n     *\n     * @returns {PicoNow} New instance\n     */\n    nextMinute(): PicoNow\n    {\n        return this.next('minute');\n    }\n\n    /**\n     * Get previous hour\n     *\n     * @example Now.prevHour()\n     *\n     * @returns {PicoNow} New instance\n     */\n    prevHour(): PicoNow\n    {\n        return this.prev('hour');\n    }\n\n    /**\n     * Get next hour\n     *\n     * @example Now.nextHour()\n     *\n     * @returns {PicoNow} New instance\n     */\n    nextHour(): PicoNow\n    {\n        return this.next('hour');\n    }\n\n    /**\n     * Get previous date\n     *\n     * @example Now.prevDate()\n     *\n     * @returns {PicoNow} New instance\n     */\n    prevDate(): PicoNow\n    {\n        return this.prev('date');\n    }\n\n    /**\n     * Get next date\n     *\n     * @example Now.nextDate()\n     *\n     * @returns {PicoNow} New instance\n     */\n    nextDate(): PicoNow\n    {\n        return this.next('date');\n    }\n\n    /**\n     * Get previous month\n     *\n     * @example Now.prevMonth()\n     *\n     * @returns {PicoNow} New instance\n     */\n    prevMonth(): PicoNow\n    {\n        return this.prev('month');\n    }\n\n    /**\n     * Get next month\n     *\n     * @example Now.nextMonth()\n     *\n     * @returns {PicoNow} New instance\n     */\n    nextMonth(): PicoNow\n    {\n        return this.next('month');\n    }\n\n    /**\n     * Get previous year\n     *\n     * @example Now.prevYear()\n     *\n     * @returns {PicoNow} New instance\n     */\n    prevYear(): PicoNow\n    {\n        return this.prev('year');\n    }\n\n    /**\n     * Get next year\n     *\n     * @example Now.nextYear()\n     *\n     * @returns {PicoNow} New instance\n     */\n    nextYear(): PicoNow\n    {\n        return this.next('year');\n    }\n\n    /**\n     * Get previous decade\n     *\n     * @example Now.prevDecade()\n     *\n     * @returns {PicoNow} New instance\n     */\n    prevDecade(): PicoNow\n    {\n        return this.prev('decade');\n    }\n\n    /**\n     * Get next decade\n     *\n     * @example Now.nextDecade()\n     *\n     * @returns {PicoNow} New instance\n     */\n    nextDecade(): PicoNow\n    {\n        return this.next('decade');\n    }\n\n    /**\n     * Get start of scope\n     *\n     * @example Now.first(\"month\")\n     *\n     * @param {string} [scope] Target scope\n     * @returns {PicoNow} New instance\n     */\n    first(scope:string = 'date'): PicoNow\n    {\n        if ( /^seconds?$/i.test(scope) ) {\n            return this.firstSecond();\n        }\n\n        if ( /^minutes?$/i.test(scope) ) {\n            return this.firstMinute();\n        }\n\n        if ( /^hours?$/i.test(scope) ) {\n            return this.firstHour();\n        }\n\n        if ( /^days?$/i.test(scope) ) {\n            return this.firstDay();\n        }\n\n        if ( /^dates?$/i.test(scope) ) {\n            return this.firstDate();\n        }\n\n        if ( /^months?$/i.test(scope) ) {\n            return this.firstMonth();\n        }\n\n        if ( /^years?$/i.test(scope) ) {\n            return this.firstYear();\n        }\n\n        if ( /^decades?$/i.test(scope) ) {\n            return this.firstDecade();\n        }\n\n        throw new Error(`Invalid first scope type \"${scope}\".`);\n    }\n\n    /**\n     * Get end of scope\n     *\n     * @example Now.last(\"month\")\n     *\n     * @param {string} [scope] Target scope\n     * @returns {PicoNow} New instance\n     */\n    last(scope:string = 'date'): PicoNow\n    {\n        if ( /^seconds?$/i.test(scope) ) {\n            return this.lastSecond();\n        }\n\n        if ( /^minutes?$/i.test(scope) ) {\n            return this.lastMinute();\n        }\n\n        if ( /^hours?$/i.test(scope) ) {\n            return this.lastHour();\n        }\n\n        if ( /^days?$/i.test(scope) ) {\n            return this.lastDay();\n        }\n\n        if ( /^dates?$/i.test(scope) ) {\n            return this.lastDate();\n        }\n\n        if ( /^months?$/i.test(scope) ) {\n            return this.lastMonth();\n        }\n\n        if ( /^years?$/i.test(scope) ) {\n            return this.lastYear();\n        }\n\n        if ( /^decades?$/i.test(scope) ) {\n            return this.lastDecade();\n        }\n\n        throw new Error(`Invalid last scope type \"${scope}\".`);\n    }\n\n    /**\n     * Get start of second\n     *\n     * @example Now.firstSecond()\n     *\n     * @returns {PicoNow} New instance\n     */\n    firstSecond(): PicoNow\n    {\n        return <PicoNow> <unknown> this.clone().set(0, 'second');\n    }\n\n    /**\n     * Get end of second\n     *\n     * @example Now.lastSecond()\n     *\n     * @returns {PicoNow} New instance\n     */\n    lastSecond(): PicoNow\n    {\n        return <PicoNow> <unknown> this.clone().set(59, 'second');\n    }\n\n    /**\n     * Get start of minute\n     *\n     * @example Now.firstMinute()\n     *\n     * @returns {PicoNow} New instance\n     */\n    firstMinute(): PicoNow\n    {\n        return <PicoNow> <unknown> this.clone().set(0, 'minute');\n    }\n\n    /**\n     * Get end of minute\n     *\n     * @example Now.lastMinute()\n     *\n     * @returns {PicoNow} New instance\n     */\n    lastMinute(): PicoNow\n    {\n        return <PicoNow> <unknown> this.clone().set(59, 'minute');\n    }\n\n    /**\n     * Get start of hour\n     *\n     * @example Now.firstHour()\n     *\n     * @returns {PicoNow} New instance\n     */\n    firstHour(): PicoNow\n    {\n        return <PicoNow> <unknown> this.clone().set(0, 'hour');\n    }\n\n    /**\n     * Get end of hour\n     *\n     * @example Now.lastHour()\n     *\n     * @returns {PicoNow} New instance\n     */\n    lastHour(): PicoNow\n    {\n        return <PicoNow> <unknown> this.clone().set(23, 'hour');\n    }\n\n    /**\n     * Get start of day\n     *\n     * @example Now.firstDay()\n     *\n     * @returns {PicoNow} New instance\n     */\n    firstDay(): PicoNow\n    {\n        return <PicoNow> <unknown> this.clone().set(0, 'day');\n    }\n\n    /**\n     * Get end of day\n     *\n     * @example Now.lastDay()\n     *\n     * @returns {PicoNow} New instance\n     */\n    lastDay(): PicoNow\n    {\n        return <PicoNow> <unknown> this.clone().set(6, 'day');\n    }\n\n    /**\n     * Get start of month date\n     *\n     * @example Now.firstDate()\n     *\n     * @returns {PicoNow} New instance\n     */\n    firstDate(): PicoNow\n    {\n        return <PicoNow> <unknown> this.clone().set(1, 'date');\n    }\n\n    /**\n     * Get end of month date\n     *\n     * @example Now.lastDate()\n     *\n     * @returns {PicoNow} New instance\n     */\n    lastDate(): PicoNow\n    {\n        return <PicoNow> <unknown> this.clone().next('month').set(0, 'date');\n    }\n\n    /**\n     * Get start of year month\n     *\n     * @example Now.firstMonth()\n     *\n     * @returns {PicoNow} New instance\n     */\n    firstMonth(): PicoNow\n    {\n        return <PicoNow> <unknown> this.clone().set(1, 'month');\n    }\n\n    /**\n     * Get end of year month\n     *\n     * @example Now.lastMonth()\n     *\n     * @returns {PicoNow} New instance\n     */\n    lastMonth(): PicoNow\n    {\n        return <PicoNow> <unknown> this.clone().set(12, 'month');\n    }\n\n    /**\n     * Get nth year of decade\n     *\n     * @example Now.nthYear(5)\n     *\n     * @param {number} [n] Year index\n     * @returns {PicoNow} New instance\n     */\n    nthYear(n:number = 0): PicoNow\n    {\n        let year = Math.floor(this.year() / 10) * 10;\n\n        return <PicoNow> <unknown> this.clone().set(year + n, 'year');\n    }\n\n    /**\n     * Get first year of decade\n     *\n     * @example Now.firstYear()\n     *\n     * @returns {PicoNow} New instance\n     */\n    firstYear(): PicoNow\n    {\n        return this.nthYear(0);\n    }\n\n    /**\n     * Get last year of decade\n     *\n     * @example Now.lastYear()\n     *\n     * @returns {PicoNow} New instance\n     */\n    lastYear(): PicoNow\n    {\n        return this.nthYear(9);\n    }\n\n    /**\n     * Get nth decade of century\n     *\n     * @example Now.nthDecade(5)\n     *\n     * @param {number} [n] Decade index\n     * @returns {PicoNow} New instance\n     */\n    nthDecade(n:number = 0): PicoNow\n    {\n        let year = Math.floor(this.year() / 100) * 100;\n\n        return <PicoNow> <unknown> this.clone().set(year + (n * 10), 'year');\n    }\n\n    /**\n     * Get first decade of century\n     *\n     * @example Now.firstDecade()\n     *\n     * @returns {PicoNow} New instance\n     */\n    firstDecade(): PicoNow\n    {\n        return this.nthDecade(0);\n    }\n\n    /**\n     * Get last decade of century\n     *\n     * @example Now.lastDecade()\n     *\n     * @returns {PicoNow} New instance\n     */\n    lastDecade(): PicoNow\n    {\n        return this.nthDecade(9);\n    }\n\n}\n\nexport default PicoNowWalker;","import { Now, Arr } from \"../index.esm.ts\";\nimport { PicoNow, PicoNowInterface } from \"../utils/Now.ts\";\n\nexport interface PicoNowRange extends PicoNowInterface\n{\n    //\n}\n\n/**\n * @memberof PicoNow\n */\nexport class PicoNowRange\n{\n\n    /**\n     * Get range of dates\n     *\n     * @example Now.range(\"2026-01-31\", \"day\") // => [Now, Now, ...]\n     *\n     * @param {any} [value] End date\n     * @param {string} [scope] Range scope\n     * @returns {Array<PicoNow>} Array of dates\n     */\n    range(value:any = null, scope:string = 'date'):Array<PicoNow>\n    {\n        let format = 'YYYYMMDD';\n\n        if ( /^months?$/.test(scope) ) {\n            format = 'YYYYMM';\n        }\n\n        if ( /^years?$/.test(scope) ) {\n            format = 'YYYY';\n        }\n\n        let range = [];\n\n        let dates = [\n            this.clone(), Now.make(value)\n        ];\n\n        if ( dates[0].afterDate(dates[1]) ) {\n            dates = dates.reverse();\n        }\n\n        dates[1].add(1, scope);\n\n        for ( let day = dates[0]; ! day.equal(dates[1], format); day = day.next(scope) ) {\n            Arr.append(range, day);\n        }\n\n        return range;\n    }\n\n}\n\n/**\n * @deprecated use Now.range instead\n */\n// @ts-ignore\nPicoNowRange.prototype.getDatesRange = function(...args:Parameters<typeof PicoNowRange.prototype.range>) : Array<PicoNow> {\n    console.warn('Now.getDatesRange() is deprecated, use Now.range() instead.');\n    return this.range(...args);\n};\n\nexport default PicoNowRange;","import { Locale } from \"../index.esm.ts\";\nimport { PicoNowInterface } from \"../utils/Now.ts\";\nimport PicoNowDefault from \"./NowDefault.js\";\n\nexport const NOW_HUMAN_DAYS : string[] = [\n    'Sunday',\n    'Monday',\n    'Tuesday',\n    'Wednesday',\n    'Thursday',\n    'Friday',\n    'Saturday'\n];\n\nexport const NOW_HUMAN_MONTHS : string[] = [\n    'January',\n    'February',\n    'March',\n    'April',\n    'May',\n    'June',\n    'July',\n    'August',\n    'September',\n    'October',\n    'November',\n    'December'\n];\n\nexport interface PicoNowHuman extends PicoNowInterface, PicoNowDefault\n{\n    //\n}\n\nexport class PicoNowHuman\n{\n    /**\n     * Get human readable value\n     *\n     * @example Now.human(\"day\") // => \"Monday\"\n     *\n     * @param {string} [scope] Value scope\n     * @param {number} [substr] Substring length\n     * @returns {any} Human value\n     */\n    human(scope : string = 'day', substr : number = null) : any\n    {\n        if ( /^days?$/i.test(scope) ) {\n            return this.getHumanDay(substr);\n        }\n\n        if ( /^months?$/i.test(scope) ) {\n            return this.getHumanMonth(substr);\n        }\n\n        return this.get(scope);\n    }\n\n    /**\n     * Get human readable day\n     *\n     * @example Now.getHumanDay(3) // => \"Mon\"\n     *\n     * @param {number} [substr] Substring length\n     * @returns {string} Day name\n     */\n    getHumanDay(substr : number = null) : string\n    {\n        let day = this.day() - 1;\n\n        if ( !NOW_HUMAN_DAYS[day] ) {\n            throw new Error(`Invalid day number \"${day}\".`);\n        }\n\n        let value = Locale.trans(NOW_HUMAN_DAYS[day]);\n\n        if ( substr != null ) {\n            value = value.substring(0, substr);\n        }\n\n        return value;\n    }\n\n    /**\n     * Get human readable month\n     *\n     * @example Now.getHumanMonth(3) // => \"Jan\"\n     *\n     * @param {number} [substr] Substring length\n     * @returns {string} Month name\n     */\n    getHumanMonth(substr : number = null) : string\n    {\n        let month = this.day() - 1;\n\n        if ( !NOW_HUMAN_MONTHS[month] ) {\n            throw new Error(`Invalid month number \"${month}\".`);\n        }\n\n        let value = Locale.trans(NOW_HUMAN_MONTHS[month]);\n\n        if ( substr != null ) {\n            value = value.substring(0, substr);\n        }\n\n        return value;\n    }\n\n}\n\nexport default PicoNowHuman;","import { trait } from \"../tool/scope.ts\";\nimport { Arr, Mix, Now } from \"../index.esm.ts\";\nimport { PicoNowDefault } from \"../now/NowDefault.ts\";\nimport { PicoNowFormat } from \"../now/NowFormat.ts\";\nimport { PicoNowMatch } from \"../now/NowMatch.ts\";\nimport { PicoNowGrid } from \"../now/NowGrid.ts\";\nimport { PicoNowWalker } from \"../now/NowWalker.ts\";\nimport { PicoNowRange } from \"../now/NowRange.ts\";\nimport { PicoNowHuman } from \"../now/NowHuman.ts\";\n\nexport const PicoNowPlugins = [\n    PicoNowDefault,\n    PicoNowFormat,\n    PicoNowMatch,\n    PicoNowGrid,\n    PicoNowWalker,\n    PicoNowRange,\n    PicoNowHuman,\n];\n\nexport interface PicoNowInterface\n{\n    value : Date;\n    input : any;\n    reset(config : any) : PicoNow;\n    clone() : PicoNow;\n    valid() : boolean;\n    toDate() : Date;\n    toUTC() : string;\n}\n\nexport interface PicoNow extends PicoNowDefault,\n    PicoNowFormat,\n    PicoNowMatch,\n    PicoNowGrid,\n    PicoNowWalker,\n    PicoNowRange,\n    PicoNowHuman\n{\n    //\n}\n\n/**\n * @class PicoNow\n * @extends PicoNowDefault\n * @extends PicoNowFormat\n * @extends PicoNowMatch\n * @extends PicoNowGrid\n * @extends PicoNowWalker\n * @extends PicoNowRange\n * @extends PicoNowHuman\n */\nexport class PicoNow extends trait(PicoNowPlugins)\n{\n    /**\n     * Init hooks for instance\n     *\n     * @type {Function[]}\n     */\n    static init : Function[] = [];\n\n    /**\n     * Original input value\n     *\n     * @type {any}\n     */\n    input : any = null;\n\n    /**\n     * Current Date instance\n     *\n     * @type {Date}\n     */\n    value : Date = null;\n\n    /**\n     * Create Now instance from input\n     *\n     * @example new Now().toUTC() // => string\n     *\n     * @param {any} [value] Date input\n     * @param {string} [format] Input format\n     */\n    constructor(value : any = null, format : string = 'YYYY-MM-DD HH:mm:ss')\n    {\n        super();\n\n        if ( value === 'now' ) {\n            value = null;\n        }\n\n        let input = value;\n\n        if ( value && value.toDate ) {\n            value = value.toDate();\n        }\n\n        if ( !(value instanceof Date) ) {\n            value = new Date();\n        }\n\n        this.input = value;\n\n        if ( Mix.isNix(input) ) {\n            this.input = input;\n        }\n\n        this.value = value;\n\n        if ( Mix.isStr(input) ) {\n            this.parse(input, format);\n        }\n\n        Arr.each(Now.init, (fn : Function) => {\n            fn.call(this, format);\n        });\n\n        return this;\n    }\n\n    /**\n     * Extend Now with a plugin\n     *\n     * @example Now.extend(fn)\n     *\n     * @param {Function} plugin Plugin function\n     * @returns {void} No return value\n     */\n    static extend(plugin : Function) : void\n    {\n        plugin.call({}, this);\n    }\n\n    /**\n     * Create Now instance helper\n     *\n     * @example Now.make(\"now\") // => Now\n     *\n     * @param {any} [value] Date input\n     * @param {string} [format] Input format\n     * @returns {PicoNow} Now instance\n     */\n    static make(value : any = null, format : string = 'YYYY-MM-DD HH:mm:ss') : PicoNow\n    {\n        return new Now(value, format);\n    }\n\n    /**\n     * Reset date parts to start\n     *\n     * @example Now.make().reset() // => Now\n     *\n     * @param {any} [config] Reset flags\n     * @returns {PicoNow} Now instance\n     */\n    reset(config : any = null) : PicoNow\n    {\n        if ( config == null ) {\n            config = { month: true, day: true, time: true };\n        }\n\n        if ( config.month ) {\n            this.value.setMonth(0);\n        }\n\n        if ( config.day ) {\n            this.value.setDate(1);\n        }\n\n        if ( config.time ) {\n            this.value.setHours(0, 0, 0);\n        }\n\n        return this;\n    }\n\n    /**\n     * Clone Now instance\n     *\n     * @example Now.make().clone() // => Now\n     *\n     * @returns {PicoNow} New instance\n     */\n    clone() : PicoNow\n    {\n        return new Now(new Date(this.value), null);\n    }\n\n    /**\n     * Check if input is valid date\n     *\n     * @example Now.make(\"x\").valid() // => false\n     *\n     * @returns {boolean} True if valid\n     */\n    valid() : boolean\n    {\n        return !isNaN(this.input);\n    }\n\n    /**\n     * Get Date instance\n     *\n     * @example Now.make().toDate() // => Date\n     *\n     * @returns {Date} Date instance\n     */\n    toDate() : Date\n    {\n        return this.value;\n    }\n\n    /**\n     * Get UTC string\n     *\n     * @example Now.make().toUTC() // => string\n     *\n     * @returns {string} UTC string\n     */\n    toUTC() : string\n    {\n        return this.value.toUTCString();\n    }\n\n}\n\n/**\n * @deprecated use Now.reset instead\n */\n// @ts-ignore\nPicoNow.prototype.resetTime = function() : PicoNow {\n    console.warn('Now.resetTime() is deprecated, use Now.reset({ time: true }) instead.');\n    return this.reset({ time: true });\n};\n\nexport default PicoNow;","import { Arr, Mix, Dom } from \"../index.esm.ts\";\nimport { PicoDomInterface, PicoDom } from \"../utils/Dom.ts\";\n\nexport interface PicoDomFinder extends PicoDomInterface\n{\n    //\n}\n\n/**\n * @memberof PicoDom\n */\nexport class PicoDomFinder\n{\n    /**\n     * Filter nodes by type\n     *\n     * @example Dom.filterNodes(nodes, 1)\n     *\n     * @param {any} nodes Source nodes\n     * @param {number} [filter] Node type\n     * @returns {Array<any>} Filtered nodes\n     */\n    static filterNodes(nodes : any, filter : number = 1) : Array<any>\n    {\n        return Arr.filter(Mix.nodes(nodes), (el : any) => {\n            return el.nodeType === filter;\n        });\n    }\n\n    /**\n     * Get nodes at point\n     *\n     * @example Dom.getNodePoint(100, 100)\n     *\n     * @param {any} event Event data\n     * @returns {Array<any>} Nodes at point\n     */\n    static getNodePoint(event : any) : Array<any>\n    {\n        if ( event.touches?.[0] ) {\n            event = event.touches[0];\n        }\n\n        let [el, src] = [\n            null, [event.clientX, event.clientY]\n        ];\n\n        if ( Dom.doc().elementsFromPoint != null ) {\n            el = document.elementsFromPoint(src[0], src[1]);\n        }\n\n        if ( Dom.doc().msElementsFromPoint != null ) {\n            // @ts-ignore\n            el = document.msElementsFromPoint(src[0], src[1]);\n        }\n\n        return el;\n    }\n\n    /**\n     * Get target by selector\n     *\n     * @example Dom.getNodeEvent(\".item\", event)\n     *\n     * @param {string} selector Node selector\n     * @param {any} [event] Event object\n     * @returns {any} Found element\n     */\n    static getNodeEvent(selector : string, event : any = {}) : any\n    {\n        let target = event.srcElement;\n\n        if ( target == null ) {\n            target = event.target;\n        }\n\n        let { type } = event;\n\n        if ( /^(drag[a-z]*|drop$)/.test(type) ) {\n            target = Dom.getNodePoint(event);\n        }\n\n        if ( Mix.isArr(target) ) {\n            target = Arr.first(target);\n        }\n\n        if ( target == null ) {\n            target = event.target;\n        }\n\n        return target.closest(selector);\n    }\n\n    /**\n     * Get node type\n     *\n     * @example Dom.find(\"div\").getNodeType() // => 1\n     *\n     * @param {number} [fallback] Fallback value\n     * @returns {number} Node type\n     */\n    getNodeType(fallback : number = -1) : number\n    {\n        if ( !this.el ) {\n            return fallback;\n        }\n\n        return this.el.nodeType;\n    }\n\n    /**\n     * Get parent node\n     *\n     * @example Dom.find(\"div\").getNodeParent() // => PicoDom\n     *\n     * @param {any} [fallback] Fallback value\n     * @returns {PicoDom} Parent instance\n     */\n    getNodeParent(fallback : any = null) : PicoDom\n    {\n        if ( !this.el ) {\n            return fallback;\n        }\n\n        return Dom.find(this.el.parentNode);\n    }\n\n    /**\n     * Get previous node\n     *\n     * @example Dom.find(\"div\").getNodePrev() // => PicoDom\n     *\n     * @param {any} [fallback] Fallback value\n     * @returns {PicoDom} Prev instance\n     */\n    getNodePrev(fallback : any = null) : PicoDom\n    {\n        if ( !this.el ) {\n            return fallback;\n        }\n\n        return Dom.find(this.el.previousSibling);\n    }\n\n    /**\n     * Get next node\n     *\n     * @example Dom.find(\"div\").getNodeNext() // => PicoDom\n     *\n     * @param {any} [fallback] Fallback value\n     * @returns {PicoDom} Next instance\n     */\n    getNodeNext(fallback : any = null) : PicoDom\n    {\n        if ( !this.el ) {\n            return fallback;\n        }\n\n        return Dom.find(this.el.nextSibling);\n    }\n\n    /**\n     * Get child nodes\n     *\n     * @example Dom.find(\"div\").getNodeChilds(1)\n     *\n     * @param {number} [type] Node type\n     * @param {any} [fallback] Fallback value\n     * @returns {Array<any>} Child nodes\n     */\n    getNodeChilds(type : number = -1, fallback : any = []) : Array<any>\n    {\n        if ( !this.el ) {\n            return fallback;\n        }\n\n        let childs = Mix.nodes(this.el.childNodes);\n\n        if ( type === -1 ) {\n            return childs;\n        }\n\n        return Arr.filter(childs, (el : any) => {\n            return el.nodeType === type;\n        });\n    }\n\n    /**\n     * Filter instances nodes\n     *\n     * @example Dom.find(\"div\").sanatize(1)\n     *\n     * @param {number} [filter] Node type\n     * @returns {PicoDom} Current instance\n     */\n    sanatize(filter : number = 1) : PicoDom\n    {\n        this.els = Dom.filterNodes(this.els, filter);\n\n        return <PicoDom> <unknown> this;\n    }\n\n    /**\n     * Filter elements by selector\n     *\n     * @example Dom.find(\"div\").filter(\".active\")\n     *\n     * @param {any} selector Filter selector\n     * @returns {Array<any>} Filtered nodes\n     */\n    filter(selector : any) : Array<any>\n    {\n        if ( typeof selector !== 'function' ) {\n            selector = (el : any) => Dom.find(el).is(selector);\n        }\n\n        return Arr.filter(this.els, selector);\n    }\n\n    /**\n     * Exclude elements by selector\n     *\n     * @example Dom.find(\"div\").except(\".active\")\n     *\n     * @param {any} selector Exclude selector\n     * @returns {Array<any>} Filtered nodes\n     */\n    except(selector : any) : Array<any>\n    {\n        if ( typeof selector !== 'function' ) {\n            selector = (el : any) => !Dom.find(el).is(selector);\n        }\n\n        return Arr.filter(this.els, selector);\n    }\n\n    /**\n     * Find elements in instance\n     *\n     * @example Dom.find(\"div\").find(\".item\")\n     *\n     * @param {any} selector Search selector\n     * @returns {PicoDom} Dom instance\n     */\n    find(selector : any) : PicoDom\n    {\n        if ( this.el == null ) {\n            return Dom.find(null);\n        }\n\n        let el = this.el;\n\n        if ( el instanceof Window ) {\n            el = document.body;\n        }\n\n        let nodes = selector;\n\n        if ( Mix.isStr(nodes) ) {\n            nodes = el.querySelectorAll(selector);\n        }\n\n        return Dom.find(nodes);\n    }\n\n    /**\n     * Get element by index\n     *\n     * @example Dom.find(\"div\").get(0) // => HTMLElement\n     *\n     * @param {number} [index] Node index\n     * @returns {any} Found element\n     */\n    get(index : number = -1) : any\n    {\n        let nodes = this.els;\n\n        if ( index === -1 ) {\n            return nodes;\n        }\n\n        return Arr.get(nodes, index);\n    }\n\n    /**\n     * Get first element\n     *\n     * @example Dom.find(\"div\").first() // => HTMLElement\n     *\n     * @param {number} [offset] Node offset\n     * @returns {any} Found element\n     */\n    first(offset : number = 0) : any\n    {\n        return this.get(offset);\n    }\n\n    /**\n     * Get last element\n     *\n     * @example Dom.find(\"div\").last() // => HTMLElement\n     *\n     * @param {number} [offset] Node offset\n     * @returns {any} Found element\n     */\n    last(offset : number = 1) : any\n    {\n        return Arr.get(this.els, this.els.length - offset);\n    }\n\n    /**\n     * Iterate over elements\n     *\n     * @example Dom.find(\"div\").each((el) => console.log(el))\n     *\n     * @param {Function} cb Callback fn\n     * @returns {PicoDom} Current instance\n     */\n    each(cb : Function) : PicoDom\n    {\n        return (this, Arr.each(this.els, cb));\n    }\n\n    /**\n     * Loop through parent nodes\n     *\n     * @example Dom.find(\"div\").loopParent((el) => console.log(el))\n     *\n     * @param {Function} cb Callback fn\n     * @param {any} [boundry] Loop limit\n     * @returns {PicoDom} Current instance\n     */\n    loopParent(cb : Function, boundry : any = null) : PicoDom\n    {\n        if ( boundry == null ) {\n            boundry = Dom.win();\n        }\n\n        for ( let el : any = this.el; el && el !== boundry; el = el.parentNode ) {\n            cb.call({}, el);\n        }\n\n        return <PicoDom> <unknown> this;\n    }\n\n    /**\n     * Get parent instance\n     *\n     * @example Dom.find(\"div\").parent() // => PicoDom\n     *\n     * @returns {PicoDom} Parent instance\n     */\n    parent() : PicoDom\n    {\n        let parent = this.getNodeParent();\n\n        if ( parent == null ) {\n            return Dom.find(null);\n        }\n\n        return parent;\n    }\n\n    /**\n     * Get first child match\n     *\n     * @example Dom.find(\"div\").child(\".item\")\n     *\n     * @param {any} selector Child selector\n     * @param {number} [filter] Node type\n     * @returns {PicoDom} Child instance\n     */\n    child(selector : any = null, filter : number = 1) : PicoDom\n    {\n        for ( let el of this.childs(selector, filter) ) {\n            return Dom.find(el);\n        }\n\n        return Dom.find(null);\n    }\n\n    /**\n     * Get child elements\n     *\n     * @example Dom.find(\"div\").childs(\".item\")\n     *\n     * @param {any} [selector] Child selector\n     * @param {number} [filter] Node type\n     * @returns {Array<any>} Child elements\n     */\n    childs(selector : any = null, filter : number = 1) : Array<any>\n    {\n        let childs = this.getNodeChilds(filter);\n\n        if ( selector == null ) {\n            return childs;\n        }\n\n        return Arr.filter(childs, (el) => {\n            return Dom.find(el).is(selector);\n        });\n    }\n\n    /**\n     * Get closest element\n     *\n     * @example Dom.find(\"div\").closest(\".container\")\n     *\n     * @param {any} selector Target selector\n     * @returns {any} Found element\n     */\n    closest(selector : any) : any\n    {\n        if ( this.el === selector ) {\n            return this.el;\n        }\n\n        for ( let el : any = this; el.el != null; el = el.getNodeParent() ) {\n            if ( el.is(selector) ) return el.el;\n        }\n\n        return null;\n    }\n\n    /**\n     * Get closest instance\n     *\n     * @example Dom.find(\"div\").upnode(\".container\")\n     *\n     * @param {any} selector\n     * @returns {PicoDom}\n     */\n    upnode(selector : any) : PicoDom\n    {\n        return Dom.find(...[\n            this.closest(selector)\n        ]);\n    }\n\n    /**\n     * Get previous element\n     *\n     * @example Dom.find(\"div\").prev() // => PicoDom\n     *\n     * @param {number} [type] Node type\n     * @returns {PicoDom} Prev instance\n     */\n    prev(type : number = 1) : PicoDom\n    {\n        let el = this.getNodePrev();\n\n        for ( el; el != null; el = el.getNodePrev() ) {\n            if ( el.getNodeType() === type ) return Dom.find(el);\n        }\n\n        return Dom.find(null);\n    }\n\n    /**\n     * Get next element\n     *\n     * @example Dom.find(\"div\").next() // => PicoDom\n     *\n     * @param {number} [type] Node type\n     * @returns {PicoDom} Next instance\n     */\n    next(type : number = 1) : PicoDom\n    {\n        let el = this.getNodeNext();\n\n        for ( el; el != null; el = el.getNodeNext() ) {\n            if ( el.getNodeType() === type ) return Dom.find(el);\n        }\n\n        return Dom.find(null);\n    }\n\n    /**\n     * Get number of elements\n     *\n     * @example Dom.find(\"div\").length() // => 1\n     *\n     * @returns {number} Count value\n     */\n    length() : number\n    {\n        return this.els.length;\n    }\n\n    /**\n     * Check if element matches\n     *\n     * @example Dom.find(\"div\").is(\".active\") // => true\n     *\n     * @param {any} selector Test selector\n     * @param {boolean} [empty] Test selector\n     * @returns {boolean} True if matches\n     */\n    is(selector : any, empty : boolean = false) : boolean\n    {\n        if ( this.el === selector ) {\n            return true;\n        }\n\n        if ( this.el == null ) {\n            return empty;\n        }\n\n        for ( let el of this.parent().find(selector).get() ) {\n            if ( el === this.el ) return true;\n        }\n\n        return false;\n    }\n\n    /**\n     * Check if contains match\n     *\n     * @example Dom.find(\"div\").matches(\".active\")\n     *\n     * @param {any} selector Test selector\n     * @returns {boolean} True if matches\n     */\n    matches(selector : any) : boolean\n    {\n        if ( this.el === selector ) {\n            return true;\n        }\n\n        if ( this.el == null ) {\n            return false;\n        }\n\n        for ( let el of this.find(selector).get() ) {\n            if ( el === this.el ) return true;\n        }\n\n        return false;\n    }\n\n    /**\n     * Check if instance is empty\n     *\n     * @example Dom.find(\".none\").empty() // => true\n     *\n     * @returns {boolean} True if empty\n     */\n    empty() : boolean\n    {\n        return this.length() < 1 || this.el == null;\n    }\n\n    /**\n     * Check if element is visible\n     *\n     * @example Dom.find(\"div\").visible() // => true\n     *\n     * @returns {boolean} True if visible\n     */\n    visible() : boolean\n    {\n        if ( this.el == null ) {\n            return false;\n        }\n\n        return this.el.is(':visible');\n    }\n\n    /**\n     * Check if parent matches\n     *\n     * @example Dom.find(\"div\").above(\".container\")\n     *\n     * @param {any} selector Parent selector\n     * @returns {boolean} True if matches\n     */\n    above(selector : any) : boolean\n    {\n        // Parent is exacly selector\n        return this.parent().is(selector);\n    }\n\n    /**\n     * Check if inside match\n     *\n     * @example Dom.find(\"div\").inside(\".container\")\n     *\n     * @param {any} selector Target selector\n     * @returns {boolean} True if inside\n     */\n    inside(selector : any) : boolean\n    {\n        // Has parent of selector\n        return this.closest(selector) != null;\n    }\n\n    /**\n     * Check if contains match\n     *\n     * @example Dom.find(\"div\").contains(\".item\")\n     *\n     * @param {any} selector Target selector\n     * @returns {boolean} True if contains\n     */\n    contains(selector : any) : boolean\n    {\n        // Has child of selector\n        return this.el.contains(selector);\n    }\n\n}\n\n/**\n * @deprecated use Dom.above instead\n */\n// @ts-ignore\nPicoDomFinder.prototype.isParent = function(...args : Parameters<typeof PicoDomFinder.prototype.above>) : any {\n    console.warn('Dom.isParent() is deprecated, use Dom.above() instead.');\n    return this.above(...args);\n};\n\n/**\n * @deprecated use Dom.prev instead\n */\n// @ts-ignore\nPicoDomFinder.prototype.previous = function() : any {\n    console.warn('Dom.previous() is deprecated, use Dom.prev() instead.');\n    return this.prev();\n};\n\n/**\n * @deprecated use Dom.filter instead\n */\n// @ts-ignore\nPicoDomFinder.prototype.where = function(...args : Parameters<typeof PicoDomFinder.prototype.filter>) : any {\n    console.warn('Dom.where() is deprecated, use Dom.filter() instead.');\n    return this.filter(...args);\n};\n\n/**\n * @deprecated use Dom.except instead\n */\n// @ts-ignore\nPicoDomFinder.prototype.not = function(...args : Parameters<typeof PicoDomFinder.prototype.except>) : any {\n    console.warn('Dom.not() is deprecated, use Dom.except() instead.');\n    return this.except(...args);\n};\n\n/**\n * @deprecated not implemented anymore\n */\n// @ts-ignore\nPicoDomFinder.prototype.getNot = function() : void {\n    console.error('Dom.getNot() is not implemented anymore.');\n};\n\nexport default PicoDomFinder;","import { PicoDomInterface } from \"../utils/Dom.ts\";\nimport PicoDomFinder from \"./DomFinder.js\";\n\nexport interface PicoDomForm extends PicoDomInterface,\n    PicoDomFinder\n{\n    //\n}\n\n/**\n * @memberof PicoDom\n */\nexport class PicoDomForm\n{\n    /**\n     * Get or set input value\n     *\n     * @example Dom.find(\"input\").value(\"hello\")\n     *\n     * @param {any} [value] Input value\n     * @returns {any} Value or instance\n     */\n    value(value : any = undefined) : any\n    {\n        if ( value === undefined ) {\n            return this.el.value;\n        }\n\n        this.each((el : any) => {\n            el.value = value;\n        });\n\n        return this;\n    }\n\n}\n\nexport default PicoDomForm;","import { Arr, Hash, Mix, Dom, Run } from \"../index.esm.ts\";\nimport { PicoDom, PicoDomInterface } from \"../utils/Dom.ts\";\nimport PicoDomFinder from \"./DomFinder.js\";\nimport PicoDomRectangle from \"./DomRectangle.js\";\n\nexport interface PicoDomEvent extends PicoDomInterface,\n    PicoDomFinder,\n    PicoDomRectangle\n{\n    //\n}\n\n/**\n * @memberof PicoDom\n */\nexport class PicoDomEvent\n{\n    /**\n     * @type {any[]}\n     */\n    static $events : any[] = [];\n\n    /**\n     * Bind event listener\n     *\n     * @example Dom.bind(el, \"click\", cb)\n     *\n     * @param {any} el Target element\n     * @param {string} event Event name\n     * @param {function} cb Callback fn\n     * @param {string} [selector] Event selector\n     * @param {boolean} [pause] Pause listener\n     * @param {any} [options] Listener options\n     * @returns {PicoDom} Current instance\n     */\n    bind(el : any, event : string, cb : Function, selector : string = null, pause : boolean = false, options : any = {}) : PicoDom\n    {\n        if ( Mix.isPrim(options) ) {\n            options = { id: options };\n        }\n\n        Dom.$events = Arr.append(Dom.$events, {\n            el, event, cb, selector, pause, options\n        });\n\n        el.addEventListener(event, cb, options);\n\n        return <PicoDom> <unknown> this;\n    }\n\n    /**\n     * Unbind event listener\n     *\n     * @example Dom.unbind(el, \"click\")\n     *\n     * @param {any} el Target element\n     * @param {string} event Event name\n     * @param {string} [selector] Event selector\n     * @param {any} [options] Listener options\n     * @returns {PicoDom} Current instance\n     */\n    unbind(el : any, event : string, selector : string = null, options : any = {}) : PicoDom\n    {\n        if ( Mix.isPrim(options) ) {\n            options = { id: options };\n        }\n\n        let indexes = Arr.filterIndex(Dom.$events, {\n            el, event, selector, options\n        });\n\n        if ( indexes.length === 0 ) {\n            return <PicoDom> <unknown> this;\n        }\n\n        let args = (val : any) => {\n            return [event, val.cb, val.options];\n        };\n\n        Arr.each(indexes.reverse(), (index : any) => {\n            el.removeEventListener(...args(Dom.$events[index]));\n        });\n\n        Arr.splices(Dom.$events, indexes);\n\n        return <PicoDom> <unknown> this;\n    }\n\n    /**\n     * Listen to event\n     *\n     * @example Dom.find(\"div\").on(\"click\", cb)\n     *\n     * @param {any} event Event name\n     * @param {Function} cb Callback fn\n     * @param {any} [options] Listener options\n     * @param {boolean} [pause] Pause listener\n     * @param {string} [selector] Event selector\n     * @returns {PicoDom} Current instance\n     */\n    on(event : any, cb : Function, options : any = {}, pause : boolean = false, selector : string = null) : PicoDom\n    {\n        if ( Mix.isPrim(options) ) {\n            options = { id: options };\n        }\n\n        const args = [\n            cb, options, pause, selector\n        ];\n\n        if ( Mix.isArr(event) ) {\n            // @ts-ignore\n            return (Arr.each(event, (e : any) => this.on(e, ...args)), this);\n        }\n\n        let fn = (e : any) => {\n            cb.call(e.target, e, e.target);\n        };\n\n        this.each((el : any) => {\n            this.bind(el, event, fn, selector, pause, options);\n        });\n\n        return <PicoDom> <unknown> this;\n    }\n\n    /**\n     * Stop listening to event\n     *\n     * @example Dom.find(\"div\").off(\"click\")\n     *\n     * @param {any} event Event name\n     * @param {any} [selector] Event selector\n     * @param {any} [options] Listener options\n     * @returns {PicoDom} Current instance\n     */\n    off(event : any, selector : string = null, options : any = {}) : PicoDom\n    {\n        if ( Mix.isPrim(options) ) {\n            options = { id: options };\n        }\n\n        const args = [\n            selector, options\n        ];\n\n        if ( Mix.isArr(event) ) {\n            // @ts-ignore\n            return (Arr.each(event, (e : any) => this.off(e, ...args)), this);\n        }\n\n        if ( Mix.isObj(selector) ) {\n            (options = selector, selector = null);\n        }\n\n        this.each((el : any) => {\n            this.unbind(el, event, selector, options);\n        });\n\n        return <PicoDom> <unknown> this;\n    }\n\n    /**\n     * Stop listening to event with specific options\n     *\n     * @example Dom.find(\"div\").optoff({ id: \"my-id\" })\n     *\n     * @param {any} [options] Listener options\n     * @returns {PicoDom} Current instance\n     */\n    optoff(options : any = {}) : PicoDom\n    {\n        Run.async(() => {\n            Arr.filterRemove(Dom.$events, { options });\n        });\n\n        this.each((el : any) => {\n            el && el.removeAllListeners();\n        });\n\n        return <PicoDom> <unknown> this;\n    }\n\n    /**\n     * Listen to event once\n     *\n     * @example Dom.find(\"div\").once(\"click\", cb)\n     *\n     * @param {any} event Event name\n     * @param {Function} cb Callback fn\n     * @param {any} [options] Listener options\n     * @returns {PicoDom} Current instance\n     */\n    once(event : any, cb : Function, options : any = {}) : PicoDom\n    {\n        options.id = Hash.make(24);\n\n        this.on(event, (e) => {\n            cb(e);\n            this.off(event, options);\n        }, options);\n\n        return <PicoDom> <unknown> this;\n    }\n\n    /**\n     * Listen to live event\n     *\n     * @example Dom.find(\"div\").live(\"click\", \"span\", cb)\n     *\n     * @param {any} event Event name\n     * @param {string} selector Event selector\n     * @param {Function} cb Callback fn\n     * @param {any} [options] Listener options\n     * @param {boolean} [pause] Pause listener\n     * @returns {PicoDom} Current instance\n     */\n    live(event : any, selector : string, cb : Function, options : any = {}, pause : boolean = false) : PicoDom\n    {\n        let fn = function (event : any) {\n\n            let target = Dom.getNodeEvent(selector, event);\n\n            if ( target == null ) {\n                return;\n            }\n\n            cb.call({}, event, target);\n        };\n\n        this.on(event, fn, options, pause, selector);\n\n        return <PicoDom> <unknown> this;\n    }\n\n    /**\n     * Fire event on element\n     *\n     * @example Dom.find(\"div\").fire(\"click\")\n     *\n     * @param {string} event Event name\n     * @param {object} [detail] Event detail\n     * @returns {PicoDom} Current instance\n     */\n    fire(event : string, detail : any = {}) : PicoDom\n    {\n        let callback = new CustomEvent(event, { detail });\n\n        this.each((el : any) => {\n            el.dispatchEvent(callback);\n        });\n\n        return <PicoDom> <unknown> this;\n    }\n\n    pointerdown(button : number = 1)\n    {\n        const rect = this.rect();\n\n        const [x, y] = [\n            rect.left + rect.width / 2,\n            rect.top + rect.height / 2,\n        ];\n\n        const event = new PointerEvent('pointerdown', {\n            view: window,\n            bubbles: true,\n            cancelable: true,\n            buttons: 1,\n            clientX: x, clientY: y\n        });\n\n        this.each((el : any) => {\n            el.dispatchEvent(event);\n        });\n\n        return this;\n    }\n\n}\n\n/**\n * @deprecated use Dom.once instead\n */\n// @ts-ignore\nPicoDomEvent.prototype.one = function(...args : Parameters<typeof PicoDomEvent.prototype.once>) : any {\n    console.warn('Dom.one() is deprecated, use Dom.once() instead.');\n    return this.once(...args);\n};\n\n/**\n * @deprecated not implemented anymore\n */\n// @ts-ignore\nPicoDomEvent.prototype.delayed = function() : void {\n    console.error('Dom.delayed() is not implemented anymore.');\n};\n\n/**\n * @deprecated not implemented anymore\n */\n// @ts-ignore\nPicoDomEvent.prototype.pause = function() : void {\n    console.error('Dom.pause() is not implemented anymore.');\n};\n\n/**\n * @deprecated not implemented anymore\n */\n// @ts-ignore\nPicoDomEvent.prototype.unpause = function() : void {\n    console.error('Dom.unpause() is not implemented anymore.');\n};\n\nexport default PicoDomEvent;","import { Dom, Mix, Obj } from \"../index.esm.ts\";\nimport { PicoDom, PicoDomInterface } from \"../utils/Dom.ts\";\nimport PicoDomFinder from \"./DomFinder.js\";\n\nexport interface PicoDomBuilder extends PicoDomInterface,\n    PicoDomFinder\n{\n    //\n}\n\n/**\n * @memberof PicoDom\n */\nexport class PicoDomBuilder\n{\n    /**\n     * Create element from tag\n     *\n     * @example Dom.make(\"div\", { class: \"active\" })\n     *\n     * @param {any} el Tag or element\n     * @param {any} [options] Attr options\n     * @returns {PicoDom} Dom instance\n     */\n    static make(el : any, options : any = {}) : PicoDom\n    {\n        if ( el instanceof Dom ) {\n            el = el.el;\n        }\n\n        if ( Mix.isStr(el) ) {\n            el = document.createElement(el);\n        }\n\n        el = Obj.assign(el, options);\n\n        let ini = new Dom(el);\n\n        if ( options.class ) {\n            ini.class(options.class);\n        }\n\n        if ( options.html ) {\n            ini.html(options.html);\n        }\n\n        return ini;\n    }\n\n    /**\n     * Prepend value to element\n     *\n     * @example Dom.find(\"div\").prepend(\"<span></span>\")\n     *\n     * @param {any} value Prepend value\n     * @returns {PicoDom} Current instance\n     */\n    prepend(value : any) : PicoDom\n    {\n        this.each((el : any) => {\n            if ( el.prepend != null ) el.prepend(value);\n        });\n\n        return <PicoDom> <unknown> this;\n    }\n\n    /**\n     * Prepend element to value\n     *\n     * @example Dom.find(\"span\").prependTo(\"div\")\n     *\n     * @param {any} value Target element\n     * @returns {PicoDom} Current instance\n     */\n    prependTo(value : any) : PicoDom\n    {\n        Dom.find(value).each((el : any) => {\n            if ( el.prepend != null ) el.prepend(this.el);\n        });\n\n        return <PicoDom> <unknown> this;\n    }\n\n    /**\n     * Append value to element\n     *\n     * @example Dom.find(\"div\").append(\"<span></span>\")\n     *\n     * @param {any} value Append value\n     * @returns {PicoDom} Current instance\n     */\n    append(value : any) : PicoDom\n    {\n        this.each((el : any) => {\n            if ( el.append != null ) el.append(value);\n        });\n\n        return <PicoDom> <unknown> this;\n    }\n\n    /**\n     * Append element to value\n     *\n     * @example Dom.find(\"span\").appendTo(\"div\")\n     *\n     * @param {any} value Target element\n     * @returns {PicoDom} Current instance\n     */\n    appendTo(value : any) : PicoDom\n    {\n        Dom.find(value).each((el : any) => {\n            if ( el.append != null ) el.append(this.el);\n        });\n\n        return <PicoDom> <unknown> this;\n    }\n\n    /**\n     * Replace element with value\n     *\n     * @example Dom.find(\"div\").replace(\"<span></span>\")\n     *\n     * @param {any} value Replacement value\n     * @returns {PicoDom} Current instance\n     */\n    replace(value : any) : PicoDom\n    {\n        this.parent().each((el : any) => {\n            (el.insertBefore(value, el), el.removeChild(el));\n        });\n\n        return <PicoDom> <unknown> this;\n    }\n\n}\n\nexport default PicoDomBuilder;","import { Run, Dom, Hash } from \"../index.esm.ts\";\nimport { PicoDom, PicoDomInterface } from \"../utils/Dom.ts\";\n\nexport interface PicoDomGlobal extends PicoDomInterface\n{\n    //\n}\n\n/**\n * @memberof PicoDom\n */\nexport class PicoDomGlobal\n{\n    /**\n     * Get document ready state\n     *\n     * @example Dom.getDomState() // => \"complete\"\n     *\n     * @returns {string} State string\n     */\n    static getDomState() : string\n    {\n        return document.readyState;\n    }\n\n    /**\n     * Check if DOM is ready\n     *\n     * @example Dom.isDomReady() // => true\n     *\n     * @returns {boolean} True if ready\n     */\n    static isDomReady() : boolean\n    {\n        return Dom.getDomState() === 'complete';\n    }\n\n    /**\n     * Check if DOM is complete\n     *\n     * @example Dom.isDomComplete() // => true\n     *\n     * @returns {boolean} True if complete\n     */\n    static isDomComplete() : boolean\n    {\n        let state = Dom.getDomState();\n\n        if ( state === 'complete' ) {\n            return true;\n        }\n\n        return state === 'interactive';\n    }\n\n    /**\n     * Run callback when ready\n     *\n     * @example Dom.ready(cb)\n     *\n     * @param {Function} cb Callback fn\n     * @param {number} [delay] Execution delay\n     * @param {number} [limit] Wait limit\n     * @returns {PicoDom} Static class\n     */\n    static ready(cb : Function, delay : number = 0, limit : number = 6000) : PicoDom\n    {\n        let [id, el, event] = [\n            Hash.make(), Dom.find(document), 'DOMContentLoaded'\n        ];\n\n        let fn = () => {\n            (Run.delay(cb, delay), el.off(event, null, { id }));\n        };\n\n        let ready = Dom.isDomReady;\n\n        if ( !ready() ) {\n            // @ts-ignore\n            return (el.on(event, fn, { id }), this);\n        }\n\n        Run.wait(() => {\n            if ( ready() ) return (fn(), true);\n        }, 10, limit);\n\n        return <PicoDom> <unknown> this;\n    }\n\n    /**\n     * Run callback when complete\n     *\n     * @example Dom.complete(cb)\n     *\n     * @param {Function} cb Callback fn\n     * @param {number} [delay] Execution delay\n     * @param {number} [limit] Wait limit\n     * @returns {PicoDom} Static class\n     */\n    static complete(cb : Function, delay : number = 0, limit : number = 6000) : PicoDom\n    {\n        let fn = () => {\n            Run.delay(cb, delay);\n        };\n\n        let [el, event] = [\n            Dom.find(document), 'load'\n        ];\n\n        let ready = Dom.isDomComplete;\n\n        if ( !ready() ) {\n            // @ts-ignore\n            return (el.on(event, fn), this);\n        }\n\n        Run.wait(() => {\n            if ( ready() ) fn();\n        }, 10, limit);\n\n        return <PicoDom> <unknown> this;\n    }\n\n    /**\n     * Check if node is complete\n     *\n     * @example Dom.find(\"img\").isNodeComplete() // => true\n     *\n     * @returns {boolean} True if complete\n     */\n    isNodeComplete() : boolean\n    {\n        if ( this.el == null ) {\n            return false;\n        }\n\n        if ( this.el.naturalWidth ) {\n            return true;\n        }\n\n        if ( this.el.naturalHeight ) {\n            return true;\n        }\n\n        return !!this.el.complete;\n    }\n\n    /**\n     * Run callback when loaded\n     *\n     * @example Dom.find(\"img\").loaded(cb)\n     *\n     * @param {Function} cb Callback fn\n     * @param {number} [limit] Wait limit\n     * @returns {PicoDom} Current instance\n     */\n    loaded(cb : Function, limit : number = 6000) : PicoDom\n    {\n        if ( !this.el ) {\n            return <PicoDom> <unknown> this;\n        }\n\n        let ready = this.isNodeComplete;\n\n        Run.wait(() => {\n            if ( ready.call(this) ) return (cb(), true);\n        }, 10, limit);\n\n        return <PicoDom> <unknown> this;\n    }\n    /**\n     * @deprecated not implemented anymore\n     */\n    // @ts-ignore\n    static required() : void\n    {\n        console.error('Dom.required() is not implemented anymore.');\n    }\n\n}\n\nexport default PicoDomGlobal;","import { Dom, Mix, Obj } from \"../index.esm.ts\";\nimport { PicoDom, PicoDomInterface } from \"../utils/Dom.ts\";\nimport PicoDomFinder from \"./DomFinder.js\";\nimport PicoDomAttribute from \"./DomAttribute.js\";\n\nexport interface PicoDomRectangle extends PicoDomInterface,\n    PicoDomFinder,\n    PicoDomAttribute\n{\n    //\n}\n\n/**\n * @memberof PicoDom\n */\nexport class PicoDomRectangle\n{\n    /**\n     * Cast value to number\n     *\n     * @example Dom.num(\"10px\") // => 10\n     *\n     * @param {any} value Input value\n     * @returns {number} Number value\n     */\n    static num(value : any) : number\n    {\n        if ( typeof value === 'string' ) {\n            value = value.replace(/(^\\s+|\\s$|px)/g, '');\n        }\n\n        return Mix.num(value, 0);\n    }\n\n    /**\n     * Get bounding rectangle\n     *\n     * @example Dom.find(\"div\").rect()\n     *\n     * @param {any} [fallback] Fallback value\n     * @returns {any} Rect object\n     */\n    rect(fallback : any = { left: 0, top: 0, width: 0, height: 0 })\n    {\n        if ( !this.el.getBoundingClientRect ) {\n            return fallback;\n        }\n\n        const rect = this.el.getBoundingClientRect();\n\n        if ( rect == null ) {\n            return fallback;\n        }\n\n        return rect.toJSON();\n    }\n\n    /**\n     * Get margin values\n     *\n     * @example Dom.find(\"div\").margin()\n     *\n     * @param {string} [key] Margin key\n     * @param {number} [fallback] Fallback value\n     * @returns {any} Margin values\n     */\n    margin(key : string = null, fallback : number = 0) : any\n    {\n        let computed = this.computed();\n\n        let result = {\n            top: Dom.num(computed.marginTop),\n            right: Dom.num(computed.marginRight),\n            bottom: Dom.num(computed.marginBottom),\n            left: Dom.num(computed.marginLeft)\n        };\n\n        if ( key == null ) {\n            return result;\n        }\n\n        return Obj.get(result, key, fallback);\n    }\n\n    /**\n     * Get padding values\n     *\n     * @example Dom.find(\"div\").padding()\n     *\n     * @param {string} [key] Padding key\n     * @param {number} [fallback] Fallback value\n     * @returns {any} Padding values\n     */\n    padding(key : string = null, fallback : number = 0) : any\n    {\n        let computed = this.computed();\n\n        let result = {\n            top: Dom.num(computed.paddingTop),\n            right: Dom.num(computed.paddingRight),\n            bottom: Dom.num(computed.paddingBottom),\n            left: Dom.num(computed.paddingLeft)\n        };\n\n        if ( key == null ) {\n            return result;\n        }\n\n        return Obj.get(result, key, fallback);\n    }\n\n    /**\n     * Get element height\n     *\n     * @example Dom.find(\"div\").height() // => 100\n     *\n     * @returns {number} Height value\n     */\n    height() : number\n    {\n        if ( this.el == null ) {\n            return 0;\n        }\n\n        if ( this.el instanceof Window ) {\n            return this.el.innerHeight;\n        }\n\n        return this.el.offsetHeight;\n    }\n\n    /**\n     * Get client height\n     *\n     * @example Dom.find(\"div\").clientHeight()\n     *\n     * @returns {number} Height value\n     */\n    clientHeight() : number\n    {\n        if ( this.el == null ) {\n            return 0;\n        }\n\n        return Dom.num(this.computed('height', 0));\n    }\n\n    /**\n     * Get scroll height\n     *\n     * @example Dom.find(\"div\").scrollHeight()\n     *\n     * @returns {number} Height value\n     */\n    scrollHeight() : number\n    {\n        if ( this.el == null ) {\n            return 0;\n        }\n\n        return this.el.scrollHeight;\n    }\n\n    /**\n     * Get inner height\n     *\n     * @example Dom.find(\"div\").innerHeight()\n     *\n     * @returns {number} Height value\n     */\n    innerHeight() : number\n    {\n        if ( this.el == null ) {\n            return 0;\n        }\n\n        if ( this.el instanceof Window ) {\n            return this.el.innerHeight;\n        }\n\n        let pad = this.padding();\n\n        return this.el.offsetHeight - pad.top - pad.bottom;\n    }\n\n    /**\n     * Get real height\n     *\n     * @example Dom.find(\"div\").realHeight({ display: \"block\" })\n     *\n     * @param {any} [style] Temp style\n     * @returns {any} Height value\n     */\n    realHeight(style : any = {}) : any\n    {\n        let height : number | string = 'auto';\n\n        this.actual(() => {\n            return height = this.height();\n        }, style);\n\n        return height;\n    }\n\n    /**\n     * Evaluate target height\n     *\n     * @example Dom.find(\"div\").evaluateHeight(\".container\")\n     *\n     * @param {any} [target] Target element\n     * @param {boolean} [apply] Apply style\n     * @returns {any} Height value\n     */\n    evaluateHeight(target : any = null, apply : boolean = true) : any\n    {\n        target = Dom.find(target);\n\n        if ( target === null ) {\n            target = this.parent();\n        }\n\n        let height : number | string = 'auto';\n\n        this.actual(() => {\n            height = target.innerHeight();\n        }, { display: 'none' });\n\n        if ( apply === true ) {\n            this.style({ height: height + 'px' });\n        }\n\n        return height;\n    }\n\n    /**\n     * Get element width\n     *\n     * @example Dom.find(\"div\").width() // => 100\n     *\n     * @returns {number} Width value\n     */\n    width() : number\n    {\n        if ( this.el == null ) {\n            return 0;\n        }\n\n        if ( this.el instanceof Window ) {\n            return this.el.innerWidth;\n        }\n\n        return this.el.offsetWidth;\n    }\n\n    /**\n     * Get client width\n     *\n     * @example Dom.find(\"div\").clientWidth()\n     *\n     * @returns {number} Width value\n     */\n    clientWidth() : number\n    {\n        if ( this.el == null ) {\n            return 0;\n        }\n\n        return Dom.num(this.computed('width', 0));\n    }\n\n    /**\n     * Get scroll width\n     *\n     * @example Dom.find(\"div\").scrollWidth()\n     *\n     * @returns {number} Width value\n     */\n    scrollWidth() : number\n    {\n        if ( this.el == null ) {\n            return 0;\n        }\n\n        return this.el.scrollWidth;\n    }\n\n    /**\n     * Get inner width\n     *\n     * @example Dom.find(\"div\").innerWidth()\n     *\n     * @returns {number} Width value\n     */\n    innerWidth() : number\n    {\n        if ( this.el == null ) {\n            return 0;\n        }\n\n        if ( this.el instanceof Window ) {\n            return this.el.innerWidth;\n        }\n\n        let pad = this.padding();\n\n        return this.el.offsetWidth - pad.left - pad.right;\n    }\n\n    /**\n     * Get real width\n     *\n     * @example Dom.find(\"div\").realWidth({ display: \"block\" })\n     *\n     * @param {any} [style] Temp style\n     * @returns {any} Width value\n     */\n    realWidth(style = {}) : any\n    {\n        let width : number | string = 'auto';\n\n        this.actual(() => {\n            return width = this.width();\n        }, style);\n\n        return width;\n    }\n\n    /**\n     * Evaluate target width\n     *\n     * @example Dom.find(\"div\").evaluateWidth(\".container\")\n     *\n     * @param {any} [target] Target element\n     * @param {boolean} [apply] Apply style\n     * @returns {any} Width value\n     */\n    evaluateWidth(target : any = null, apply : boolean = true) : any\n    {\n        target = Dom.find(target);\n\n        if ( target === null ) {\n            target = this.parent();\n        }\n\n        let width : number | string = 'auto';\n\n        this.actual(() => {\n            width = target.innerWidth();\n        }, { display: 'none' });\n\n        if ( apply === true ) {\n            this.style({ width: width + 'px' });\n        }\n\n        return width;\n    }\n\n    /**\n     * Get element offset\n     *\n     * @example Dom.find(\"div\").offset()\n     *\n     * @param {string} [key] Offset key\n     * @param {any} [boundry] View boundry\n     * @returns {any} Offset values\n     */\n    offset(key : string = null, boundry : any = null) : any\n    {\n        let offset = this.getOffset(boundry);\n\n        if ( key == null ) {\n            return offset;\n        }\n\n        return Obj.get(offset, key, 0);\n    }\n\n    /**\n     * Get top offset\n     *\n     * @example Dom.find(\"div\").offsetTop()\n     *\n     * @param {any} [boundry] View boundry\n     * @returns {number} Top offset\n     */\n    offsetTop(boundry : any = null) : number\n    {\n        return this.offset('top', boundry);\n    }\n\n    /**\n     * Get bottom offset\n     *\n     * @example Dom.find(\"div\").offsetBottom()\n     *\n     * @param {any} [boundry] View boundry\n     * @returns {number} Bottom offset\n     */\n    offsetBottom(boundry : any = null) : number\n    {\n        return this.offset('bottom', boundry);\n    }\n\n    /**\n     * Get left offset\n     *\n     * @example Dom.find(\"div\").offsetLeft()\n     *\n     * @param {any} [boundry] View boundry\n     * @returns {number} Left offset\n     */\n    offsetLeft(boundry : any = null) : number\n    {\n        return this.offset('left', boundry);\n    }\n\n    /**\n     * Get right offset\n     *\n     * @example Dom.find(\"div\").offsetRight()\n     *\n     * @param {any} [boundry] View boundry\n     * @returns {number} Right offset\n     */\n    offsetRight(boundry : any = null) : number\n    {\n        return this.offset('right', boundry);\n    }\n\n    /**\n     * Loop through offset parents\n     *\n     * @example Dom.find(\"div\").loopOffset((el) => console.log(el))\n     *\n     * @param {Function} cb Callback fn\n     * @param {any} [boundry] Loop limit\n     * @returns {PicoDom} Current instance\n     */\n    loopOffset(cb : Function, boundry : any = null) : PicoDom\n    {\n        if ( boundry == null ) {\n            boundry = Dom.body();\n        }\n\n        for ( let el = this.el; el && el !== boundry; el = el.offsetParent ) {\n            cb.call({}, el);\n        }\n\n        return <PicoDom> <unknown> this;\n    }\n\n    /**\n     * Calculate relative offset\n     *\n     * @example Dom.calcOffset(offset, 100, 100)\n     *\n     * @param {any} offset Base offset\n     * @param {number} width Element width\n     * @param {number} height Element height\n     * @returns {any} Calculated offset\n     */\n    calcOffset(offset : any, width : number, height : number) : any\n    {\n        let size = {\n            right: Dom.body().scrollWidth - offset.left - width,\n            bottom: Dom.body().scrollHeight - offset.top - height,\n        };\n\n        return { ...offset, ...size };\n    }\n\n    /**\n     * Get relative offset\n     *\n     * @example Dom.find(\"div\").getOffset()\n     *\n     * @param {any} [boundry] View boundry\n     * @returns {any} Offset values\n     */\n    getOffset(boundry : any = null) : any\n    {\n        if ( boundry == null ) {\n            boundry = Dom.body();\n        }\n\n        let cb, source = {\n            top: 0, left: 0, bottom: 0, right: 0\n        };\n\n        if ( this.el == null ) {\n            return source;\n        }\n\n        cb = (el : any) => {\n            source.top += Dom.num(el.offsetTop, 0);\n            source.left += Dom.num(el.offsetLeft, 0);\n        };\n\n        this.loopOffset(cb);\n\n        source = this.calcOffset(...[\n            source, this.width(), this.height()\n        ]);\n\n        let body = Dom.find(boundry);\n\n        let target = {\n            top: 0, left: 0, bottom: 0, right: 0\n        };\n\n        cb = (el : any) => {\n            target.top += Dom.num(el.offsetTop, 0);\n            target.left += Dom.num(el.offsetLeft, 0);\n        };\n\n        body.loopOffset(cb);\n\n        target = this.calcOffset(...[\n            target, body.scrollWidth(), body.scrollHeight()\n        ]);\n\n        return {\n            top: source.top - target.top,\n            bottom: source.bottom - target.bottom,\n            left: source.left - target.left,\n            right: source.right - target.right\n        };\n    }\n\n    /**\n     * Get element scroll\n     *\n     * @example Dom.find(\"div\").scroll()\n     *\n     * @param {any} [key] Scroll key\n     * @param {any} [boundry] View boundry\n     * @returns {any} Scroll values\n     */\n    scroll(key : any = null, boundry : any = null) : any\n    {\n        let scroll = this.getScroll(boundry);\n\n        if ( key == null ) {\n            return scroll;\n        }\n\n        return Obj.get(scroll, key, 0);\n    }\n\n    /**\n     * Get or set scroll top\n     *\n     * @example Dom.find(\"div\").scrollTop(100)\n     *\n     * @param {any} [value] Scroll value\n     * @param {any} [boundry] View boundry\n     * @returns {any} Value or instance\n     */\n    scrollTop(value : any = null, boundry : any = null) : any\n    {\n        if ( value == null ) {\n            return this.scroll('top', boundry);\n        }\n\n        this.each((el : any) => {\n            el.scrollTop = value;\n        });\n\n        return this;\n    }\n\n    /**\n     * Get or set scroll left\n     *\n     * @example Dom.find(\"div\").scrollLeft(100)\n     *\n     * @param {any} [value] Scroll value\n     * @param {any} [boundry] View boundry\n     * @returns {any} Value or instance\n     */\n    scrollLeft(value : any = null, boundry : any = null) : any\n    {\n        if ( value == null ) {\n            return this.scroll('left', boundry);\n        }\n\n        this.each((el : any) => {\n            el.scrollLeft = value;\n        });\n\n        return this.scroll('left', boundry);\n    }\n\n    /**\n     * Get relative scroll\n     *\n     * @example Dom.find(\"div\").getScroll()\n     *\n     * @param {any} [boundry] View boundry\n     * @returns {any} Scroll values\n     */\n    getScroll(boundry : any = null) : any\n    {\n        if ( boundry == null ) {\n            boundry = Dom.win();\n        }\n\n        let cb, source = {\n            top: 0, left: 0\n        };\n\n        if ( this.el == null ) {\n            return source;\n        }\n\n        cb = (el : any) => {\n            source.top += Dom.num(el.scrollTop || el.pageYOffset || 0);\n            source.left += Dom.num(el.scrollLeft || el.pageXOffset || 0);\n        }\n\n        this.loopParent(cb);\n\n        let target = {\n            top: 0, left: 0\n        };\n\n        cb = (el : any) => {\n            target.top += Dom.num(el.scrollTop || el.pageYOffset || 0);\n            target.left += Dom.num(el.scrollLeft || el.pageXOffset || 0);\n        };\n\n        Dom.find(boundry).loopParent(cb);\n\n        return {\n            top: source.top - target.top,\n            left: source.left - target.left\n        };\n    }\n\n}\n\n// @ts-ignore\nPicoDomRectangle.prototype.loopOffsetParent = function (...args : Parameters<typeof PicoDomRectangle.prototype.loopOffset>) {\n    console.warn('Dom.loopOffsetParent() is deprecated, use Dom.loopOffset() instead.');\n    return this.loopOffset(...args);\n};\n\n// @ts-ignore\nPicoDomRectangle.prototype.scrollTopGlobal = function () {\n    console.warn('Dom.scrollTopGlobal() is deprecated, use Dom.scroll(\\'top\\') instead.');\n    return this.scroll('top', null);\n};\n\n// @ts-ignore\nPicoDomRectangle.prototype.scrollLeftGlobal = function () {\n    console.warn('Dom.scrollLeftGlobal() is deprecated, use Dom.scroll(\\'left\\') instead.');\n    return this.scroll('left', null);\n};\n\nexport default PicoDomRectangle;","import { Arr, Dom, For, Mix, Obj } from \"../index.esm.ts\";\nimport { PicoDom, PicoDomInterface } from \"../utils/Dom.ts\";\nimport PicoDomFinder from \"./DomFinder.js\";\n\nexport interface PicoDomAttribute extends PicoDomInterface,\n    PicoDomFinder\n{\n    //\n}\n\n/**\n * @memberof PicoDom\n */\nexport class PicoDomAttribute\n{\n    /**\n     * Get or set attribute\n     *\n     * @example Dom.find(\"div\").attr(\"id\")\n     *\n     * @param {string} key Attr key\n     * @param {any} [value] Attr value\n     * @param {any} [fallback] Fallback value\n     * @returns {any} Attr value or instance\n     */\n    attr(key : string, value : any = undefined, fallback : any = null) : any\n    {\n        if ( this.el == null ) {\n            return value ? this : fallback;\n        }\n\n        let attr = this.el.getAttribute(key);\n\n        if ( Mix.isUndef(value) ) {\n            return attr || fallback;\n        }\n\n        if ( value === null ) {\n            return (this.el.removeAttribute(key), attr);\n        }\n\n        if ( Mix.isArr(value) ) {\n            value = value.join(' ');\n        }\n\n        if ( Mix.isObj(value) ) {\n            value = For.castOptions(value);\n        }\n\n        this.el.setAttribute(key, value);\n\n        return this;\n    }\n\n    /**\n     * Get or set data attribute\n     *\n     * @example Dom.find(\"div\").data(\"id\")\n     *\n     * @param {string} key Data key\n     * @param {any} [value] Data value\n     * @param {any} [fallback] Fallback value\n     * @returns {any} Data value or instance\n     */\n    data(key : string, value : any = undefined, fallback : any = null) : any\n    {\n        return this.attr('data-' + key, value, fallback);\n    }\n\n    /**\n     * Get computed style\n     *\n     * @example Dom.find(\"div\").computed(\"width\")\n     *\n     * @param {any} [key] Style key\n     * @param {any} [fallback] Fallback value\n     * @returns {any} Computed style\n     */\n    computed(key : any = null, fallback : any = null) : any\n    {\n        if ( this.el == null ) {\n            return fallback;\n        }\n\n        if ( this.getNodeType() !== 1 ) {\n            return fallback;\n        }\n\n        let computed = getComputedStyle(this.el);\n\n        if ( key == null ) {\n            return computed;\n        }\n\n        return Obj.get(computed, key, fallback);\n    }\n\n    /**\n     * Get or set style\n     *\n     * @example Dom.find(\"div\").style({ color: \"red\" })\n     *\n     * @param {any} [value] Style value\n     * @param {boolean} [combine] Combine style\n     * @returns {any} Style or instance\n     */\n    style(value : any = undefined, combine : boolean = true) : any\n    {\n        if ( this.el == null ) {\n            return this;\n        }\n\n        if ( value === null ) {\n            return this.attr('style', null);\n        }\n\n        let styles = this.attr('style', undefined, {});\n\n        if ( Mix.isStr(styles) ) {\n            styles = For.parseOptions(styles);\n        }\n\n        if ( Mix.isUndef(value) ) {\n            return styles;\n        }\n\n        if ( combine ) {\n            value = { ...styles, ...value };\n        }\n\n        if ( value.translate ) {\n            value.transform = `translate3d(${value.translate.join(',')}, 0)`;\n        }\n\n        delete value.translate;\n\n        if ( Mix.isNum(value.top) ) {\n            value.top += 'px';\n        }\n\n        if ( Mix.isNum(value.left) ) {\n            value.left += 'px';\n        }\n\n        if ( Mix.isNum(value.width) ) {\n            value.width += 'px';\n        }\n\n        if ( Mix.isNum(value.height) ) {\n            value.height += 'px';\n        }\n\n        this.attr('style', value);\n\n        return this;\n    }\n\n    /**\n     * Get or set classes\n     *\n     * @example Dom.find(\"div\").class([\"active\"])\n     *\n     * @param {any} [value] Class value\n     * @param {boolean} [combine] Combine classes\n     * @returns {any} Classes or instance\n     */\n    class(value : any = undefined, combine : boolean = false) : any\n    {\n        if ( this.el == null ) {\n            return this;\n        }\n\n        if ( value === null ) {\n            return this.attr('class', '');\n        }\n\n        let classes = this.attr('class', undefined, []);\n\n        if ( Mix.isStr(classes) ) {\n            classes = classes.split(' ');\n        }\n\n        if ( Mix.isUndef(value) ) {\n            return classes;\n        }\n\n        if ( combine ) {\n            value = [...classes, ...value];\n        }\n\n        this.attr('class', value);\n\n        return this;\n    }\n\n    /**\n     * Get or set inner HTML\n     *\n     * @example Dom.find(\"div\").html(\"<span></span>\")\n     *\n     * @param {any} [html] HTML content\n     * @returns {any} HTML or instance\n     */\n    html(html : any = undefined) : any\n    {\n        if ( html === undefined ) {\n            return this.el.innerHTML;\n        }\n\n        this.each((el : any) => {\n            el.innerHTML = html;\n        });\n\n        return this;\n    }\n\n    /**\n     * Get actual style value\n     *\n     * @example Dom.find(\"div\").actual((el) => el.offsetWidth, { display: \"block\" })\n     *\n     * @param {Function} cb Callback fn\n     * @param {any} [style] Temp style\n     * @returns {any} Callback result\n     */\n    actual(cb : Function, style : any = null) : any\n    {\n        let backup = this.attr('style');\n\n        this.style(style);\n\n        let result = cb(this.el, this.el);\n\n        this.attr('style', backup);\n\n        return result;\n    }\n\n    /**\n     * Check if has class\n     *\n     * @example Dom.find(\"div\").hasClass(\"active\") // => true\n     *\n     * @param {any} cls Class name\n     * @returns {boolean} True if has class\n     */\n    hasClass(cls : any) : boolean\n    {\n        if ( !Mix.isArr(cls) ) {\n            cls = [cls];\n        }\n\n        return Arr.isect(this.class(), cls).length > 0;\n    }\n\n    /**\n     * Add class to element\n     *\n     * @example Dom.find(\"div\").addClass(\"active\")\n     *\n     * @param {any} cls Class name\n     * @returns {PicoDom} Current instance\n     */\n    addClass(cls : any) : PicoDom\n    {\n        if ( this.el == null ) {\n            return <PicoDom> <unknown> this;\n        }\n\n        if ( this.els.length > 1 ) {\n            return this.each((el : any) => Dom.find(el).addClass(cls));\n        }\n\n        let result = this.el.className.split(' ');\n\n        if ( Mix.isStr(cls) ) {\n            cls = cls.split(' ');\n        }\n\n        result = Arr.append(result, ...cls);\n\n        this.el.className = Arr.unique(result).join(' ');\n\n        return <PicoDom> <unknown> this;\n    }\n\n    /**\n     * Remove class from element\n     *\n     * @example Dom.find(\"div\").remClass(\"active\")\n     *\n     * @param {any} cls Class name\n     * @returns {PicoDom} Current instance\n     */\n    remClass(cls : any) : PicoDom\n    {\n        if ( this.el == null ) {\n            return <PicoDom> <unknown> this;\n        }\n\n        if ( this.els.length > 1 ) {\n            return this.each((el : any) => Dom.find(el).remClass(cls));\n        }\n\n        let result = this.el.className.split(' ');\n\n        if ( Mix.isStr(cls) ) {\n            cls = cls.split(' ');\n        }\n\n        result = Arr.diff(result, cls);\n\n        this.el.className = Arr.unique(result).join(' ');\n\n        return <PicoDom> <unknown> this;\n    }\n\n    /**\n     * Toggle class on element\n     *\n     * @example Dom.find(\"div\").toggleClass(\"active\")\n     *\n     * @param {any} cls Class name\n     * @returns {PicoDom} Current instance\n     */\n    toggleClass(cls : any) : PicoDom\n    {\n        if ( this.els.length > 1 ) {\n            return this.each((el : any) => Dom.find(el).toggleClass(cls));\n        }\n\n        if ( this.hasClass(cls) ) {\n            return this.remClass(cls);\n        }\n\n        return this.addClass(cls);\n    }\n\n    /**\n     * Set class by state\n     *\n     * @example Dom.find(\"div\").stateClass(\"active\", true)\n     *\n     * @param {any} cls Class name\n     * @param {boolean} [state] Target state\n     * @returns {PicoDom} Current instance\n     */\n    stateClass(cls : any, state : boolean = true) : PicoDom\n    {\n        if ( this.els.length > 1 ) {\n            return this.each((el : any) => Dom.find(el).stateClass(cls));\n        }\n\n        if ( !state ) {\n            return this.remClass(cls);\n        }\n\n        return this.addClass(cls);\n    }\n\n}\n\n/**\n * @deprecated use Dom.style instead\n */\n// @ts-ignore\nPicoDomAttribute.prototype.css = function(...args : Parameters<typeof PicoDomAttribute.prototype.style>) : any {\n    console.warn('Dom.css() is deprecated, use Dom.style() instead.');\n    return this.style(...args);\n};\n\n/**\n * @deprecated use Dom.remClass instead\n */\n// @ts-ignore\nPicoDomAttribute.prototype.removeClass = function(...args : Parameters<typeof PicoDomAttribute.prototype.remClass>) : any {\n    console.warn('Dom.removeClass() is deprecated, use Dom.remClass() instead.');\n    return this.remClass(...args);\n};\n\nexport default PicoDomAttribute;","import { Arr, Dom, Mix } from \"../index.esm.ts\";\nimport { PicoDomInterface } from \"../utils/Dom.ts\";\nimport PicoDomFinder from \"./DomFinder.js\";\nimport PicoDomRectangle from \"./DomRectangle.js\";\n\nexport interface PicoDomInview extends PicoDomInterface,\n    PicoDomFinder,\n    PicoDomRectangle\n{\n    //\n}\n\n/**\n * @memberof PicoDom\n */\nexport class PicoDomInview\n{\n\n    /**\n     * Get first inview element Y\n     *\n     * @example Dom.inviewMaxY(\".item\")\n     *\n     * @param {any} options Find options\n     * @param {Function} [cb] Success callback\n     * @returns {any} Found element\n     */\n    static inviewMaxY(options : any, cb : Function = null) : any\n    {\n        let defaults = {\n            boundry: null, multiple: false, threshold: 0, mode: 'ratio'\n        };\n\n        if ( Mix.isString(options) ) {\n            options = { el: options };\n        }\n\n        options = {\n            ...defaults, ...options\n        };\n\n        if ( !options.el ) {\n            throw new Error('Dom.inviewY() requires an element.');\n        }\n\n        let args = [\n            options.threshold, options.mode, options.boundry\n        ];\n\n        let fn = (el : any) => {\n            return Dom.find(el).isInviewY(...args);\n        };\n\n        let els = [];\n\n        Dom.find(options.el).each((el : any) => {\n            if ( fn(el) ) (cb ? cb(el) : null, els.push(el));\n        });\n\n        if ( options.multiple ) {\n            return els;\n        }\n\n        return Arr.first(els);\n    }\n\n    /**\n     * Get first inview element X\n     *\n     * @example Dom.inviewMaxX(\".item\")\n     *\n     * @param {any} options Find options\n     * @param {Function} [cb] Success callback\n     * @returns {any} Found element\n     */\n    static inviewMaxX(options : any, cb : Function = null) : any\n    {\n        let defaults = {\n            boundry: null, multiple: false, threshold: 0, mode: 'ratio'\n        };\n\n        if ( Mix.isString(options) ) {\n            options = { el: options };\n        }\n\n        options = {\n            ...defaults, ...options\n        };\n\n        if ( !options.el ) {\n            throw new Error('Dom.inviewX() requires an element.');\n        }\n\n        let args = [\n            options.threshold, options.mode, options.boundry\n        ];\n\n        let fn = (el : any) => {\n            return Dom.find(el).isInviewX(...args);\n        };\n\n        let els = [];\n\n        Dom.find(options.el).each((el : any) => {\n            if ( fn(el) ) (cb ? cb(el) : null, els.push(el));\n        });\n\n        if ( options.multiple ) {\n            return els;\n        }\n\n        return Arr.first(els);\n    }\n\n    /**\n     * Get X view offset\n     *\n     * @example Dom.find(\"div\").viewoffX()\n     *\n     * @returns {any} Offset object\n     */\n    viewoffX() : any\n    {\n        if ( this.el == null ) {\n            return { top: 0, bot: 0 };\n        }\n\n        let [viewport, width] = [\n            Dom.win().innerWidth, this.width()\n        ];\n\n        let [offset, scroll] = [\n            this.offset('left'), this.parent().scroll('left')\n        ];\n\n        let left = Math.max(...[\n            0, offset - scroll\n        ]);\n\n        let right = Math.max(...[\n            0, viewport - (offset + width - scroll)\n        ]);\n\n        return { left, right };\n    }\n\n    /**\n     * Get X inview pixels\n     *\n     * @example Dom.find(\"div\").inviewX()\n     *\n     * @param {any} [boundry] View boundry\n     * @returns {number} Inview pixels\n     */\n    inviewX(boundry : any = null) : number\n    {\n        let { left, right } : any = Dom.find(boundry).viewoffY();\n\n        let [viewport, height] = [\n            Dom.win().innerHeight - right - left, this.height()\n        ];\n\n        let [offset, scroll] = [\n            this.offset('left') + left, this.scroll('left') + left\n        ];\n\n        let inview = Math.max(0, scroll + viewport - offset + left);\n\n        if ( inview > height ) {\n            inview = Math.min(height, viewport + height - inview);\n        }\n\n        return Math.max(0, inview);\n    }\n\n    /**\n     * Get X inview ratio\n     *\n     * @example Dom.find(\"div\").inratioX()\n     *\n     * @param {any} [boundry] View boundry\n     * @returns {number} Inview ratio\n     */\n    inratioX(boundry : any = null) : number\n    {\n        return 1 / this.width() * this.inviewX(boundry);\n    }\n\n    /**\n     * Check if is inview X\n     *\n     * @example Dom.find(\"div\").isInviewX(0.5)\n     *\n     * @param {number} [threshold] View threshold\n     * @param {string} [mode] View mode\n     * @param {any} [boundry] View boundry\n     * @returns {boolean} True if inview\n     */\n    isInviewX(threshold : number = 0.1, mode : string = 'ratio', boundry : any = null) : boolean\n    {\n        if ( mode === 'pixel' ) {\n            return this.inviewX(boundry) > threshold;\n        }\n\n        return this.inratioX(boundry) > threshold;\n    }\n\n    /**\n     * Get Y view offset\n     *\n     * @example Dom.find(\"div\").viewoffY()\n     *\n     * @returns {any} Offset object\n     */\n    viewoffY() : any\n    {\n        if ( this.el == null ) {\n            return { top: 0, bottom: 0 };\n        }\n\n        let [viewport, height] = [\n            Dom.win().innerHeight, this.height()\n        ];\n\n        let [offset, scroll] = [\n            this.offset('top'), this.parent().scroll('top')\n        ];\n\n        let top = Math.max(...[\n            0, offset - scroll\n        ]);\n\n        let bottom = Math.max(...[\n            0, viewport - (offset + height - scroll)\n        ]);\n\n        return { top, bottom };\n    }\n\n    /**\n     * Get Y inview pixels\n     *\n     * @example Dom.find(\"div\").inviewY()\n     *\n     * @param {any} [boundry] View boundry\n     * @returns {number} Inview pixels\n     */\n    inviewY(boundry : any = null) : number\n    {\n        let { top, bottom } : any = Dom.find(boundry).viewoffY();\n\n        let [viewport, height] = [\n            Dom.win().innerHeight - bottom - top, this.height()\n        ];\n\n        let [offset, scroll] = [\n            this.offset('top') + top, this.scroll('top') + top\n        ];\n\n        let inview = Math.max(0, scroll + viewport - offset + top);\n\n        if ( inview > height ) {\n            inview = Math.min(height, viewport + height - inview);\n        }\n\n        return Math.min(Math.max(0, inview), viewport);\n    }\n\n    /**\n     * Get Y inview ratio\n     *\n     * @example Dom.find(\"div\").inratioY()\n     *\n     * @param {any} [boundry] View boundry\n     * @returns {number} Inview ratio\n     */\n    inratioY(boundry : any = null) : number\n    {\n        return 1 / this.height() * this.inviewY(boundry);\n    }\n\n    /**\n     * Check if is inview Y\n     *\n     * @example Dom.find(\"div\").isInviewY(0.5)\n     *\n     * @param {number} [threshold] View threshold\n     * @param {string} [mode] View mode\n     * @param {any} [boundry] View boundry\n     * @returns {boolean} True if inview\n     */\n    isInviewY(threshold : number = 0.1, mode : string = 'ratio', boundry : any = null) : boolean\n    {\n        if ( mode === 'pixel' ) {\n            return this.inviewY(boundry) > threshold;\n        }\n\n        return this.inratioY(boundry) > threshold;\n    }\n}\n\n// @ts-ignore\nPicoDomInview.prototype.inviewHeight = function (...args : Parameters<typeof PicoDomInview.prototype.inviewY>) {\n    console.warn('Dom.inviewHeight() is deprecated, use Dom.inviewY() instead.');\n    return this.inviewY(...args);\n}\n\n// @ts-ignore\nPicoDomInview.prototype.inviewWidth = function (...args : Parameters<typeof PicoDomInview.prototype.inviewX>) {\n    console.warn('Dom.inviewWidth() is deprecated, use Dom.inviewX() instead.');\n    return this.inviewX(...args);\n}\n\nexport default PicoDomInview;","import { Dom, Locale } from \"../index.esm.ts\";\nimport { PicoDom, PicoDomInterface } from \"../utils/Dom.ts\";\n\nexport interface PicoDomMeta extends PicoDomInterface\n{\n    //\n}\n\n/**\n * @memberof PicoDom\n */\nexport class PicoDomMeta\n{\n    /**\n     * @type {any}\n     */\n    static $meta : any = {};\n\n    /**\n     * Set document title\n     *\n     * @example Dom.setMetaTitle(\"Home\")\n     *\n     * @param {string} value New title\n     * @param {string} [glue] Title glue\n     * @returns {PicoDom} Static class\n     */\n    static setMetaTitle(value : string, glue : string = ':value - :title') : PicoDom\n    {\n        if ( !this.$meta.title ) {\n            this.$meta.title = Dom.doc().title;\n        }\n\n        document.title = Locale.replace(glue, {\n            value, title: this.$meta.title\n        });\n\n        return <PicoDom> <unknown> this;\n    }\n\n}\n\n// @ts-ignore\nPicoDomMeta.title = (value : string) => {\n    console.warn('Dom.title() is deprecated, use Dom.setMetaTitle() instead.');\n    return Dom.setMetaTitle(value);\n};\n\nexport default PicoDomMeta;","import { PicoDom, PicoDomInterface } from \"../utils/Dom.ts\";\n\nexport interface PicoDomObserver extends PicoDomInterface\n{\n    //\n}\n\n/**\n * @memberof PicoDom\n */\nexport class PicoDomObserver\n{\n    //\n}\n\nexport default PicoDomObserver;","import { Obj, Dom } from \"../index.esm.ts\";\nimport { PicoDom, PicoDomInterface } from \"../utils/Dom.ts\";\nimport PicoDomRectangle from \"./DomRectangle.js\";\n\nexport interface PicoDomPopover extends PicoDomInterface,\n    PicoDomRectangle\n{\n    //\n}\n\n/**\n * @memberof PicoDom\n */\nexport class PicoDomPopover\n{\n\n    /**\n     * Calculate popover position\n     *\n     * @example Dom.find(\".popover\").popover(\".target\", \"bottom-center\")\n     *\n     * @param {any} target Target element\n     * @param {string} [position] Popover position\n     * @param {any} [options] Popover options\n     * @returns {any} Position result\n     */\n    popover(target : any, position : string = 'botttom-center', options : any = {}) : any\n    {\n        if ( /^(top|bottom)-/.test(position) ) {\n            return this.popoverY(target, position, options);\n        }\n\n        if ( /^(left|right)-/.test(position) ) {\n            return this.popoverX(target, position, options);\n        }\n    }\n\n    /**\n     * Calculate vertical popover position\n     *\n     * @example Dom.find(\".popover\").popoverY(\".target\", \"bottom-center\")\n     *\n     * @param {any} target Target element\n     * @param {string} [position] Popover position\n     * @param {any} [options] Popover options\n     * @returns {any} Position result\n     */\n    popoverY(target : any, position : string = 'bottom-center', options : any = {}) : any\n    {\n        target = Dom.find(target);\n\n        let [rect, self] = [\n            target.rect(), this.rect()\n        ];\n\n        if ( options.x ) {\n            rect = { ...rect, left: options.x, width: 1 };\n        }\n\n        if ( options.y ) {\n            rect = { ...rect, top: options.y, height: 1 };\n        }\n\n        if ( !options.width ) {\n            // self.width = rect.width;\n        }\n\n        let [offset, recto] = [\n            { x: 0, y: 0 }, rect.width - self.width\n        ];\n\n        if ( /^top-/.test(position) ) {\n            offset.y = rect.top - self.height;\n        }\n\n        if ( /^bottom-/.test(position) ) {\n            offset.y = rect.top + rect.height;\n        }\n\n        if ( /-start$/.test(position) ) {\n            offset.x = rect.left;\n        }\n\n        if ( /-center$/.test(position) ) {\n            offset.x = rect.left + (recto * 0.5);\n        }\n\n        if ( /-end$/.test(position) ) {\n            offset.x = rect.left + recto;\n        }\n\n        let inverse = position;\n\n        if ( /^top-/.test(position) ) {\n            inverse = inverse.replace(/^top-/, 'bottom-');\n        }\n\n        if ( /^bottom-/.test(position) ) {\n            inverse = inverse.replace(/^bottom-/, 'top-');\n        }\n\n        let win : any = {\n            x: window.innerWidth, y: window.innerHeight\n        };\n\n        let broken = offset.y + self.height > win.y || offset.y < 0;\n\n        if ( offset.y < 0 ) {\n            broken = true;\n        }\n\n        const rebound = {\n            ...options, offset\n        };\n\n        if ( broken && !options.offset ) {\n            return this.popoverY(target, inverse, rebound);\n        }\n\n        if ( broken && options.offset ) {\n            offset = options.offset;\n        }\n\n        if ( offset.y < 0 ) {\n            offset.y = 0;\n        }\n\n        if ( offset.y + self.height > win.height ) {\n            offset.y = win.height - self.height;\n        }\n\n        let result = this.popoverNormalize(...[\n            offset, self, rect, win\n        ]);\n\n        if ( broken ) {\n            position = 'auto';\n        }\n\n        return { ...result, position };\n    }\n\n    /**\n     * Calculate horizontal popover position\n     *\n     * @example Dom.find(\".popover\").popoverX(\".target\", \"left-center\")\n     *\n     * @param {any} target Target element\n     * @param {string} [position] Popover position\n     * @param {any} [options] Popover options\n     * @returns {any} Position result\n     */\n    popoverX(target : any, position : string = 'left-center', options : any = {}) : any\n    {\n        target = Dom.find(target);\n\n        let [rect, self] = [\n            target.rect(), this.rect()\n        ];\n\n        if ( !options.height ) {\n            // self.height = rect.height;\n        }\n\n        let [offset, recto] = [\n            { x: 0, y: 0 }, rect.height - self.height\n        ];\n\n        if ( /^left-/.test(position) ) {\n            offset.x = rect.left - self.width;\n        }\n\n        if ( /^right-/.test(position) ) {\n            offset.x = rect.left + rect.width;\n        }\n\n        if ( /-start$/.test(position) ) {\n            offset.y = rect.top;\n        }\n\n        if ( /-center/.test(position) ) {\n            offset.y = rect.top + (recto * 0.5);\n        }\n\n        if ( /-end/.test(position) ) {\n            offset.y = rect.top + recto;\n        }\n\n        let inverse = position;\n\n        if ( /^left-/.test(position) ) {\n            inverse = inverse.replace(/^left-/, 'right-');\n        }\n\n        if ( /^right-/.test(position) ) {\n            inverse = inverse.replace(/^right-/, 'left-');\n        }\n\n        let win : any = {\n            x: window.innerWidth, y: window.innerHeight\n        };\n\n        let broken = offset.y + self.height > win.y;\n\n        if ( offset.y < 0 ) {\n            broken = true;\n        }\n\n        const rebound = {\n            ...options, offset\n        };\n\n        if ( broken && !options.offset ) {\n            return this.popoverX(target, inverse, rebound);\n        }\n\n        if ( broken && options.offset ) {\n            offset = options.offset;\n        }\n\n        let result = this.popoverNormalize(...[\n            offset, self, rect, win\n        ]);\n\n        if ( broken ) {\n            position = 'auto';\n        }\n\n        return { ...result, position };\n    }\n\n    /**\n     * Normalize popover position\n     *\n     * @param {any} offset Current offset\n     * @param {any} self Popover size\n     * @param {any} rect Target rect\n     * @param {any} win Window size\n     * @returns {any} Normalized position\n     */\n    popoverNormalize(offset : any, self : any, rect : any, win : any)\n    {\n        const scroll = Dom.find(document.body).scroll();\n\n        if ( offset.y < 0 ) {\n            offset.y = 0;\n        }\n\n        if ( offset.y + self.height > win.y ) {\n            offset.y = win.y - self.height;\n        }\n\n        if ( offset.x < 0 ) {\n            offset.x = 0;\n        }\n\n        const dw = document.body.clientWidth;\n\n        if ( offset.x + self.width > win.x ) {\n            offset.x = win.x - self.width - (win.x - dw);\n        }\n\n        offset = {\n            x: offset.x + scroll.left, y: offset.y + scroll.top\n        }\n\n        Obj.each(offset, (v : any, k : any) => {\n            offset[k] = Math.round(v);\n        });\n\n        offset.self = {\n            width: self.width, height: self.height\n        };\n\n        offset.rect = {\n            width: rect.width, height: rect.height\n        };\n\n        return offset;\n    }\n\n}\n\nexport default PicoDomPopover;","import { trait } from \"../tool/scope.ts\";\nimport { Mix, Dom } from \"../index.esm.ts\";\nimport { PicoDomFinder } from \"../dom/DomFinder.ts\";\nimport { PicoDomForm } from \"../dom/DomForm.ts\";\nimport { PicoDomEvent } from \"../dom/DomEvent.ts\";\nimport { PicoDomBuilder } from \"../dom/DomBuilder.ts\";\nimport { PicoDomGlobal } from \"../dom/DomGlobal.ts\";\nimport { PicoDomRectangle } from \"../dom/DomRectangle.ts\";\nimport { PicoDomAttribute } from \"../dom/DomAttribute.ts\";\nimport { PicoDomInview } from \"../dom/DomInview.ts\";\nimport { PicoDomMeta } from \"../dom/DomMeta.ts\";\nimport { PicoDomObserver } from \"../dom/DomObserver.ts\";\nimport { PicoDomPopover } from \"../dom/DomPopover.ts\";\n\nexport const PicoDomPlugins = [\n    PicoDomFinder,\n    PicoDomGlobal,\n    PicoDomForm,\n    PicoDomEvent,\n    PicoDomBuilder,\n    PicoDomRectangle,\n    PicoDomAttribute,\n    PicoDomInview,\n    PicoDomMeta,\n    PicoDomObserver,\n    PicoDomPopover,\n];\n\nexport interface PicoDomInterface\n{\n    el: any;\n    els: any[];\n    extend(plugin : Function) : void;\n    win() : any;\n    doc() : any;\n    body() : any;\n}\n\nexport interface PicoDom extends\n    PicoDomFinder,\n    PicoDomGlobal,\n    PicoDomForm,\n    PicoDomEvent,\n    PicoDomBuilder,\n    PicoDomRectangle,\n    PicoDomAttribute,\n    PicoDomInview,\n    PicoDomMeta,\n    PicoDomObserver,\n    PicoDomPopover\n{\n    //\n}\n\n/**\n * @class PicoDom\n *\n * @mixes PicoDomFinder\n * @mixes PicoDomGlobal\n * @mixes PicoDomForm\n * @mixes PicoDomEvent\n * @mixes PicoDomBuilder\n * @mixes PicoDomRectangle\n * @mixes PicoDomAttribute\n * @mixes PicoDomInview\n * @mixes PicoDomMeta\n * @mixes PicoDomObserver\n * @mixes PicoDomPopover\n */\nexport class PicoDom extends trait(PicoDomPlugins)\n{\n\n    /**\n     * Init hooks for constructor\n     *\n     * @type {Function[]}\n     */\n    static init : Function[] = [];\n\n    /**\n     * First selected element\n     *\n     * @type {any}\n     */\n    el : any = null;\n\n    /**\n     * All selected elements\n     *\n     * @type {any[]}\n     */\n    els : any[] = [];\n\n    /**\n     * Create Dom wrapper from input\n     *\n     * @example new Dom(\"body\").get(0) // => HTMLElement\n     *\n     * @param {any} el Element or selector\n     * @param {[...any]} args Plugin args\n     */\n    constructor(el : any, ...args : [...any])\n    {\n        super(el, ...args);\n\n        if ( typeof el === 'string' ) {\n            el = document.querySelectorAll(el);\n        }\n\n        if ( el instanceof NodeList ) {\n            el = Mix.nodes(el);\n        }\n\n        if ( el instanceof Dom ) {\n            el = el.el;\n        }\n\n        if ( !Mix.isArr(el) ) {\n            el = [el];\n        }\n\n        (this.el = el[0], this.els = el);\n\n        return this;\n    }\n\n    /**\n     * Create new Dom wrapper\n     *\n     * @example Dom.find(\"body\") // => Dom\n     *\n     * @param {any} el Element or selector\n     * @param {[...any]} args Plugin args\n     * @returns {PicoDom} Dom wrapper\n     */\n    static find(el : any, ...args : [...any]) : PicoDom\n    {\n        return new Dom(el, ...args);\n    }\n\n    /**\n     * Extend Dom with a plugin\n     *\n     * @example Dom.extend(fn)\n     *\n     * @param {Function} plugin Plugin function\n     * @returns {void} No return value\n     */\n    static extend(plugin : Function) : void\n    {\n        plugin.call({}, this);\n    }\n\n    /**\n     * Get window or empty object\n     *\n     * @example Dom.win().innerWidth // => number|undefined\n     *\n     * @returns {any} Window or {}\n     */\n    static win() : any\n    {\n        if ( globalThis.window == null ) {\n            return {};\n        }\n\n        return window;\n    }\n\n    /**\n     * Get document or empty object\n     *\n     * @example Dom.doc().body // => HTMLElement\n     *\n     * @returns {any} Document or {}\n     */\n    static doc() : any\n    {\n        if ( globalThis.document == null ) {\n            return {};\n        }\n\n        return document;\n    }\n\n    /**\n     * Get document.body or empty\n     *\n     * @example Dom.body().nodeType // => 1|undefined\n     *\n     * @returns {any} Body or {}\n     */\n    static body() : any\n    {\n        if ( !this.doc().body ) {\n            return {};\n        }\n\n        return this.doc().body;\n    }\n\n}\n\nexport default PicoDom;","import { Mix } from \"../index.esm.ts\";\n\nexport const TYPE_PARSERS : any[] = [\n    { // null\n        match: (val : any) => {\n            return /^(null|undefined)$/i.test(val);\n        },\n        parse: (val : any) => {\n            return Mix.null(val);\n        }\n    },\n    { // boolean\n        match: (val : any) => {\n            return /^(true|false|yes|no)$/i.test(val);\n        },\n        parse: (val : any) => {\n            return Mix.bool(val);\n        }\n    },\n    { // integer\n        match: (val : any) => {\n            return /^-?[0-9]+$/.test(val);\n        },\n        parse: (val : any) => {\n            return Mix.int(val);\n        }\n    },\n    { // number\n        match: (val : any) => {\n            return /^-?[0-9]+\\.[0-9]+$/.test(val);\n        },\n        parse: (val : any) => {\n            return Mix.num(val);\n        }\n    },\n    { // array\n        match: (val : any) => {\n            return /^[{\\[].*?[}\\]]$/.test(val);\n        },\n        parse: (val : any) => {\n            return JSON.parse(val);\n        }\n    },\n];\n\nexport const TYPE_CASTERS : any[] = [\n    { // array\n        match: (val : any) => {\n            return Mix.isArr(val);\n        },\n        parse: (val : any) => {\n            return JSON.stringify(val);\n        }\n    }\n];\n\nexport interface PicoFormatParser\n{\n    //\n}\n\nexport class PicoFormatParser\n{\n\n    /**\n     * Convert key path format\n     *\n     * @example Format.keyed(\"a[b]\") // => \"a.b\"\n     *\n     * @param {any} value Input key\n     * @param {any} [fallback] Fallback value\n     * @returns {string} Keyed string\n     */\n    static keyed(value : any, fallback : any = null) : string\n    {\n        if ( !Mix.isStr(value) ) {\n            return fallback;\n        }\n\n        if ( value.indexOf('[') === -1 ) {\n            return value;\n        }\n\n        return value.replace(/\\[([^\\]]+)\\]/g, '.$1');\n    }\n\n    /**\n     * Parse value by type\n     *\n     * @example Format.parsed(\"true\") // => true\n     *\n     * @param {any} value Input value\n     * @param {any} [fallback] Fallback value\n     * @param {any[]} [parsers] Custom parsers\n     * @returns {any} Parsed value\n     */\n    static parsed(value : any, fallback : any = null, parsers : any[] = []) : any\n    {\n        if ( !Mix.isStr(value) ) {\n            return fallback;\n        }\n\n        value = value.replace(/(^\"|^'|'$|\"$)/g, '');\n\n        for ( let type of parsers ) {\n            if ( type.match(value) ) return type.parse(value);\n        }\n\n        for ( let type of TYPE_PARSERS ) {\n            if ( type.match(value) ) return type.parse(value);\n        }\n\n        return value;\n    }\n\n    /**\n     * Cast value to string\n     *\n     * @example Format.casted(true) // => \"true\"\n     *\n     * @param {any} value Input value\n     * @param {boolean} [encode] Encode value\n     * @param {any[]} [casters] Custom casters\n     * @returns {string} Casted string\n     */\n    static casted(value : any, encode : boolean = false, casters : any[] = []) : string\n    {\n        if ( encode ) {\n            value = encodeURI(value);\n        }\n\n        if ( Mix.isStr(value) ) {\n            return value;\n        }\n\n        for ( let type of casters ) {\n            if ( type.match(value) ) return type.parse(value);\n        }\n\n        for ( let type of TYPE_CASTERS ) {\n            if ( type.match(value) ) return type.parse(value);\n        }\n\n        return Mix.str(value);\n    }\n}\n\nexport default PicoFormatParser;","import { Arr, Mix, Obj, For } from \"../index.esm.ts\";\n\nexport const PARAM_REGEX = {\n    entry: /(?<=^|&|\\?)(\\s*(?<key>.*?)\\s*=\\s*(?<val>\".*?\"|'.*?'|.*?)\\s*)(?=&|$)/g\n};\n\nexport interface PicoFormatParam\n{\n    //\n}\n\nexport class PicoFormatParam\n{\n    /**\n     * Cast object to params string\n     *\n     * @example Format.castParams({ a: 1 }) // => \"a=1\"\n     *\n     * @param {any} [params] Input params\n     * @returns {string} Params string\n     */\n    static castParams(params : any = {}) : string\n    {\n        if ( Mix.isEmpty(params) ) {\n            return '';\n        }\n\n        let result = Arr.each(params, (val : any, key : any) => {\n            return this.castParam(key, val);\n        });\n\n        return result.join('&');\n    }\n\n    /**\n     * Cast single param to string\n     *\n     * @example Format.castParam(\"a\", 1) // => \"a=1\"\n     *\n     * @param {string} key Param key\n     * @param {any} value Param value\n     * @param {string} [path] Key path\n     * @returns {string} Param string\n     */\n    static castParam(key : string, value : any, path : string = null) : string\n    {\n        if ( path != null ) {\n            key = path + '[' + key + ']';\n        }\n\n        if ( !Mix.isRef(value) ) {\n            return Mix.str(key) + '=' + For.casted(value, true);\n        }\n\n        let result = Arr.each(value, (v : any, k : any) => {\n            return this.castParam(Mix.isArr(value) ? '' : k, v, key);\n        });\n\n        return result.join('&');\n    }\n\n    /**\n     * Parse params string\n     *\n     * @example Format.parseParams(\"a=1\") // => { a: 1 }\n     *\n     * @param {string} value Params string\n     * @returns {any} Params object\n     */\n    static parseParams(value : string) : any\n    {\n        if ( Mix.isEmpty(value) ) {\n            return {};\n        }\n\n        value = decodeURIComponent(value);\n\n        let matches = value.matchAll(...[\n            PARAM_REGEX.entry\n        ]);\n\n        if ( matches == null ) {\n            return {};\n        }\n\n        const [key, val] = [\n            For.keyed, For.parsed\n        ];\n\n        return Arr.reduce(Array.from(matches), (result : any, { groups }) => {\n            return Obj.set(result, key(groups.key), val(groups.val));\n        }, {});\n    }\n\n}\n\nexport default PicoFormatParam;","import { Arr, For, Mix, Obj } from \"../index.esm.ts\";\n\nexport const OPTION_REGEX = {\n    entry: /(^|;)(\\s*(?<key>.*?)\\s*:\\s*(?<val>\".*?\"|'.*?'|.*?)\\s*)(?=;|$)/g\n};\n\nexport interface PicoFormatOption\n{\n    //\n}\n\nexport class PicoFormatOption\n{\n\n    /**\n     * Cast object to options string\n     *\n     * @example Format.castOptions({ a: 1 }) // => \"a: 1;\"\n     *\n     * @param {any} [options] Input options\n     * @param {boolean} [space] Add space\n     * @returns {string} Options string\n     */\n    static castOptions(options : any = {}, space : boolean = true) : string\n    {\n        if ( Mix.isEmpty(options) ) {\n            return '';\n        }\n\n        let result = Arr.each(options, (val : any, key : any) => {\n            return this.castOption(key, val, null, space);\n        });\n\n        return result.join(space ? '; ' : ';') + ';';\n    }\n\n    /**\n     * Cast single option to string\n     *\n     * @example Format.castOption(\"a\", 1) // => \"a: 1\"\n     *\n     * @param {string} key Option key\n     * @param {any} value Option value\n     * @param {string} [path] Key path\n     * @param {boolean} [space] Add space\n     * @returns {string} Option string\n     */\n    static castOption(key : string, value : any, path : string = null, space : boolean = true) : string\n    {\n        if ( path != null ) {\n            key = path + '.' + key;\n        }\n\n        let div = space ? ': ' : ':';\n\n        if ( !Mix.isObj(value) ) {\n            return Mix.str(key) + div + For.casted(value, false);\n        }\n\n        let result = Arr.map(value, (v : any, k : any) => {\n            return this.castOption(k, v, key, space);\n        });\n\n        return result.join(space ? '; ' : ';');\n    }\n\n    /**\n     * Parse options string\n     *\n     * @example Format.parseOptions(\"a: 1;\") // => { a: 1 }\n     *\n     * @param {string} value Options string\n     * @returns {any} Options object\n     */\n    static parseOptions(value : string) : any\n    {\n        if ( Mix.isEmpty(value) ) {\n            return {};\n        }\n\n        let matches = value.matchAll(...[\n            OPTION_REGEX.entry\n        ]);\n\n        if ( matches == null ) {\n            return {};\n        }\n\n        const [key, val] = [\n            For.keyed, For.parsed\n        ];\n\n        return Arr.reduce(Array.from(matches), (result : any, { groups }) => {\n            return Obj.set(result, key(groups.key), val(groups.val));\n        }, {});\n    }\n\n}\n\nexport default PicoFormatOption;","import { Arr } from \"../index.esm.ts\";\n\nexport const SLUG_CONVERT : any[] = [\n    ['', 'a'],\n    ['', 'a'],\n    ['', 'a'],\n    ['', 'e'],\n    ['', 'e'],\n    ['', 'e'],\n    ['', 'i'],\n    ['', 'i'],\n    ['', 'i'],\n    ['', 'i'],\n    ['', 'o'],\n    ['', 'o'],\n    ['', 'o'],\n    ['', 'u'],\n    ['', 'u'],\n    ['', 'u'],\n    ['', 'n'],\n    ['', 'c'],\n    ['.', '-'],\n    ['', '-'],\n    ['/', '-'],\n    ['_', '-'],\n    [',', '-'],\n    [':', '-'],\n    [';', '-'],\n    ['', 'ae'],\n    ['', 'oe'],\n    ['', 'ue'],\n    ['', 'ss'],\n];\n\nexport interface PicoFormatUrl\n{\n    //\n}\n\nexport class PicoFormatUrl\n{\n    /**\n     * Create slug from string\n     *\n     * @example Format.slugify(\"Hello World\") // => \"hello-world\"\n     *\n     * @param {any} value Input string\n     * @returns {string} Slug string\n     */\n    static slugify(value : any) : string\n    {\n        value = String(value).replace(/(^\\s+|\\s+$)/g, '')\n            .toLowerCase();\n\n        Arr.each(SLUG_CONVERT, (v) => {\n            value = value.replaceAll(v[0], v[1]);\n        });\n\n        return value.replace(/[^a-z0-9-\\s]+/g, '')\n            .replace(/\\s+/g, '-').replace(/-+/g, '-');\n    }\n\n}\n\nexport default PicoFormatUrl;","import { Mix, Num } from \"../index.esm.ts\";\n\nexport const FILE_UNITS = [\n    'B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'\n];\n\nexport interface PicoFormatFile\n{\n    //\n}\n\nexport class PicoFormatFile\n{\n    /**\n     * Format file size\n     *\n     * @example Format.filesize(1000) // => \"1.0 KB\"\n     *\n     * @param {any} value Bytes value\n     * @param {number} [decimals] Decimal points\n     * @returns {string} Formatted size\n     */\n    static filesize(value : any, decimals : number = 1) : string\n    {\n        if ( !Mix.isNum(value) ) {\n            value = Mix.num(value, 0);\n        }\n\n        let fn = (i : any) => {\n            return Num.fixed(value / Math.pow(1000, i), decimals);\n        }\n\n        for ( let i = 0; i < FILE_UNITS.length; i++ ) {\n            if ( value <= Math.pow(1000, i + 1) ) {\n                return fn(i) + ' ' + FILE_UNITS[i]\n            }\n        }\n\n        return fn(FILE_UNITS.length);\n    }\n\n}\n\nexport default PicoFormatFile;","import { trait } from \"../tool/scope.ts\";\nimport { PicoFormatParser } from \"../format/FormatParser.ts\";\nimport { PicoFormatParam } from \"../format/FormatParam.ts\";\nimport { PicoFormatOption } from \"../format/FormatOption.ts\";\nimport { PicoFormatUrl } from \"../format/FormatUrl.ts\";\nimport { PicoFormatFile } from \"../format/FormatFile.ts\";\n\nexport const PicoFormatPlugins = [\n    PicoFormatParser,\n    PicoFormatParam,\n    PicoFormatOption,\n    PicoFormatUrl,\n    PicoFormatFile,\n];\n\nexport interface PicoFormatInterface\n{\n    extend(plugin : Function) : void;\n}\n\nexport interface PicoFormat extends PicoFormatParser,\n    PicoFormatParam,\n    PicoFormatOption,\n    PicoFormatUrl,\n    PicoFormatFile\n{\n    //\n}\n\nexport class PicoFormat extends trait(PicoFormatPlugins)\n{\n\n    /**\n     * Extend format with a plugin\n     *\n     * @example For.extend(fn)\n     *\n     * @param {Function} plugin Plugin function\n     * @returns {void} No return value\n     */\n    static extend(plugin : Function) : void\n    {\n        plugin.call({}, this);\n    }\n\n}\n\nexport default PicoFormat;","import { Arr, Num, Signal, Mix, Obj } from \"../index.esm.ts\";\n\nexport class PicoData\n{\n    /**\n     * In-memory data store\n     *\n     * @type {any}\n     */\n    static $data : any = {};\n\n    /**\n     * Check if store key exists\n     *\n     * @example Data.has([\"x\"]) // => true|false\n     *\n     * @param {any} input Store key input\n     * @returns {boolean} True if exists\n     */\n    static has(input : any) : boolean\n    {\n        return Obj.has(this.$data, ...[\n            Arr.first(input)\n        ]);\n    }\n\n    /**\n     * Set store key and fire event\n     *\n     * @example Data.set([\"x\"], 1)\n     * @example Data.set([\"x\"], {a:1})\n     *\n     * @param {any} input Store key input\n     * @param {any} value Value to set\n     * @returns {void} No return value\n     */\n    static set(input : any, value : any) : void\n    {\n        let [stored, key] = [\n            null, Arr.first(input)\n        ];\n\n        if ( Obj.has(this.$data, key) ) {\n            stored = Obj.get(this.$data, key);\n        }\n\n        if ( Mix.isEqual(stored, value) ) {\n            return;\n        }\n\n        Obj.set(...[\n            this.$data, key, value\n        ]);\n\n        Signal.fire('store:' + key, value, key);\n    }\n\n    /**\n     * Remove store key\n     *\n     * @example Data.unset([\"x\"])\n     *\n     * @param {any} input Store key input\n     * @returns {void} No return value\n     */\n    static unset(input : any) : void\n    {\n        Obj.unset(this.$data, [\n            ...Arr.first(input)\n        ]);\n    }\n\n    /**\n     * Get stored value (cloned)\n     *\n     * @example Data.get([\"x\"], null) // => value\n     * @example Data.get([\"x\"], 1, true) // set+get\n     *\n     * @param {any} input Store key input\n     * @param {any} [fallback] Fallback value\n     * @param {boolean} [forceSet] Set if missing\n     * @returns {any} Stored value\n     */\n    static get(input : any, fallback : any = null, forceSet : boolean = false) : any\n    {\n        let key = Arr.first(input);\n\n        if ( !Obj.has(this.$data, key) && !forceSet ) {\n            return fallback;\n        }\n\n        if ( Obj.has(this.$data, key) && forceSet ) {\n            Obj.set(this.$data, key, fallback);\n        }\n\n        let value = Obj.get(this.$data, key, fallback);\n\n        if ( !Mix.isObj(value) ) {\n            return value;\n        }\n\n        return Obj.clone(value);\n    }\n\n    /**\n     * Find item by id in array store\n     *\n     * @example Data.find([\"list\"], {id:1})\n     *\n     * @param {any} input Store key input\n     * @param {any} value Search value\n     * @param {any} [fallback] Fallback value\n     * @returns {any} Found item\n     */\n    static find(input : any, value : any, fallback : any = null) : any\n    {\n        let key = Arr.first(input);\n\n        if ( Obj.has(this.$data, key) === false ) {\n            return fallback;\n        }\n\n        if ( Obj.has(value, 'id') === false ) {\n            return fallback;\n        }\n\n        let index = Arr.findIndex(this.get(key), {\n            id: value.id\n        });\n\n        if ( index === -1 ) {\n            return fallback;\n        }\n\n        return this.get(key + '.' + index);\n    }\n\n    /**\n     * Replace item by id in array store\n     *\n     * @example Data.replace([\"list\"], {id:1})\n     *\n     * @param {any} input Store key input\n     * @param {any} value Item to replace\n     * @returns {void} No return value\n     */\n    static replace(input : any, value : any) : void\n    {\n        let key = Arr.first(input);\n\n        if ( Obj.has(this.$data, key) === false ) {\n            return;\n        }\n\n        if ( Obj.has(value, 'id') === false ) {\n            return;\n        }\n\n        let index = Arr.findIndex(this.get(key), {\n            id: Num.int(value.id)\n        });\n\n        if ( index === -1 ) {\n            return;\n        }\n\n        this.set(key + '.' + index, value);\n    }\n\n    /**\n     * Add items to array store\n     *\n     * @example Data.add([\"list\"], 1, 2)\n     *\n     * @param {any} input Store key input\n     * @param {[...any]} args Items to add\n     * @returns {void} No return value\n     */\n    static add(input : any, ...args : [...any]) : void\n    {\n        this.set(input, Arr.merge(this.get(input, []), args));\n    }\n\n    /**\n     * Remove items from array store\n     *\n     * @example Data.remove([\"list\"], 1)\n     *\n     * @param {any} input Store key input\n     * @param {[...any]} args Items to remove\n     * @returns {void} No return value\n     */\n    static remove(input : any, ...args : [...any]) : void\n    {\n        this.set(input, Arr.diff(this.get(input, []), args));\n    }\n\n}\n\nexport default PicoData;","import { For, Mix, Obj } from \"../index.esm.ts\";\n\nexport class PicoRoute\n{\n    /**\n     * @type {any}\n     */\n    static $routes : any = {};\n\n    /**\n     * Store route template by key\n     *\n     * @example Route.set(\"home\", \"/\") // stores\n     *\n     * @param {string} key Route key\n     * @param {string} value Route template\n     * @returns {void} No return value\n     */\n    static set(key : string, value : string) : void\n    {\n        this.$routes[key] = value;\n    }\n\n    /**\n     * Build route URL from template\n     *\n     * @example Route.get(\"home\") // => \"/\"\n     * @example Route.get(\"/u/:id\", {id:1}) // => \"/u/1\"\n     *\n     * @param {string} key Route key or url\n     * @param {any} [values] Token values\n     * @param {any} [query] Query params\n     * @returns {string} Built url\n     */\n    static get(key : string, values : any = null, query : any = null) : string\n    {\n        let route = key;\n\n        if ( !/^https?:\\/\\//.test(route) ) {\n            route = this.$routes[key] || key\n        }\n\n        Obj.each(values, (val : any, key : any) => {\n            route = route.replace(new RegExp('{' + key + '}', 'g'), val);\n        });\n\n        if ( !Mix.isEmpty(query) ) {\n            route += '?' + For.castParams(query);\n        }\n\n        return route;\n    }\n\n    /**\n     * Navigate to built route URL\n     *\n     * @example Route.goto(\"home\")\n     *\n     * @param {string} key Route key or url\n     * @param {any} [values] Token values\n     * @param {any} [params] Query params\n     * @returns {void} No return value\n     */\n    static goto(key : string, values : any = null, params : any = null) : void\n    {\n        window.location.href = this.get(key, values, params);\n    }\n\n}\n\nexport default PicoRoute;","import { default as Run } from \"./utils/Runner.ts\";\nimport { default as Str } from \"./utils/String.ts\";\nimport { default as Num } from \"./utils/Number.ts\";\nimport { default as Arr } from \"./utils/Array.ts\";\nimport { default as Obj } from \"./utils/Object.ts\";\nimport { default as Mix } from \"./utils/Mixed.ts\";\nimport { default as Hash } from \"./utils/Hash.ts\";\nimport { default as Signal } from \"./utils/Signal.ts\";\nimport { default as Locale } from \"./utils/Locale.ts\";\nimport { default as Cookie } from \"./utils/Cookie.ts\";\nimport { default as Now } from \"./utils/Now.ts\";\nimport { default as Dom } from \"./utils/Dom.ts\";\nimport { default as For } from \"./utils/Format.ts\";\n\nexport {\n    Dom, Now, For, Run, Str, Num, Arr, Obj, Mix, Hash, Signal, Locale, Cookie\n};\n\nimport { go, browser, device, trait } from \"./tool/scope.ts\";\nexport { go, browser, device, trait };\n\n// You will be removed soon\nimport { default as Data } from \"./utils/Data.ts\";\nimport { default as Route } from \"./utils/Route.ts\";\n\nexport {\n    Route, Data\n}\n\n// Work in progress (not started yet)\n// import { default as Map } from \"./wip/Map.ts\";\n// import { default as Element } from \"./wip/Element.ts\";\n\n// export {\n//     Map, Element\n// }\n\n/**\n * @type {Mix}\n */\nexport const Any : Mix = new Proxy({}, {\n    get: function (target : any, prop : string) {\n        console.warn(`Any.${prop} is deprecated, use Mix.${prop}() instead.`);\n        return (...args : any[]) => Mix[prop](...args);\n    }\n});\n\n/**\n * @type {Signal}\n */\nexport const Event : Signal = new Proxy({}, {\n    get: function (target : any, prop : string) {\n        console.warn(`Event.${prop} is deprecated, use Signal.${prop}() instead.`);\n        return (...args : any[]) => Signal[prop](...args);\n    }\n});\n\n/**\n * @returns {string}\n */\nexport const UUID = function () : string {\n    console.warn('UUID() is deprecated, use Hash.make() instead.');\n    return Hash.make();\n};","import * as pi from \"./index.esm.ts\";\n\ntype Pico = {\n    // Active\n    Dom: typeof pi.Dom,\n    Now: typeof pi.Now,\n    For: typeof pi.For,\n    Run: typeof pi.Run,\n    Str: typeof pi.Str,\n    Num: typeof pi.Num,\n    Arr: typeof pi.Arr,\n    Obj: typeof pi.Obj,\n    Mix: typeof pi.Mix,\n    Hash: typeof pi.Hash,\n    Signal: typeof pi.Signal,\n    Locale: typeof pi.Locale,\n    Cookie: typeof pi.Cookie,\n    // Legacy\n    Route: typeof pi.Route,\n    Data: typeof pi.Data,\n    // Polyfill\n    Any: typeof pi.Any,\n    Event: typeof pi.Event,\n    UUID: typeof pi.UUID,\n}\nglobalThis.pi = pi;\n\nglobalThis.addEventListener && globalThis.addEventListener('beforeunload', () => {\n    pi.Arr.map(pi.Dom.$events, ({ el, cb, event }) => {\n        return (el.removeEventListener(event, cb), null);\n    });\n});"],"names":["__webpack_require__","exports","definition","key","o","Object","defineProperty","enumerable","get","g","globalThis","this","Function","e","window","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","PicoRunner","interval","fn","intval","idle","setInterval","clearInterval","clear","timer","Mix","isArr","Arr","each","t","isFunc","clearTimeout","tryin","cb","wait","limit","idler","setTimeout","frame","requestAnimationFrame","cancelAnimationFrame","async","delay","debounce","timeout","args","throttle","queued","framerate","fps","finish","last","hertz","Date","now","framebuffer","priority","item","active","add","$buffer","test","type","preventDefault","Obj","assign","runFramebuffer","$idler","$timer","buffer","filter","length","sort","reverse","_defineProperty","PicoString","index","isStr","str","isInt","int","charAt","set","replace","substring","search","isNull","indexOf","extract","range","slice","match","pattern","result","isEmpty","regex","uc","toUpperCase","ucfirst","lc","toLowerCase","lcfirst","cc","For","slugify","split","v","i","join","kc","sc","pc","has","fallback","start","string","empty","html","boolean","yes","no","bool","number","fixed","locale","config","isNum","Locale","code","_objectSpread","maximumFractionDigits","minimumFractionDigits","num","toLocaleString","integer","leading","padding","padStart","datetime","format","isDate","Now","make","valid","date","time","objectify","mode","toarray","isRef","parseParams","parseOptions","JSON","parse","vals","stringify","castParams","castOptions","_PicoString","regexEscape","console","warn","Str","humancase","options","fromOptions","params","fromParams","filesize","real","error","array","PicoNumber","decimals","toFixed","float","parseFloat","parseInt","ceil","Math","floor","round","minmax","min","max","Number","MAX_SAFE_INTEGER","combine","reduce","acc","val","subtract","decade","matrix","base","pow","push","distance","cord1","cord2","miles","cord","lat","lng","radlat1","PI","radlat2","radtheta","dist","sin","cos","acos","random","Hash","PicoArray","all","target","splice","unset","prev","next","Array","isPrim","findIndex","unique","keys","lengths","first","second","third","retval","isObj","eachObj","map","recursive","cascade","cas","clone","childs","cascadeFind","cascadeMap","filterIndex","includes","filterRemove","indexes","splices","find","sortFunc","sortDeep","sortPrim","a","b","compare","merge","concat","prepend","unshift","append","finder","remove","toggle","insert","indexies","diff","c","isect","callback","accumulator","chunk","res","contains","arr","matches","_PicoArray","removeIndex","sortString","equal","PicoObject","keyoptim","flatten","isstr","undefined","list","pop","nested","mod","src","String","prefix","flattenForm","unpack","pluck","only","except","values","MIX_REGEX","PicoMixed","len","isUndef","isNix","isBool","constructor","isIter","entries","isIsoDate","iso","isTime","isEqual","Node","isEqualNode","is","iter","toJSON","go","chrome","nodes","props","exclude","getOwnPropertyNames","extend","proto","getPrototypeOf","desc","getOwnPropertyDescriptor","class","form","FormData","Error","collator","null","toString","NaN","_PicoMixed","global","isPlain","Run","convertString","convertDatetime","convertBool","convertBoolean","RADIX_UUID","RADIX_UP19","radix_symbol_pass","PicoHash","radix","RADIX","hash","k","uuid","version","password","symbols","PicoSignal","bind","event","paused","id","$events","unbind","fire","events","pause","unpause","arguments","PicoLocale","$text","$code","navigator","language","$sort","Intl","Collator","numeric","sensitivity","text","RegExp","trans","choice","count","countpick","splits","COOKIE_REGEX","entry","PicoCookie","document","cookie","fresh","$cookie","matchAll","from","groups","replaceAll","decode","expire","expires","toUTC","path","plain","forget","browser","scope","agent","userAgent","safari","firefox","edge","piuag","device","win","osx","gnu","ios","oid","piudv","trait","traited","NOW_MODIFY","PicoNowDefault","getTime","getSeconds","getMinutes","getHours","getDay","getDate","getMonth","getFullYear","day","setTime","setSeconds","setMinutes","setHours","setDate","setMonth","setFullYear","minute","hour","month","year","shortyear","sub","isModifible","modify","f","apply","applyDate","applyTime","addSecond","subSecond","addMinute","subMinute","addHour","subHour","addDates","subDates","addMonths","subMonths","addYears","subYears","addDecades","subDecades","humanDay","humanMonth","NOW_FORMAT","NOW_PARSE","PicoNowFormat","isParsable","parseFormat","human","PicoNowMatch","before","beforeDate","beforeTime","after","afterDate","afterTime","equalDate","equalTime","between","end","dates","PicoNowGrid","grid","getSecondsGrid","getMinutesGrid","getHoursGrid","getDaysGrid","getDatesGrid","getMonthsGrid","getYearsGrid","getDecadesGrid","getYears","getMonths","getDates","PicoNowWalker","prevSecond","nextSecond","prevMinute","nextMinute","prevHour","nextHour","prevDate","nextDate","prevMonth","nextMonth","prevYear","nextYear","prevDecade","nextDecade","firstSecond","firstMinute","firstHour","firstDay","firstDate","firstMonth","firstYear","firstDecade","lastSecond","lastMinute","lastHour","lastDay","lastDate","lastMonth","lastYear","lastDecade","nthYear","n","nthDecade","PicoNowRange","getDatesRange","NOW_HUMAN_DAYS","NOW_HUMAN_MONTHS","PicoNowHuman","substr","getHumanDay","getHumanMonth","PicoNowPlugins","PicoNow","super","input","toDate","init","plugin","reset","isNaN","toUTCString","resetTime","PicoDomFinder","filterNodes","el","nodeType","getNodePoint","touches","clientX","clientY","Dom","doc","elementsFromPoint","msElementsFromPoint","getNodeEvent","selector","srcElement","closest","getNodeType","getNodeParent","parentNode","getNodePrev","previousSibling","getNodeNext","nextSibling","getNodeChilds","childNodes","sanatize","els","Window","body","querySelectorAll","offset","loopParent","boundry","parent","child","upnode","visible","above","inside","isParent","previous","where","not","getNot","PicoDomForm","PicoDomEvent","addEventListener","removeEventListener","on","off","optoff","removeAllListeners","once","live","detail","CustomEvent","dispatchEvent","pointerdown","button","rect","x","y","left","width","top","height","PointerEvent","view","bubbles","cancelable","buttons","one","delayed","PicoDomBuilder","createElement","ini","prependTo","appendTo","insertBefore","removeChild","PicoDomGlobal","getDomState","readyState","isDomReady","isDomComplete","state","ready","complete","isNodeComplete","naturalWidth","naturalHeight","loaded","required","PicoDomRectangle","getBoundingClientRect","margin","computed","marginTop","right","marginRight","bottom","marginBottom","marginLeft","paddingTop","paddingRight","paddingBottom","paddingLeft","innerHeight","offsetHeight","clientHeight","scrollHeight","pad","realHeight","style","actual","evaluateHeight","display","innerWidth","offsetWidth","clientWidth","scrollWidth","realWidth","evaluateWidth","getOffset","offsetTop","offsetBottom","offsetLeft","offsetRight","loopOffset","offsetParent","calcOffset","size","source","scroll","getScroll","scrollTop","scrollLeft","pageYOffset","pageXOffset","loopOffsetParent","scrollTopGlobal","scrollLeftGlobal","PicoDomAttribute","attr","getAttribute","removeAttribute","setAttribute","data","getComputedStyle","styles","translate","transform","classes","innerHTML","backup","hasClass","cls","addClass","className","remClass","toggleClass","stateClass","css","removeClass","PicoDomInview","inviewMaxY","isString","multiple","threshold","isInviewY","inviewMaxX","isInviewX","viewoffX","bot","viewport","inviewX","viewoffY","inview","inratioX","inviewY","inratioY","inviewHeight","inviewWidth","PicoDomMeta","setMetaTitle","glue","$meta","title","PicoDomObserver","PicoDomPopover","popover","position","popoverY","popoverX","self","recto","inverse","broken","rebound","popoverNormalize","dw","PicoDomPlugins","PicoDom","NodeList","TYPE_PARSERS","TYPE_CASTERS","PicoFormatParser","keyed","parsed","parsers","casted","encode","casters","encodeURI","PARAM_REGEX","PicoFormatParam","castParam","decodeURIComponent","OPTION_REGEX","PicoFormatOption","space","castOption","div","SLUG_CONVERT","PicoFormatUrl","FILE_UNITS","PicoFormatFile","Num","PicoFormatPlugins","PicoFormat","PicoData","$data","stored","Signal","forceSet","PicoRoute","$routes","query","route","goto","location","href","Any","Proxy","Event","UUID","pi"],"sourceRoot":""}